function Pb(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Ol(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ic={exports:{}},co={},zc={exports:{}},De={};var cm;function Ob(){if(cm)return De;cm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function E(A,W,T){this.props=A,this.context=W,this.refs=_,this.updater=T||v}E.prototype.isReactComponent={},E.prototype.setState=function(A,W){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,W,"setState")},E.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function j(){}j.prototype=E.prototype;function I(A,W,T){this.props=A,this.context=W,this.refs=_,this.updater=T||v}var z=I.prototype=new j;z.constructor=I,k(z,E.prototype),z.isPureReactComponent=!0;var V=Array.isArray,G=Object.prototype.hasOwnProperty,L={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function fe(A,W,T){var Ee,Ie={},Se=null,Ue=null;if(W!=null)for(Ee in W.ref!==void 0&&(Ue=W.ref),W.key!==void 0&&(Se=""+W.key),W)G.call(W,Ee)&&!ne.hasOwnProperty(Ee)&&(Ie[Ee]=W[Ee]);var ze=arguments.length-2;if(ze===1)Ie.children=T;else if(1<ze){for(var Me=Array(ze),rt=0;rt<ze;rt++)Me[rt]=arguments[rt+2];Ie.children=Me}if(A&&A.defaultProps)for(Ee in ze=A.defaultProps,ze)Ie[Ee]===void 0&&(Ie[Ee]=ze[Ee]);return{$$typeof:e,type:A,key:Se,ref:Ue,props:Ie,_owner:L.current}}function ye(A,W){return{$$typeof:e,type:A.type,key:W,ref:A.ref,props:A.props,_owner:A._owner}}function ke(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function ce(A){var W={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(T){return W[T]})}var q=/\/+/g;function ae(A,W){return typeof A=="object"&&A!==null&&A.key!=null?ce(""+A.key):W.toString(36)}function re(A,W,T,Ee,Ie){var Se=typeof A;(Se==="undefined"||Se==="boolean")&&(A=null);var Ue=!1;if(A===null)Ue=!0;else switch(Se){case"string":case"number":Ue=!0;break;case"object":switch(A.$$typeof){case e:case t:Ue=!0}}if(Ue)return Ue=A,Ie=Ie(Ue),A=Ee===""?"."+ae(Ue,0):Ee,V(Ie)?(T="",A!=null&&(T=A.replace(q,"$&/")+"/"),re(Ie,W,T,"",function(rt){return rt})):Ie!=null&&(ke(Ie)&&(Ie=ye(Ie,T+(!Ie.key||Ue&&Ue.key===Ie.key?"":(""+Ie.key).replace(q,"$&/")+"/")+A)),W.push(Ie)),1;if(Ue=0,Ee=Ee===""?".":Ee+":",V(A))for(var ze=0;ze<A.length;ze++){Se=A[ze];var Me=Ee+ae(Se,ze);Ue+=re(Se,W,T,Me,Ie)}else if(Me=b(A),typeof Me=="function")for(A=Me.call(A),ze=0;!(Se=A.next()).done;)Se=Se.value,Me=Ee+ae(Se,ze++),Ue+=re(Se,W,T,Me,Ie);else if(Se==="object")throw W=String(A),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Ue}function J(A,W,T){if(A==null)return A;var Ee=[],Ie=0;return re(A,Ee,"","",function(Se){return W.call(T,Se,Ie++)}),Ee}function ve(A){if(A._status===-1){var W=A._result;W=W(),W.then(function(T){(A._status===0||A._status===-1)&&(A._status=1,A._result=T)},function(T){(A._status===0||A._status===-1)&&(A._status=2,A._result=T)}),A._status===-1&&(A._status=0,A._result=W)}if(A._status===1)return A._result.default;throw A._result}var be={current:null},X={transition:null},le={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:X,ReactCurrentOwner:L};function S(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:J,forEach:function(A,W,T){J(A,function(){W.apply(this,arguments)},T)},count:function(A){var W=0;return J(A,function(){W++}),W},toArray:function(A){return J(A,function(W){return W})||[]},only:function(A){if(!ke(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},De.Component=E,De.Fragment=n,De.Profiler=o,De.PureComponent=I,De.StrictMode=r,De.Suspense=h,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,De.act=S,De.cloneElement=function(A,W,T){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var Ee=k({},A.props),Ie=A.key,Se=A.ref,Ue=A._owner;if(W!=null){if(W.ref!==void 0&&(Se=W.ref,Ue=L.current),W.key!==void 0&&(Ie=""+W.key),A.type&&A.type.defaultProps)var ze=A.type.defaultProps;for(Me in W)G.call(W,Me)&&!ne.hasOwnProperty(Me)&&(Ee[Me]=W[Me]===void 0&&ze!==void 0?ze[Me]:W[Me])}var Me=arguments.length-2;if(Me===1)Ee.children=T;else if(1<Me){ze=Array(Me);for(var rt=0;rt<Me;rt++)ze[rt]=arguments[rt+2];Ee.children=ze}return{$$typeof:e,type:A.type,key:Ie,ref:Se,props:Ee,_owner:Ue}},De.createContext=function(A){return A={$$typeof:l,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:a,_context:A},A.Consumer=A},De.createElement=fe,De.createFactory=function(A){var W=fe.bind(null,A);return W.type=A,W},De.createRef=function(){return{current:null}},De.forwardRef=function(A){return{$$typeof:c,render:A}},De.isValidElement=ke,De.lazy=function(A){return{$$typeof:m,_payload:{_status:-1,_result:A},_init:ve}},De.memo=function(A,W){return{$$typeof:f,type:A,compare:W===void 0?null:W}},De.startTransition=function(A){var W=X.transition;X.transition={};try{A()}finally{X.transition=W}},De.unstable_act=S,De.useCallback=function(A,W){return be.current.useCallback(A,W)},De.useContext=function(A){return be.current.useContext(A)},De.useDebugValue=function(){},De.useDeferredValue=function(A){return be.current.useDeferredValue(A)},De.useEffect=function(A,W){return be.current.useEffect(A,W)},De.useId=function(){return be.current.useId()},De.useImperativeHandle=function(A,W,T){return be.current.useImperativeHandle(A,W,T)},De.useInsertionEffect=function(A,W){return be.current.useInsertionEffect(A,W)},De.useLayoutEffect=function(A,W){return be.current.useLayoutEffect(A,W)},De.useMemo=function(A,W){return be.current.useMemo(A,W)},De.useReducer=function(A,W,T){return be.current.useReducer(A,W,T)},De.useRef=function(A){return be.current.useRef(A)},De.useState=function(A){return be.current.useState(A)},De.useSyncExternalStore=function(A,W,T){return be.current.useSyncExternalStore(A,W,T)},De.useTransition=function(){return be.current.useTransition()},De.version="18.3.1",De}var dm;function Vd(){return dm||(dm=1,zc.exports=Ob()),zc.exports}var hm;function Ab(){if(hm)return co;hm=1;var e=Vd(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,f){var m,g={},b=null,v=null;f!==void 0&&(b=""+f),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(v=h.ref);for(m in h)r.call(h,m)&&!a.hasOwnProperty(m)&&(g[m]=h[m]);if(c&&c.defaultProps)for(m in h=c.defaultProps,h)g[m]===void 0&&(g[m]=h[m]);return{$$typeof:t,type:c,key:b,ref:v,props:g,_owner:o.current}}return co.Fragment=n,co.jsx=l,co.jsxs=l,co}var fm;function Rb(){return fm||(fm=1,Ic.exports=Ab()),Ic.exports}var w=Rb(),Z=Vd();const st=Ol(Z),Ib=Pb({__proto__:null,default:st},[Z]);var il={},Lc={exports:{}},en={},$c={exports:{}},Dc={};var pm;function zb(){return pm||(pm=1,(function(e){function t(X,le){var S=X.length;X.push(le);e:for(;0<S;){var A=S-1>>>1,W=X[A];if(0<o(W,le))X[A]=le,X[S]=W,S=A;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var le=X[0],S=X.pop();if(S!==le){X[0]=S;e:for(var A=0,W=X.length,T=W>>>1;A<T;){var Ee=2*(A+1)-1,Ie=X[Ee],Se=Ee+1,Ue=X[Se];if(0>o(Ie,S))Se<W&&0>o(Ue,Ie)?(X[A]=Ue,X[Se]=S,A=Se):(X[A]=Ie,X[Ee]=S,A=Ee);else if(Se<W&&0>o(Ue,S))X[A]=Ue,X[Se]=S,A=Se;else break e}}return le}function o(X,le){var S=X.sortIndex-le.sortIndex;return S!==0?S:X.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],f=[],m=1,g=null,b=3,v=!1,k=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(X){for(var le=n(f);le!==null;){if(le.callback===null)r(f);else if(le.startTime<=X)r(f),le.sortIndex=le.expirationTime,t(h,le);else break;le=n(f)}}function V(X){if(_=!1,z(X),!k)if(n(h)!==null)k=!0,ve(G);else{var le=n(f);le!==null&&be(V,le.startTime-X)}}function G(X,le){k=!1,_&&(_=!1,j(fe),fe=-1),v=!0;var S=b;try{for(z(le),g=n(h);g!==null&&(!(g.expirationTime>le)||X&&!ce());){var A=g.callback;if(typeof A=="function"){g.callback=null,b=g.priorityLevel;var W=A(g.expirationTime<=le);le=e.unstable_now(),typeof W=="function"?g.callback=W:g===n(h)&&r(h),z(le)}else r(h);g=n(h)}if(g!==null)var T=!0;else{var Ee=n(f);Ee!==null&&be(V,Ee.startTime-le),T=!1}return T}finally{g=null,b=S,v=!1}}var L=!1,ne=null,fe=-1,ye=5,ke=-1;function ce(){return!(e.unstable_now()-ke<ye)}function q(){if(ne!==null){var X=e.unstable_now();ke=X;var le=!0;try{le=ne(!0,X)}finally{le?ae():(L=!1,ne=null)}}else L=!1}var ae;if(typeof I=="function")ae=function(){I(q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,J=re.port2;re.port1.onmessage=q,ae=function(){J.postMessage(null)}}else ae=function(){E(q,0)};function ve(X){ne=X,L||(L=!0,ae())}function be(X,le){fe=E(function(){X(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){k||v||(k=!0,ve(G))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(X){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var S=b;b=le;try{return X()}finally{b=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var S=b;b=X;try{return le()}finally{b=S}},e.unstable_scheduleCallback=function(X,le,S){var A=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?A+S:A):S=A,X){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=S+W,X={id:m++,callback:le,priorityLevel:X,startTime:S,expirationTime:W,sortIndex:-1},S>A?(X.sortIndex=S,t(f,X),n(h)===null&&X===n(f)&&(_?(j(fe),fe=-1):_=!0,be(V,S-A))):(X.sortIndex=W,t(h,X),k||v||(k=!0,ve(G))),X},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(X){var le=b;return function(){var S=b;b=le;try{return X.apply(this,arguments)}finally{b=S}}}})(Dc)),Dc}var mm;function Lb(){return mm||(mm=1,$c.exports=zb()),$c.exports}var gm;function $b(){if(gm)return en;gm=1;var e=Vd(),t=Lb();function n(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){l(i,s),l(i+"Capture",s)}function l(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function b(i){return h.call(g,i)?!0:h.call(m,i)?!1:f.test(i)?g[i]=!0:(m[i]=!0,!1)}function v(i,s,u,d){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,s,u,d){if(s===null||typeof s>"u"||v(i,s,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function _(i,s,u,d,p,y,x){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=u,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=x}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){E[i]=new _(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];E[s]=new _(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){E[i]=new _(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){E[i]=new _(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){E[i]=new _(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){E[i]=new _(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){E[i]=new _(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){E[i]=new _(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){E[i]=new _(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function I(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(j,I);E[s]=new _(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(j,I);E[s]=new _(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(j,I);E[s]=new _(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){E[i]=new _(i,1,!1,i.toLowerCase(),null,!1,!1)}),E.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){E[i]=new _(i,1,!1,i.toLowerCase(),null,!0,!0)});function z(i,s,u,d){var p=E.hasOwnProperty(s)?E[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,u,p,d)&&(u=null),d||p===null?b(s)&&(u===null?i.removeAttribute(s):i.setAttribute(s,""+u)):p.mustUseProperty?i[p.propertyName]=u===null?p.type===3?!1:"":u:(s=p.attributeName,d=p.attributeNamespace,u===null?i.removeAttribute(s):(p=p.type,u=p===3||p===4&&u===!0?"":""+u,d?i.setAttributeNS(d,s,u):i.setAttribute(s,u))))}var V=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),L=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),ke=Symbol.for("react.provider"),ce=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),X=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var S=Object.assign,A;function W(i){if(A===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);A=s&&s[1]||""}return`
`+A+i}var T=!1;function Ee(i,s){if(!i||T)return"";T=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(M){var d=M}Reflect.construct(i,[],s)}else{try{s.call()}catch(M){d=M}i.call(s.prototype)}else{try{throw Error()}catch(M){d=M}i()}}catch(M){if(M&&d&&typeof M.stack=="string"){for(var p=M.stack.split(`
`),y=d.stack.split(`
`),x=p.length-1,C=y.length-1;1<=x&&0<=C&&p[x]!==y[C];)C--;for(;1<=x&&0<=C;x--,C--)if(p[x]!==y[C]){if(x!==1||C!==1)do if(x--,C--,0>C||p[x]!==y[C]){var P=`
`+p[x].replace(" at new "," at ");return i.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",i.displayName)),P}while(1<=x&&0<=C);break}}}finally{T=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?W(i):""}function Ie(i){switch(i.tag){case 5:return W(i.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return i=Ee(i.type,!1),i;case 11:return i=Ee(i.type.render,!1),i;case 1:return i=Ee(i.type,!0),i;default:return""}}function Se(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ne:return"Fragment";case L:return"Portal";case ye:return"Profiler";case fe:return"StrictMode";case ae:return"Suspense";case re:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ce:return(i.displayName||"Context")+".Consumer";case ke:return(i._context.displayName||"Context")+".Provider";case q:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case J:return s=i.displayName||null,s!==null?s:Se(i.type)||"Memo";case ve:s=i._payload,i=i._init;try{return Se(i(s))}catch{}}return null}function Ue(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(s);case 8:return s===fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ze(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Me(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rt(i){var s=Me(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(x){d=""+x,y.call(this,x)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ln(i){i._valueTracker||(i._valueTracker=rt(i))}function _i(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),d="";return i&&(d=Me(i)?i.checked?"true":"false":i.value),i=d,i!==u?(s.setValue(i),!0):!1}function er(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Gr(i,s){var u=s.checked;return S({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function fr(i,s){var u=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;u=ze(s.value!=null?s.value:u),i._wrapperState={initialChecked:d,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function pr(i,s){s=s.checked,s!=null&&z(i,"checked",s,!1)}function mr(i,s){pr(i,s);var u=ze(s.value),d=s.type;if(u!=null)d==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Jr(i,s.type,u):s.hasOwnProperty("defaultValue")&&Jr(i,s.type,ze(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function ki(i,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,u||s===i.value||(i.value=s),i.defaultValue=s}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Jr(i,s,u){(s!=="number"||er(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var jn=Array.isArray;function N(i,s,u,d){if(i=i.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<i.length;u++)p=s.hasOwnProperty("$"+i[u].value),i[u].selected!==p&&(i[u].selected=p),p&&d&&(i[u].defaultSelected=!0)}else{for(u=""+ze(u),s=null,p=0;p<i.length;p++){if(i[p].value===u){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function D(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return S({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function B(i,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(n(92));if(jn(u)){if(1<u.length)throw Error(n(93));u=u[0]}s=u}s==null&&(s=""),u=s}i._wrapperState={initialValue:ze(u)}}function oe(i,s){var u=ze(s.value),d=ze(s.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),s.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),d!=null&&(i.defaultValue=""+d)}function ie(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function O(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function F(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?O(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var se,de=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,d,p){MSApp.execUnsafeLocalFunction(function(){return i(s,u,d,p)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(se=se||document.createElement("div"),se.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=se.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Ne(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var Ye={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pt=["Webkit","ms","Moz","O"];Object.keys(Ye).forEach(function(i){Pt.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Ye[s]=Ye[i]})});function Kt(i,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||Ye.hasOwnProperty(i)&&Ye[i]?(""+s).trim():s+"px"}function wn(i,s){i=i.style;for(var u in s)if(s.hasOwnProperty(u)){var d=u.indexOf("--")===0,p=Kt(u,s[u],d);u==="float"&&(u="cssFloat"),d?i.setProperty(u,p):i[u]=p}}var Nn=S({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Et(i,s){if(s){if(Nn[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function un(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vt=null;function Si(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Jl=null,Ei=null,Ci=null;function Ch(i){if(i=Gs(i)){if(typeof Jl!="function")throw Error(n(280));var s=i.stateNode;s&&(s=wa(s),Jl(i.stateNode,i.type,s))}}function Th(i){Ei?Ci?Ci.push(i):Ci=[i]:Ei=i}function jh(){if(Ei){var i=Ei,s=Ci;if(Ci=Ei=null,Ch(i),s)for(i=0;i<s.length;i++)Ch(s[i])}}function Nh(i,s){return i(s)}function Ph(){}var Ql=!1;function Oh(i,s,u){if(Ql)return i(s,u);Ql=!0;try{return Nh(i,s,u)}finally{Ql=!1,(Ei!==null||Ci!==null)&&(Ph(),jh())}}function js(i,s){var u=i.stateNode;if(u===null)return null;var d=wa(u);if(d===null)return null;u=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,s,typeof u));return u}var Yl=!1;if(c)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Yl=!1}function L0(i,s,u,d,p,y,x,C,P){var M=Array.prototype.slice.call(arguments,3);try{s.apply(u,M)}catch(Q){this.onError(Q)}}var Ps=!1,Qo=null,Yo=!1,Xl=null,$0={onError:function(i){Ps=!0,Qo=i}};function D0(i,s,u,d,p,y,x,C,P){Ps=!1,Qo=null,L0.apply($0,arguments)}function U0(i,s,u,d,p,y,x,C,P){if(D0.apply(this,arguments),Ps){if(Ps){var M=Qo;Ps=!1,Qo=null}else throw Error(n(198));Yo||(Yo=!0,Xl=M)}}function Qr(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function Ah(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Rh(i){if(Qr(i)!==i)throw Error(n(188))}function M0(i){var s=i.alternate;if(!s){if(s=Qr(i),s===null)throw Error(n(188));return s!==i?null:i}for(var u=i,d=s;;){var p=u.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){u=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===u)return Rh(p),i;if(y===d)return Rh(p),s;y=y.sibling}throw Error(n(188))}if(u.return!==d.return)u=p,d=y;else{for(var x=!1,C=p.child;C;){if(C===u){x=!0,u=p,d=y;break}if(C===d){x=!0,d=p,u=y;break}C=C.sibling}if(!x){for(C=y.child;C;){if(C===u){x=!0,u=y,d=p;break}if(C===d){x=!0,d=y,u=p;break}C=C.sibling}if(!x)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:s}function Ih(i){return i=M0(i),i!==null?zh(i):null}function zh(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=zh(i);if(s!==null)return s;i=i.sibling}return null}var Lh=t.unstable_scheduleCallback,$h=t.unstable_cancelCallback,F0=t.unstable_shouldYield,B0=t.unstable_requestPaint,gt=t.unstable_now,V0=t.unstable_getCurrentPriorityLevel,eu=t.unstable_ImmediatePriority,Dh=t.unstable_UserBlockingPriority,Xo=t.unstable_NormalPriority,q0=t.unstable_LowPriority,Uh=t.unstable_IdlePriority,ea=null,Vn=null;function H0(i){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(ea,i,void 0,(i.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:K0,W0=Math.log,Z0=Math.LN2;function K0(i){return i>>>=0,i===0?32:31-(W0(i)/Z0|0)|0}var ta=64,na=4194304;function Os(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ra(i,s){var u=i.pendingLanes;if(u===0)return 0;var d=0,p=i.suspendedLanes,y=i.pingedLanes,x=u&268435455;if(x!==0){var C=x&~p;C!==0?d=Os(C):(y&=x,y!==0&&(d=Os(y)))}else x=u&~p,x!==0?d=Os(x):y!==0&&(d=Os(y));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((d&4)!==0&&(d|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=d;0<s;)u=31-Pn(s),p=1<<u,d|=i[u],s&=~p;return d}function G0(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J0(i,s){for(var u=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var x=31-Pn(y),C=1<<x,P=p[x];P===-1?((C&u)===0||(C&d)!==0)&&(p[x]=G0(C,s)):P<=s&&(i.expiredLanes|=C),y&=~C}}function tu(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Mh(){var i=ta;return ta<<=1,(ta&4194240)===0&&(ta=64),i}function nu(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function As(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Pn(s),i[s]=u}function Q0(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<u;){var p=31-Pn(u),y=1<<p;s[p]=0,d[p]=-1,i[p]=-1,u&=~y}}function ru(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var d=31-Pn(u),p=1<<d;p&s|i[d]&s&&(i[d]|=s),u&=~p}}var He=0;function Fh(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Bh,iu,Vh,qh,Hh,su=!1,ia=[],gr=null,yr=null,vr=null,Rs=new Map,Is=new Map,wr=[],Y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wh(i,s){switch(i){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Rs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Is.delete(s.pointerId)}}function zs(i,s,u,d,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:u,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Gs(s),s!==null&&iu(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function X0(i,s,u,d,p){switch(s){case"focusin":return gr=zs(gr,i,s,u,d,p),!0;case"dragenter":return yr=zs(yr,i,s,u,d,p),!0;case"mouseover":return vr=zs(vr,i,s,u,d,p),!0;case"pointerover":var y=p.pointerId;return Rs.set(y,zs(Rs.get(y)||null,i,s,u,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Is.set(y,zs(Is.get(y)||null,i,s,u,d,p)),!0}return!1}function Zh(i){var s=Yr(i.target);if(s!==null){var u=Qr(s);if(u!==null){if(s=u.tag,s===13){if(s=Ah(u),s!==null){i.blockedOn=s,Hh(i.priority,function(){Vh(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function sa(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=au(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);Vt=d,u.target.dispatchEvent(d),Vt=null}else return s=Gs(u),s!==null&&iu(s),i.blockedOn=u,!1;s.shift()}return!0}function Kh(i,s,u){sa(i)&&u.delete(s)}function ew(){su=!1,gr!==null&&sa(gr)&&(gr=null),yr!==null&&sa(yr)&&(yr=null),vr!==null&&sa(vr)&&(vr=null),Rs.forEach(Kh),Is.forEach(Kh)}function Ls(i,s){i.blockedOn===s&&(i.blockedOn=null,su||(su=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ew)))}function $s(i){function s(p){return Ls(p,i)}if(0<ia.length){Ls(ia[0],i);for(var u=1;u<ia.length;u++){var d=ia[u];d.blockedOn===i&&(d.blockedOn=null)}}for(gr!==null&&Ls(gr,i),yr!==null&&Ls(yr,i),vr!==null&&Ls(vr,i),Rs.forEach(s),Is.forEach(s),u=0;u<wr.length;u++)d=wr[u],d.blockedOn===i&&(d.blockedOn=null);for(;0<wr.length&&(u=wr[0],u.blockedOn===null);)Zh(u),u.blockedOn===null&&wr.shift()}var Ti=V.ReactCurrentBatchConfig,oa=!0;function tw(i,s,u,d){var p=He,y=Ti.transition;Ti.transition=null;try{He=1,ou(i,s,u,d)}finally{He=p,Ti.transition=y}}function nw(i,s,u,d){var p=He,y=Ti.transition;Ti.transition=null;try{He=4,ou(i,s,u,d)}finally{He=p,Ti.transition=y}}function ou(i,s,u,d){if(oa){var p=au(i,s,u,d);if(p===null)Su(i,s,d,aa,u),Wh(i,d);else if(X0(p,i,s,u,d))d.stopPropagation();else if(Wh(i,d),s&4&&-1<Y0.indexOf(i)){for(;p!==null;){var y=Gs(p);if(y!==null&&Bh(y),y=au(i,s,u,d),y===null&&Su(i,s,d,aa,u),y===p)break;p=y}p!==null&&d.stopPropagation()}else Su(i,s,d,null,u)}}var aa=null;function au(i,s,u,d){if(aa=null,i=Si(d),i=Yr(i),i!==null)if(s=Qr(i),s===null)i=null;else if(u=s.tag,u===13){if(i=Ah(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return aa=i,null}function Gh(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V0()){case eu:return 1;case Dh:return 4;case Xo:case q0:return 16;case Uh:return 536870912;default:return 16}default:return 16}}var br=null,lu=null,la=null;function Jh(){if(la)return la;var i,s=lu,u=s.length,d,p="value"in br?br.value:br.textContent,y=p.length;for(i=0;i<u&&s[i]===p[i];i++);var x=u-i;for(d=1;d<=x&&s[u-d]===p[y-d];d++);return la=p.slice(i,1<d?1-d:void 0)}function ua(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ca(){return!0}function Qh(){return!1}function cn(i){function s(u,d,p,y,x){this._reactName=u,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(u=i[C],this[C]=u?u(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ca:Qh,this.isPropagationStopped=Qh,this}return S(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca}),s}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uu=cn(ji),Ds=S({},ji,{view:0,detail:0}),rw=cn(Ds),cu,du,Us,da=S({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Us&&(Us&&i.type==="mousemove"?(cu=i.screenX-Us.screenX,du=i.screenY-Us.screenY):du=cu=0,Us=i),cu)},movementY:function(i){return"movementY"in i?i.movementY:du}}),Yh=cn(da),iw=S({},da,{dataTransfer:0}),sw=cn(iw),ow=S({},Ds,{relatedTarget:0}),hu=cn(ow),aw=S({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),lw=cn(aw),uw=S({},ji,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),cw=cn(uw),dw=S({},ji,{data:0}),Xh=cn(dw),hw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mw(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=pw[i])?!!s[i]:!1}function fu(){return mw}var gw=S({},Ds,{key:function(i){if(i.key){var s=hw[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ua(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fw[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fu,charCode:function(i){return i.type==="keypress"?ua(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ua(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),yw=cn(gw),vw=S({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ef=cn(vw),ww=S({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fu}),bw=cn(ww),xw=S({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),_w=cn(xw),kw=S({},da,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Sw=cn(kw),Ew=[9,13,27,32],pu=c&&"CompositionEvent"in window,Ms=null;c&&"documentMode"in document&&(Ms=document.documentMode);var Cw=c&&"TextEvent"in window&&!Ms,tf=c&&(!pu||Ms&&8<Ms&&11>=Ms),nf=" ",rf=!1;function sf(i,s){switch(i){case"keyup":return Ew.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function of(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ni=!1;function Tw(i,s){switch(i){case"compositionend":return of(s);case"keypress":return s.which!==32?null:(rf=!0,nf);case"textInput":return i=s.data,i===nf&&rf?null:i;default:return null}}function jw(i,s){if(Ni)return i==="compositionend"||!pu&&sf(i,s)?(i=Jh(),la=lu=br=null,Ni=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return tf&&s.locale!=="ko"?null:s.data;default:return null}}var Nw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function af(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Nw[i.type]:s==="textarea"}function lf(i,s,u,d){Th(d),s=ga(s,"onChange"),0<s.length&&(u=new uu("onChange","change",null,u,d),i.push({event:u,listeners:s}))}var Fs=null,Bs=null;function Pw(i){Cf(i,0)}function ha(i){var s=Ii(i);if(_i(s))return i}function Ow(i,s){if(i==="change")return s}var uf=!1;if(c){var mu;if(c){var gu="oninput"in document;if(!gu){var cf=document.createElement("div");cf.setAttribute("oninput","return;"),gu=typeof cf.oninput=="function"}mu=gu}else mu=!1;uf=mu&&(!document.documentMode||9<document.documentMode)}function df(){Fs&&(Fs.detachEvent("onpropertychange",hf),Bs=Fs=null)}function hf(i){if(i.propertyName==="value"&&ha(Bs)){var s=[];lf(s,Bs,i,Si(i)),Oh(Pw,s)}}function Aw(i,s,u){i==="focusin"?(df(),Fs=s,Bs=u,Fs.attachEvent("onpropertychange",hf)):i==="focusout"&&df()}function Rw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ha(Bs)}function Iw(i,s){if(i==="click")return ha(s)}function zw(i,s){if(i==="input"||i==="change")return ha(s)}function Lw(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var On=typeof Object.is=="function"?Object.is:Lw;function Vs(i,s){if(On(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),d=Object.keys(s);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var p=u[d];if(!h.call(s,p)||!On(i[p],s[p]))return!1}return!0}function ff(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pf(i,s){var u=ff(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=s&&d>=s)return{node:u,offset:s-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ff(u)}}function mf(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?mf(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function gf(){for(var i=window,s=er();s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=er(i.document)}return s}function yu(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function $w(i){var s=gf(),u=i.focusedElem,d=i.selectionRange;if(s!==u&&u&&u.ownerDocument&&mf(u.ownerDocument.documentElement,u)){if(d!==null&&yu(u)){if(s=d.start,i=d.end,i===void 0&&(i=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(i,u.value.length);else if(i=(s=u.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=u.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!i.extend&&y>d&&(p=d,d=y,y=p),p=pf(u,y);var x=pf(u,d);p&&x&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==x.node||i.focusOffset!==x.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),y>d?(i.addRange(s),i.extend(x.node,x.offset)):(s.setEnd(x.node,x.offset),i.addRange(s)))}}for(s=[],i=u;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)i=s[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Dw=c&&"documentMode"in document&&11>=document.documentMode,Pi=null,vu=null,qs=null,wu=!1;function yf(i,s,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;wu||Pi==null||Pi!==er(d)||(d=Pi,"selectionStart"in d&&yu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),qs&&Vs(qs,d)||(qs=d,d=ga(vu,"onSelect"),0<d.length&&(s=new uu("onSelect","select",null,s,u),i.push({event:s,listeners:d}),s.target=Pi)))}function fa(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Oi={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionend:fa("Transition","TransitionEnd")},bu={},vf={};c&&(vf=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function pa(i){if(bu[i])return bu[i];if(!Oi[i])return i;var s=Oi[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in vf)return bu[i]=s[u];return i}var wf=pa("animationend"),bf=pa("animationiteration"),xf=pa("animationstart"),_f=pa("transitionend"),kf=new Map,Sf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(i,s){kf.set(i,s),a(s,[i])}for(var xu=0;xu<Sf.length;xu++){var _u=Sf[xu],Uw=_u.toLowerCase(),Mw=_u[0].toUpperCase()+_u.slice(1);xr(Uw,"on"+Mw)}xr(wf,"onAnimationEnd"),xr(bf,"onAnimationIteration"),xr(xf,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(_f,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hs));function Ef(i,s,u){var d=i.type||"unknown-event";i.currentTarget=u,U0(d,s,void 0,i),i.currentTarget=null}function Cf(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var x=d.length-1;0<=x;x--){var C=d[x],P=C.instance,M=C.currentTarget;if(C=C.listener,P!==y&&p.isPropagationStopped())break e;Ef(p,C,M),y=P}else for(x=0;x<d.length;x++){if(C=d[x],P=C.instance,M=C.currentTarget,C=C.listener,P!==y&&p.isPropagationStopped())break e;Ef(p,C,M),y=P}}}if(Yo)throw i=Xl,Yo=!1,Xl=null,i}function Xe(i,s){var u=s[Pu];u===void 0&&(u=s[Pu]=new Set);var d=i+"__bubble";u.has(d)||(Tf(s,i,2,!1),u.add(d))}function ku(i,s,u){var d=0;s&&(d|=4),Tf(u,i,d,s)}var ma="_reactListening"+Math.random().toString(36).slice(2);function Ws(i){if(!i[ma]){i[ma]=!0,r.forEach(function(u){u!=="selectionchange"&&(Fw.has(u)||ku(u,!1,i),ku(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[ma]||(s[ma]=!0,ku("selectionchange",!1,s))}}function Tf(i,s,u,d){switch(Gh(s)){case 1:var p=tw;break;case 4:p=nw;break;default:p=ou}u=p.bind(null,s,u,i),p=void 0,!Yl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(s,u,{capture:!0,passive:p}):i.addEventListener(s,u,!0):p!==void 0?i.addEventListener(s,u,{passive:p}):i.addEventListener(s,u,!1)}function Su(i,s,u,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var C=d.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(x===4)for(x=d.return;x!==null;){var P=x.tag;if((P===3||P===4)&&(P=x.stateNode.containerInfo,P===p||P.nodeType===8&&P.parentNode===p))return;x=x.return}for(;C!==null;){if(x=Yr(C),x===null)return;if(P=x.tag,P===5||P===6){d=y=x;continue e}C=C.parentNode}}d=d.return}Oh(function(){var M=y,Q=Si(u),Y=[];e:{var K=kf.get(i);if(K!==void 0){var ue=uu,pe=i;switch(i){case"keypress":if(ua(u)===0)break e;case"keydown":case"keyup":ue=yw;break;case"focusin":pe="focus",ue=hu;break;case"focusout":pe="blur",ue=hu;break;case"beforeblur":case"afterblur":ue=hu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=sw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=bw;break;case wf:case bf:case xf:ue=lw;break;case _f:ue=_w;break;case"scroll":ue=rw;break;case"wheel":ue=Sw;break;case"copy":case"cut":case"paste":ue=cw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=ef}var ge=(s&4)!==0,yt=!ge&&i==="scroll",$=ge?K!==null?K+"Capture":null:K;ge=[];for(var R=M,U;R!==null;){U=R;var te=U.stateNode;if(U.tag===5&&te!==null&&(U=te,$!==null&&(te=js(R,$),te!=null&&ge.push(Zs(R,te,U)))),yt)break;R=R.return}0<ge.length&&(K=new ue(K,pe,null,u,Q),Y.push({event:K,listeners:ge}))}}if((s&7)===0){e:{if(K=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",K&&u!==Vt&&(pe=u.relatedTarget||u.fromElement)&&(Yr(pe)||pe[tr]))break e;if((ue||K)&&(K=Q.window===Q?Q:(K=Q.ownerDocument)?K.defaultView||K.parentWindow:window,ue?(pe=u.relatedTarget||u.toElement,ue=M,pe=pe?Yr(pe):null,pe!==null&&(yt=Qr(pe),pe!==yt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=M),ue!==pe)){if(ge=Yh,te="onMouseLeave",$="onMouseEnter",R="mouse",(i==="pointerout"||i==="pointerover")&&(ge=ef,te="onPointerLeave",$="onPointerEnter",R="pointer"),yt=ue==null?K:Ii(ue),U=pe==null?K:Ii(pe),K=new ge(te,R+"leave",ue,u,Q),K.target=yt,K.relatedTarget=U,te=null,Yr(Q)===M&&(ge=new ge($,R+"enter",pe,u,Q),ge.target=U,ge.relatedTarget=yt,te=ge),yt=te,ue&&pe)t:{for(ge=ue,$=pe,R=0,U=ge;U;U=Ai(U))R++;for(U=0,te=$;te;te=Ai(te))U++;for(;0<R-U;)ge=Ai(ge),R--;for(;0<U-R;)$=Ai($),U--;for(;R--;){if(ge===$||$!==null&&ge===$.alternate)break t;ge=Ai(ge),$=Ai($)}ge=null}else ge=null;ue!==null&&jf(Y,K,ue,ge,!1),pe!==null&&yt!==null&&jf(Y,yt,pe,ge,!0)}}e:{if(K=M?Ii(M):window,ue=K.nodeName&&K.nodeName.toLowerCase(),ue==="select"||ue==="input"&&K.type==="file")var we=Ow;else if(af(K))if(uf)we=zw;else{we=Rw;var Ce=Aw}else(ue=K.nodeName)&&ue.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(we=Iw);if(we&&(we=we(i,M))){lf(Y,we,u,Q);break e}Ce&&Ce(i,K,M),i==="focusout"&&(Ce=K._wrapperState)&&Ce.controlled&&K.type==="number"&&Jr(K,"number",K.value)}switch(Ce=M?Ii(M):window,i){case"focusin":(af(Ce)||Ce.contentEditable==="true")&&(Pi=Ce,vu=M,qs=null);break;case"focusout":qs=vu=Pi=null;break;case"mousedown":wu=!0;break;case"contextmenu":case"mouseup":case"dragend":wu=!1,yf(Y,u,Q);break;case"selectionchange":if(Dw)break;case"keydown":case"keyup":yf(Y,u,Q)}var Te;if(pu)e:{switch(i){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ni?sf(i,u)&&(Oe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Oe="onCompositionStart");Oe&&(tf&&u.locale!=="ko"&&(Ni||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ni&&(Te=Jh()):(br=Q,lu="value"in br?br.value:br.textContent,Ni=!0)),Ce=ga(M,Oe),0<Ce.length&&(Oe=new Xh(Oe,i,null,u,Q),Y.push({event:Oe,listeners:Ce}),Te?Oe.data=Te:(Te=of(u),Te!==null&&(Oe.data=Te)))),(Te=Cw?Tw(i,u):jw(i,u))&&(M=ga(M,"onBeforeInput"),0<M.length&&(Q=new Xh("onBeforeInput","beforeinput",null,u,Q),Y.push({event:Q,listeners:M}),Q.data=Te))}Cf(Y,s)})}function Zs(i,s,u){return{instance:i,listener:s,currentTarget:u}}function ga(i,s){for(var u=s+"Capture",d=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=js(i,u),y!=null&&d.unshift(Zs(i,y,p)),y=js(i,s),y!=null&&d.push(Zs(i,y,p))),i=i.return}return d}function Ai(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function jf(i,s,u,d,p){for(var y=s._reactName,x=[];u!==null&&u!==d;){var C=u,P=C.alternate,M=C.stateNode;if(P!==null&&P===d)break;C.tag===5&&M!==null&&(C=M,p?(P=js(u,y),P!=null&&x.unshift(Zs(u,P,C))):p||(P=js(u,y),P!=null&&x.push(Zs(u,P,C)))),u=u.return}x.length!==0&&i.push({event:s,listeners:x})}var Bw=/\r\n?/g,Vw=/\u0000|\uFFFD/g;function Nf(i){return(typeof i=="string"?i:""+i).replace(Bw,`
`).replace(Vw,"")}function ya(i,s,u){if(s=Nf(s),Nf(i)!==s&&u)throw Error(n(425))}function va(){}var Eu=null,Cu=null;function Tu(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ju=typeof setTimeout=="function"?setTimeout:void 0,qw=typeof clearTimeout=="function"?clearTimeout:void 0,Pf=typeof Promise=="function"?Promise:void 0,Hw=typeof queueMicrotask=="function"?queueMicrotask:typeof Pf<"u"?function(i){return Pf.resolve(null).then(i).catch(Ww)}:ju;function Ww(i){setTimeout(function(){throw i})}function Nu(i,s){var u=s,d=0;do{var p=u.nextSibling;if(i.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(d===0){i.removeChild(p),$s(s);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=p}while(u);$s(s)}function _r(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Of(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}var Ri=Math.random().toString(36).slice(2),qn="__reactFiber$"+Ri,Ks="__reactProps$"+Ri,tr="__reactContainer$"+Ri,Pu="__reactEvents$"+Ri,Zw="__reactListeners$"+Ri,Kw="__reactHandles$"+Ri;function Yr(i){var s=i[qn];if(s)return s;for(var u=i.parentNode;u;){if(s=u[tr]||u[qn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=Of(i);i!==null;){if(u=i[qn])return u;i=Of(i)}return s}i=u,u=i.parentNode}return null}function Gs(i){return i=i[qn]||i[tr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ii(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function wa(i){return i[Ks]||null}var Ou=[],zi=-1;function kr(i){return{current:i}}function et(i){0>zi||(i.current=Ou[zi],Ou[zi]=null,zi--)}function Ke(i,s){zi++,Ou[zi]=i.current,i.current=s}var Sr={},Dt=kr(Sr),Gt=kr(!1),Xr=Sr;function Li(i,s){var u=i.type.contextTypes;if(!u)return Sr;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in u)p[y]=s[y];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function Jt(i){return i=i.childContextTypes,i!=null}function ba(){et(Gt),et(Dt)}function Af(i,s,u){if(Dt.current!==Sr)throw Error(n(168));Ke(Dt,s),Ke(Gt,u)}function Rf(i,s,u){var d=i.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(n(108,Ue(i)||"Unknown",p));return S({},u,d)}function xa(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Sr,Xr=Dt.current,Ke(Dt,i),Ke(Gt,Gt.current),!0}function If(i,s,u){var d=i.stateNode;if(!d)throw Error(n(169));u?(i=Rf(i,s,Xr),d.__reactInternalMemoizedMergedChildContext=i,et(Gt),et(Dt),Ke(Dt,i)):et(Gt),Ke(Gt,u)}var nr=null,_a=!1,Au=!1;function zf(i){nr===null?nr=[i]:nr.push(i)}function Gw(i){_a=!0,zf(i)}function Er(){if(!Au&&nr!==null){Au=!0;var i=0,s=He;try{var u=nr;for(He=1;i<u.length;i++){var d=u[i];do d=d(!0);while(d!==null)}nr=null,_a=!1}catch(p){throw nr!==null&&(nr=nr.slice(i+1)),Lh(eu,Er),p}finally{He=s,Au=!1}}return null}var $i=[],Di=0,ka=null,Sa=0,bn=[],xn=0,ei=null,rr=1,ir="";function ti(i,s){$i[Di++]=Sa,$i[Di++]=ka,ka=i,Sa=s}function Lf(i,s,u){bn[xn++]=rr,bn[xn++]=ir,bn[xn++]=ei,ei=i;var d=rr;i=ir;var p=32-Pn(d)-1;d&=~(1<<p),u+=1;var y=32-Pn(s)+p;if(30<y){var x=p-p%5;y=(d&(1<<x)-1).toString(32),d>>=x,p-=x,rr=1<<32-Pn(s)+p|u<<p|d,ir=y+i}else rr=1<<y|u<<p|d,ir=i}function Ru(i){i.return!==null&&(ti(i,1),Lf(i,1,0))}function Iu(i){for(;i===ka;)ka=$i[--Di],$i[Di]=null,Sa=$i[--Di],$i[Di]=null;for(;i===ei;)ei=bn[--xn],bn[xn]=null,ir=bn[--xn],bn[xn]=null,rr=bn[--xn],bn[xn]=null}var dn=null,hn=null,it=!1,An=null;function $f(i,s){var u=En(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function Df(i,s){switch(i.tag){case 5:var u=i.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,dn=i,hn=_r(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,dn=i,hn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=ei!==null?{id:rr,overflow:ir}:null,i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=En(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,dn=i,hn=null,!0):!1;default:return!1}}function zu(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Lu(i){if(it){var s=hn;if(s){var u=s;if(!Df(i,s)){if(zu(i))throw Error(n(418));s=_r(u.nextSibling);var d=dn;s&&Df(i,s)?$f(d,u):(i.flags=i.flags&-4097|2,it=!1,dn=i)}}else{if(zu(i))throw Error(n(418));i.flags=i.flags&-4097|2,it=!1,dn=i}}}function Uf(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;dn=i}function Ea(i){if(i!==dn)return!1;if(!it)return Uf(i),it=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Tu(i.type,i.memoizedProps)),s&&(s=hn)){if(zu(i))throw Mf(),Error(n(418));for(;s;)$f(i,s),s=_r(s.nextSibling)}if(Uf(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(s===0){hn=_r(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}i=i.nextSibling}hn=null}}else hn=dn?_r(i.stateNode.nextSibling):null;return!0}function Mf(){for(var i=hn;i;)i=_r(i.nextSibling)}function Ui(){hn=dn=null,it=!1}function $u(i){An===null?An=[i]:An.push(i)}var Jw=V.ReactCurrentBatchConfig;function Js(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,i));var p=d,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(x){var C=p.refs;x===null?delete C[y]:C[y]=x},s._stringRef=y,s)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Ca(i,s){throw i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Ff(i){var s=i._init;return s(i._payload)}function Bf(i){function s($,R){if(i){var U=$.deletions;U===null?($.deletions=[R],$.flags|=16):U.push(R)}}function u($,R){if(!i)return null;for(;R!==null;)s($,R),R=R.sibling;return null}function d($,R){for($=new Map;R!==null;)R.key!==null?$.set(R.key,R):$.set(R.index,R),R=R.sibling;return $}function p($,R){return $=Rr($,R),$.index=0,$.sibling=null,$}function y($,R,U){return $.index=U,i?(U=$.alternate,U!==null?(U=U.index,U<R?($.flags|=2,R):U):($.flags|=2,R)):($.flags|=1048576,R)}function x($){return i&&$.alternate===null&&($.flags|=2),$}function C($,R,U,te){return R===null||R.tag!==6?(R=jc(U,$.mode,te),R.return=$,R):(R=p(R,U),R.return=$,R)}function P($,R,U,te){var we=U.type;return we===ne?Q($,R,U.props.children,te,U.key):R!==null&&(R.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ve&&Ff(we)===R.type)?(te=p(R,U.props),te.ref=Js($,R,U),te.return=$,te):(te=Ja(U.type,U.key,U.props,null,$.mode,te),te.ref=Js($,R,U),te.return=$,te)}function M($,R,U,te){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=Nc(U,$.mode,te),R.return=$,R):(R=p(R,U.children||[]),R.return=$,R)}function Q($,R,U,te,we){return R===null||R.tag!==7?(R=ui(U,$.mode,te,we),R.return=$,R):(R=p(R,U),R.return=$,R)}function Y($,R,U){if(typeof R=="string"&&R!==""||typeof R=="number")return R=jc(""+R,$.mode,U),R.return=$,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case G:return U=Ja(R.type,R.key,R.props,null,$.mode,U),U.ref=Js($,null,R),U.return=$,U;case L:return R=Nc(R,$.mode,U),R.return=$,R;case ve:var te=R._init;return Y($,te(R._payload),U)}if(jn(R)||le(R))return R=ui(R,$.mode,U,null),R.return=$,R;Ca($,R)}return null}function K($,R,U,te){var we=R!==null?R.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return we!==null?null:C($,R,""+U,te);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case G:return U.key===we?P($,R,U,te):null;case L:return U.key===we?M($,R,U,te):null;case ve:return we=U._init,K($,R,we(U._payload),te)}if(jn(U)||le(U))return we!==null?null:Q($,R,U,te,null);Ca($,U)}return null}function ue($,R,U,te,we){if(typeof te=="string"&&te!==""||typeof te=="number")return $=$.get(U)||null,C(R,$,""+te,we);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case G:return $=$.get(te.key===null?U:te.key)||null,P(R,$,te,we);case L:return $=$.get(te.key===null?U:te.key)||null,M(R,$,te,we);case ve:var Ce=te._init;return ue($,R,U,Ce(te._payload),we)}if(jn(te)||le(te))return $=$.get(U)||null,Q(R,$,te,we,null);Ca(R,te)}return null}function pe($,R,U,te){for(var we=null,Ce=null,Te=R,Oe=R=0,Rt=null;Te!==null&&Oe<U.length;Oe++){Te.index>Oe?(Rt=Te,Te=null):Rt=Te.sibling;var Ve=K($,Te,U[Oe],te);if(Ve===null){Te===null&&(Te=Rt);break}i&&Te&&Ve.alternate===null&&s($,Te),R=y(Ve,R,Oe),Ce===null?we=Ve:Ce.sibling=Ve,Ce=Ve,Te=Rt}if(Oe===U.length)return u($,Te),it&&ti($,Oe),we;if(Te===null){for(;Oe<U.length;Oe++)Te=Y($,U[Oe],te),Te!==null&&(R=y(Te,R,Oe),Ce===null?we=Te:Ce.sibling=Te,Ce=Te);return it&&ti($,Oe),we}for(Te=d($,Te);Oe<U.length;Oe++)Rt=ue(Te,$,Oe,U[Oe],te),Rt!==null&&(i&&Rt.alternate!==null&&Te.delete(Rt.key===null?Oe:Rt.key),R=y(Rt,R,Oe),Ce===null?we=Rt:Ce.sibling=Rt,Ce=Rt);return i&&Te.forEach(function(Ir){return s($,Ir)}),it&&ti($,Oe),we}function ge($,R,U,te){var we=le(U);if(typeof we!="function")throw Error(n(150));if(U=we.call(U),U==null)throw Error(n(151));for(var Ce=we=null,Te=R,Oe=R=0,Rt=null,Ve=U.next();Te!==null&&!Ve.done;Oe++,Ve=U.next()){Te.index>Oe?(Rt=Te,Te=null):Rt=Te.sibling;var Ir=K($,Te,Ve.value,te);if(Ir===null){Te===null&&(Te=Rt);break}i&&Te&&Ir.alternate===null&&s($,Te),R=y(Ir,R,Oe),Ce===null?we=Ir:Ce.sibling=Ir,Ce=Ir,Te=Rt}if(Ve.done)return u($,Te),it&&ti($,Oe),we;if(Te===null){for(;!Ve.done;Oe++,Ve=U.next())Ve=Y($,Ve.value,te),Ve!==null&&(R=y(Ve,R,Oe),Ce===null?we=Ve:Ce.sibling=Ve,Ce=Ve);return it&&ti($,Oe),we}for(Te=d($,Te);!Ve.done;Oe++,Ve=U.next())Ve=ue(Te,$,Oe,Ve.value,te),Ve!==null&&(i&&Ve.alternate!==null&&Te.delete(Ve.key===null?Oe:Ve.key),R=y(Ve,R,Oe),Ce===null?we=Ve:Ce.sibling=Ve,Ce=Ve);return i&&Te.forEach(function(Nb){return s($,Nb)}),it&&ti($,Oe),we}function yt($,R,U,te){if(typeof U=="object"&&U!==null&&U.type===ne&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case G:e:{for(var we=U.key,Ce=R;Ce!==null;){if(Ce.key===we){if(we=U.type,we===ne){if(Ce.tag===7){u($,Ce.sibling),R=p(Ce,U.props.children),R.return=$,$=R;break e}}else if(Ce.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ve&&Ff(we)===Ce.type){u($,Ce.sibling),R=p(Ce,U.props),R.ref=Js($,Ce,U),R.return=$,$=R;break e}u($,Ce);break}else s($,Ce);Ce=Ce.sibling}U.type===ne?(R=ui(U.props.children,$.mode,te,U.key),R.return=$,$=R):(te=Ja(U.type,U.key,U.props,null,$.mode,te),te.ref=Js($,R,U),te.return=$,$=te)}return x($);case L:e:{for(Ce=U.key;R!==null;){if(R.key===Ce)if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){u($,R.sibling),R=p(R,U.children||[]),R.return=$,$=R;break e}else{u($,R);break}else s($,R);R=R.sibling}R=Nc(U,$.mode,te),R.return=$,$=R}return x($);case ve:return Ce=U._init,yt($,R,Ce(U._payload),te)}if(jn(U))return pe($,R,U,te);if(le(U))return ge($,R,U,te);Ca($,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,R!==null&&R.tag===6?(u($,R.sibling),R=p(R,U),R.return=$,$=R):(u($,R),R=jc(U,$.mode,te),R.return=$,$=R),x($)):u($,R)}return yt}var Mi=Bf(!0),Vf=Bf(!1),Ta=kr(null),ja=null,Fi=null,Du=null;function Uu(){Du=Fi=ja=null}function Mu(i){var s=Ta.current;et(Ta),i._currentValue=s}function Fu(i,s,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===u)break;i=i.return}}function Bi(i,s){ja=i,Du=Fi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(Qt=!0),i.firstContext=null)}function _n(i){var s=i._currentValue;if(Du!==i)if(i={context:i,memoizedValue:s,next:null},Fi===null){if(ja===null)throw Error(n(308));Fi=i,ja.dependencies={lanes:0,firstContext:i}}else Fi=Fi.next=i;return s}var ni=null;function Bu(i){ni===null?ni=[i]:ni.push(i)}function qf(i,s,u,d){var p=s.interleaved;return p===null?(u.next=u,Bu(s)):(u.next=p.next,p.next=u),s.interleaved=u,sr(i,d)}function sr(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Cr=!1;function Vu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hf(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function or(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Tr(i,s,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Fe&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,sr(i,u)}return p=d.interleaved,p===null?(s.next=s,Bu(d)):(s.next=p.next,p.next=s),d.interleaved=s,sr(i,u)}function Na(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var d=s.lanes;d&=i.pendingLanes,u|=d,s.lanes=u,ru(i,u)}}function Wf(i,s){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var p=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var x={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?p=y=x:y=y.next=x,u=u.next}while(u!==null);y===null?p=y=s:y=y.next=s}else p=y=s;u={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function Pa(i,s,u,d){var p=i.updateQueue;Cr=!1;var y=p.firstBaseUpdate,x=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var P=C,M=P.next;P.next=null,x===null?y=M:x.next=M,x=P;var Q=i.alternate;Q!==null&&(Q=Q.updateQueue,C=Q.lastBaseUpdate,C!==x&&(C===null?Q.firstBaseUpdate=M:C.next=M,Q.lastBaseUpdate=P))}if(y!==null){var Y=p.baseState;x=0,Q=M=P=null,C=y;do{var K=C.lane,ue=C.eventTime;if((d&K)===K){Q!==null&&(Q=Q.next={eventTime:ue,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var pe=i,ge=C;switch(K=s,ue=u,ge.tag){case 1:if(pe=ge.payload,typeof pe=="function"){Y=pe.call(ue,Y,K);break e}Y=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ge.payload,K=typeof pe=="function"?pe.call(ue,Y,K):pe,K==null)break e;Y=S({},Y,K);break e;case 2:Cr=!0}}C.callback!==null&&C.lane!==0&&(i.flags|=64,K=p.effects,K===null?p.effects=[C]:K.push(C))}else ue={eventTime:ue,lane:K,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Q===null?(M=Q=ue,P=Y):Q=Q.next=ue,x|=K;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;K=C,C=K.next,K.next=null,p.lastBaseUpdate=K,p.shared.pending=null}}while(!0);if(Q===null&&(P=Y),p.baseState=P,p.firstBaseUpdate=M,p.lastBaseUpdate=Q,s=p.shared.interleaved,s!==null){p=s;do x|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);si|=x,i.lanes=x,i.memoizedState=Y}}function Zf(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var d=i[s],p=d.callback;if(p!==null){if(d.callback=null,d=u,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var Qs={},Hn=kr(Qs),Ys=kr(Qs),Xs=kr(Qs);function ri(i){if(i===Qs)throw Error(n(174));return i}function qu(i,s){switch(Ke(Xs,s),Ke(Ys,i),Ke(Hn,Qs),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:F(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=F(s,i)}et(Hn),Ke(Hn,s)}function Vi(){et(Hn),et(Ys),et(Xs)}function Kf(i){ri(Xs.current);var s=ri(Hn.current),u=F(s,i.type);s!==u&&(Ke(Ys,i),Ke(Hn,u))}function Hu(i){Ys.current===i&&(et(Hn),et(Ys))}var at=kr(0);function Oa(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Wu=[];function Zu(){for(var i=0;i<Wu.length;i++)Wu[i]._workInProgressVersionPrimary=null;Wu.length=0}var Aa=V.ReactCurrentDispatcher,Ku=V.ReactCurrentBatchConfig,ii=0,lt=null,Ct=null,Ot=null,Ra=!1,eo=!1,to=0,Qw=0;function Ut(){throw Error(n(321))}function Gu(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!On(i[u],s[u]))return!1;return!0}function Ju(i,s,u,d,p,y){if(ii=y,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Aa.current=i===null||i.memoizedState===null?tb:nb,i=u(d,p),eo){y=0;do{if(eo=!1,to=0,25<=y)throw Error(n(301));y+=1,Ot=Ct=null,s.updateQueue=null,Aa.current=rb,i=u(d,p)}while(eo)}if(Aa.current=La,s=Ct!==null&&Ct.next!==null,ii=0,Ot=Ct=lt=null,Ra=!1,s)throw Error(n(300));return i}function Qu(){var i=to!==0;return to=0,i}function Wn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?lt.memoizedState=Ot=i:Ot=Ot.next=i,Ot}function kn(){if(Ct===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=Ct.next;var s=Ot===null?lt.memoizedState:Ot.next;if(s!==null)Ot=s,Ct=i;else{if(i===null)throw Error(n(310));Ct=i,i={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Ot===null?lt.memoizedState=Ot=i:Ot=Ot.next=i}return Ot}function no(i,s){return typeof s=="function"?s(i):s}function Yu(i){var s=kn(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=Ct,p=d.baseQueue,y=u.pending;if(y!==null){if(p!==null){var x=p.next;p.next=y.next,y.next=x}d.baseQueue=p=y,u.pending=null}if(p!==null){y=p.next,d=d.baseState;var C=x=null,P=null,M=y;do{var Q=M.lane;if((ii&Q)===Q)P!==null&&(P=P.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),d=M.hasEagerState?M.eagerState:i(d,M.action);else{var Y={lane:Q,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};P===null?(C=P=Y,x=d):P=P.next=Y,lt.lanes|=Q,si|=Q}M=M.next}while(M!==null&&M!==y);P===null?x=d:P.next=C,On(d,s.memoizedState)||(Qt=!0),s.memoizedState=d,s.baseState=x,s.baseQueue=P,u.lastRenderedState=d}if(i=u.interleaved,i!==null){p=i;do y=p.lane,lt.lanes|=y,si|=y,p=p.next;while(p!==i)}else p===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Xu(i){var s=kn(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=u.dispatch,p=u.pending,y=s.memoizedState;if(p!==null){u.pending=null;var x=p=p.next;do y=i(y,x.action),x=x.next;while(x!==p);On(y,s.memoizedState)||(Qt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),u.lastRenderedState=y}return[y,d]}function Gf(){}function Jf(i,s){var u=lt,d=kn(),p=s(),y=!On(d.memoizedState,p);if(y&&(d.memoizedState=p,Qt=!0),d=d.queue,ec(Xf.bind(null,u,d,i),[i]),d.getSnapshot!==s||y||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,ro(9,Yf.bind(null,u,d,p,s),void 0,null),At===null)throw Error(n(349));(ii&30)!==0||Qf(u,s,p)}return p}function Qf(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function Yf(i,s,u,d){s.value=u,s.getSnapshot=d,ep(s)&&tp(i)}function Xf(i,s,u){return u(function(){ep(s)&&tp(i)})}function ep(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!On(i,u)}catch{return!0}}function tp(i){var s=sr(i,1);s!==null&&Ln(s,i,1,-1)}function np(i){var s=Wn();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:no,lastRenderedState:i},s.queue=i,i=i.dispatch=eb.bind(null,lt,i),[s.memoizedState,i]}function ro(i,s,u,d){return i={tag:i,create:s,destroy:u,deps:d,next:null},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,s.lastEffect=i)),i}function rp(){return kn().memoizedState}function Ia(i,s,u,d){var p=Wn();lt.flags|=i,p.memoizedState=ro(1|s,u,void 0,d===void 0?null:d)}function za(i,s,u,d){var p=kn();d=d===void 0?null:d;var y=void 0;if(Ct!==null){var x=Ct.memoizedState;if(y=x.destroy,d!==null&&Gu(d,x.deps)){p.memoizedState=ro(s,u,y,d);return}}lt.flags|=i,p.memoizedState=ro(1|s,u,y,d)}function ip(i,s){return Ia(8390656,8,i,s)}function ec(i,s){return za(2048,8,i,s)}function sp(i,s){return za(4,2,i,s)}function op(i,s){return za(4,4,i,s)}function ap(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function lp(i,s,u){return u=u!=null?u.concat([i]):null,za(4,4,ap.bind(null,s,i),u)}function tc(){}function up(i,s){var u=kn();s=s===void 0?null:s;var d=u.memoizedState;return d!==null&&s!==null&&Gu(s,d[1])?d[0]:(u.memoizedState=[i,s],i)}function cp(i,s){var u=kn();s=s===void 0?null:s;var d=u.memoizedState;return d!==null&&s!==null&&Gu(s,d[1])?d[0]:(i=i(),u.memoizedState=[i,s],i)}function dp(i,s,u){return(ii&21)===0?(i.baseState&&(i.baseState=!1,Qt=!0),i.memoizedState=u):(On(u,s)||(u=Mh(),lt.lanes|=u,si|=u,i.baseState=!0),s)}function Yw(i,s){var u=He;He=u!==0&&4>u?u:4,i(!0);var d=Ku.transition;Ku.transition={};try{i(!1),s()}finally{He=u,Ku.transition=d}}function hp(){return kn().memoizedState}function Xw(i,s,u){var d=Or(i);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},fp(i))pp(s,u);else if(u=qf(i,s,u,d),u!==null){var p=Ht();Ln(u,i,d,p),mp(u,s,d)}}function eb(i,s,u){var d=Or(i),p={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(fp(i))pp(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var x=s.lastRenderedState,C=y(x,u);if(p.hasEagerState=!0,p.eagerState=C,On(C,x)){var P=s.interleaved;P===null?(p.next=p,Bu(s)):(p.next=P.next,P.next=p),s.interleaved=p;return}}catch{}u=qf(i,s,p,d),u!==null&&(p=Ht(),Ln(u,i,d,p),mp(u,s,d))}}function fp(i){var s=i.alternate;return i===lt||s!==null&&s===lt}function pp(i,s){eo=Ra=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function mp(i,s,u){if((u&4194240)!==0){var d=s.lanes;d&=i.pendingLanes,u|=d,s.lanes=u,ru(i,u)}}var La={readContext:_n,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},tb={readContext:_n,useCallback:function(i,s){return Wn().memoizedState=[i,s===void 0?null:s],i},useContext:_n,useEffect:ip,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,Ia(4194308,4,ap.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Ia(4194308,4,i,s)},useInsertionEffect:function(i,s){return Ia(4,2,i,s)},useMemo:function(i,s){var u=Wn();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var d=Wn();return s=u!==void 0?u(s):s,d.memoizedState=d.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},d.queue=i,i=i.dispatch=Xw.bind(null,lt,i),[d.memoizedState,i]},useRef:function(i){var s=Wn();return i={current:i},s.memoizedState=i},useState:np,useDebugValue:tc,useDeferredValue:function(i){return Wn().memoizedState=i},useTransition:function(){var i=np(!1),s=i[0];return i=Yw.bind(null,i[1]),Wn().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var d=lt,p=Wn();if(it){if(u===void 0)throw Error(n(407));u=u()}else{if(u=s(),At===null)throw Error(n(349));(ii&30)!==0||Qf(d,s,u)}p.memoizedState=u;var y={value:u,getSnapshot:s};return p.queue=y,ip(Xf.bind(null,d,y,i),[i]),d.flags|=2048,ro(9,Yf.bind(null,d,y,u,s),void 0,null),u},useId:function(){var i=Wn(),s=At.identifierPrefix;if(it){var u=ir,d=rr;u=(d&~(1<<32-Pn(d)-1)).toString(32)+u,s=":"+s+"R"+u,u=to++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=Qw++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},nb={readContext:_n,useCallback:up,useContext:_n,useEffect:ec,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:op,useMemo:cp,useReducer:Yu,useRef:rp,useState:function(){return Yu(no)},useDebugValue:tc,useDeferredValue:function(i){var s=kn();return dp(s,Ct.memoizedState,i)},useTransition:function(){var i=Yu(no)[0],s=kn().memoizedState;return[i,s]},useMutableSource:Gf,useSyncExternalStore:Jf,useId:hp,unstable_isNewReconciler:!1},rb={readContext:_n,useCallback:up,useContext:_n,useEffect:ec,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:op,useMemo:cp,useReducer:Xu,useRef:rp,useState:function(){return Xu(no)},useDebugValue:tc,useDeferredValue:function(i){var s=kn();return Ct===null?s.memoizedState=i:dp(s,Ct.memoizedState,i)},useTransition:function(){var i=Xu(no)[0],s=kn().memoizedState;return[i,s]},useMutableSource:Gf,useSyncExternalStore:Jf,useId:hp,unstable_isNewReconciler:!1};function Rn(i,s){if(i&&i.defaultProps){s=S({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function nc(i,s,u,d){s=i.memoizedState,u=u(d,s),u=u==null?s:S({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var $a={isMounted:function(i){return(i=i._reactInternals)?Qr(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var d=Ht(),p=Or(i),y=or(d,p);y.payload=s,u!=null&&(y.callback=u),s=Tr(i,y,p),s!==null&&(Ln(s,i,p,d),Na(s,i,p))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var d=Ht(),p=Or(i),y=or(d,p);y.tag=1,y.payload=s,u!=null&&(y.callback=u),s=Tr(i,y,p),s!==null&&(Ln(s,i,p,d),Na(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Ht(),d=Or(i),p=or(u,d);p.tag=2,s!=null&&(p.callback=s),s=Tr(i,p,d),s!==null&&(Ln(s,i,d,u),Na(s,i,d))}};function gp(i,s,u,d,p,y,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,x):s.prototype&&s.prototype.isPureReactComponent?!Vs(u,d)||!Vs(p,y):!0}function yp(i,s,u){var d=!1,p=Sr,y=s.contextType;return typeof y=="object"&&y!==null?y=_n(y):(p=Jt(s)?Xr:Dt.current,d=s.contextTypes,y=(d=d!=null)?Li(i,p):Sr),s=new s(u,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=$a,i.stateNode=s,s._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),s}function vp(i,s,u,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,d),s.state!==i&&$a.enqueueReplaceState(s,s.state,null)}function rc(i,s,u,d){var p=i.stateNode;p.props=u,p.state=i.memoizedState,p.refs={},Vu(i);var y=s.contextType;typeof y=="object"&&y!==null?p.context=_n(y):(y=Jt(s)?Xr:Dt.current,p.context=Li(i,y)),p.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(nc(i,s,y,u),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&$a.enqueueReplaceState(p,p.state,null),Pa(i,u,p,d),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function qi(i,s){try{var u="",d=s;do u+=Ie(d),d=d.return;while(d);var p=u}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:p,digest:null}}function ic(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function sc(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var ib=typeof WeakMap=="function"?WeakMap:Map;function wp(i,s,u){u=or(-1,u),u.tag=3,u.payload={element:null};var d=s.value;return u.callback=function(){qa||(qa=!0,bc=d),sc(i,s)},u}function bp(i,s,u){u=or(-1,u),u.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;u.payload=function(){return d(p)},u.callback=function(){sc(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){sc(i,s),typeof d!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})}),u}function xp(i,s,u){var d=i.pingCache;if(d===null){d=i.pingCache=new ib;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(u)||(p.add(u),i=vb.bind(null,i,s,u),s.then(i,i))}function _p(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function kp(i,s,u,d,p){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=or(-1,1),s.tag=2,Tr(u,s,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var sb=V.ReactCurrentOwner,Qt=!1;function qt(i,s,u,d){s.child=i===null?Vf(s,null,u,d):Mi(s,i.child,u,d)}function Sp(i,s,u,d,p){u=u.render;var y=s.ref;return Bi(s,p),d=Ju(i,s,u,d,y,p),u=Qu(),i!==null&&!Qt?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,ar(i,s,p)):(it&&u&&Ru(s),s.flags|=1,qt(i,s,d,p),s.child)}function Ep(i,s,u,d,p){if(i===null){var y=u.type;return typeof y=="function"&&!Tc(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=y,Cp(i,s,y,d,p)):(i=Ja(u.type,null,d,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,(i.lanes&p)===0){var x=y.memoizedProps;if(u=u.compare,u=u!==null?u:Vs,u(x,d)&&i.ref===s.ref)return ar(i,s,p)}return s.flags|=1,i=Rr(y,d),i.ref=s.ref,i.return=s,s.child=i}function Cp(i,s,u,d,p){if(i!==null){var y=i.memoizedProps;if(Vs(y,d)&&i.ref===s.ref)if(Qt=!1,s.pendingProps=d=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(Qt=!0);else return s.lanes=i.lanes,ar(i,s,p)}return oc(i,s,u,d,p)}function Tp(i,s,u){var d=s.pendingProps,p=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Wi,fn),fn|=u;else{if((u&1073741824)===0)return i=y!==null?y.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Ke(Wi,fn),fn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:u,Ke(Wi,fn),fn|=d}else y!==null?(d=y.baseLanes|u,s.memoizedState=null):d=u,Ke(Wi,fn),fn|=d;return qt(i,s,p,u),s.child}function jp(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function oc(i,s,u,d,p){var y=Jt(u)?Xr:Dt.current;return y=Li(s,y),Bi(s,p),u=Ju(i,s,u,d,y,p),d=Qu(),i!==null&&!Qt?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,ar(i,s,p)):(it&&d&&Ru(s),s.flags|=1,qt(i,s,u,p),s.child)}function Np(i,s,u,d,p){if(Jt(u)){var y=!0;xa(s)}else y=!1;if(Bi(s,p),s.stateNode===null)Ua(i,s),yp(s,u,d),rc(s,u,d,p),d=!0;else if(i===null){var x=s.stateNode,C=s.memoizedProps;x.props=C;var P=x.context,M=u.contextType;typeof M=="object"&&M!==null?M=_n(M):(M=Jt(u)?Xr:Dt.current,M=Li(s,M));var Q=u.getDerivedStateFromProps,Y=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function";Y||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==d||P!==M)&&vp(s,x,d,M),Cr=!1;var K=s.memoizedState;x.state=K,Pa(s,d,x,p),P=s.memoizedState,C!==d||K!==P||Gt.current||Cr?(typeof Q=="function"&&(nc(s,u,Q,d),P=s.memoizedState),(C=Cr||gp(s,u,C,d,K,P,M))?(Y||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=P),x.props=d,x.state=P,x.context=M,d=C):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{x=s.stateNode,Hf(i,s),C=s.memoizedProps,M=s.type===s.elementType?C:Rn(s.type,C),x.props=M,Y=s.pendingProps,K=x.context,P=u.contextType,typeof P=="object"&&P!==null?P=_n(P):(P=Jt(u)?Xr:Dt.current,P=Li(s,P));var ue=u.getDerivedStateFromProps;(Q=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==Y||K!==P)&&vp(s,x,d,P),Cr=!1,K=s.memoizedState,x.state=K,Pa(s,d,x,p);var pe=s.memoizedState;C!==Y||K!==pe||Gt.current||Cr?(typeof ue=="function"&&(nc(s,u,ue,d),pe=s.memoizedState),(M=Cr||gp(s,u,M,d,K,pe,P)||!1)?(Q||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,pe,P),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,pe,P)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=pe),x.props=d,x.state=pe,x.context=P,d=M):(typeof x.componentDidUpdate!="function"||C===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),d=!1)}return ac(i,s,u,d,y,p)}function ac(i,s,u,d,p,y){jp(i,s);var x=(s.flags&128)!==0;if(!d&&!x)return p&&If(s,u,!1),ar(i,s,y);d=s.stateNode,sb.current=s;var C=x&&typeof u.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,i!==null&&x?(s.child=Mi(s,i.child,null,y),s.child=Mi(s,null,C,y)):qt(i,s,C,y),s.memoizedState=d.state,p&&If(s,u,!0),s.child}function Pp(i){var s=i.stateNode;s.pendingContext?Af(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Af(i,s.context,!1),qu(i,s.containerInfo)}function Op(i,s,u,d,p){return Ui(),$u(p),s.flags|=256,qt(i,s,u,d),s.child}var lc={dehydrated:null,treeContext:null,retryLane:0};function uc(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ap(i,s,u){var d=s.pendingProps,p=at.current,y=!1,x=(s.flags&128)!==0,C;if((C=x)||(C=i!==null&&i.memoizedState===null?!1:(p&2)!==0),C?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Ke(at,p&1),i===null)return Lu(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(x=d.children,i=d.fallback,y?(d=s.mode,y=s.child,x={mode:"hidden",children:x},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=x):y=Qa(x,d,0,null),i=ui(i,d,u,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=uc(u),s.memoizedState=lc,i):cc(s,x));if(p=i.memoizedState,p!==null&&(C=p.dehydrated,C!==null))return ob(i,s,x,d,C,p,u);if(y){y=d.fallback,x=s.mode,p=i.child,C=p.sibling;var P={mode:"hidden",children:d.children};return(x&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=P,s.deletions=null):(d=Rr(p,P),d.subtreeFlags=p.subtreeFlags&14680064),C!==null?y=Rr(C,y):(y=ui(y,x,u,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,x=i.child.memoizedState,x=x===null?uc(u):{baseLanes:x.baseLanes|u,cachePool:null,transitions:x.transitions},y.memoizedState=x,y.childLanes=i.childLanes&~u,s.memoizedState=lc,d}return y=i.child,i=y.sibling,d=Rr(y,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=u),d.return=s,d.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=d,s.memoizedState=null,d}function cc(i,s){return s=Qa({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Da(i,s,u,d){return d!==null&&$u(d),Mi(s,i.child,null,u),i=cc(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function ob(i,s,u,d,p,y,x){if(u)return s.flags&256?(s.flags&=-257,d=ic(Error(n(422))),Da(i,s,x,d)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=Qa({mode:"visible",children:d.children},p,0,null),y=ui(y,p,x,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,(s.mode&1)!==0&&Mi(s,i.child,null,x),s.child.memoizedState=uc(x),s.memoizedState=lc,y);if((s.mode&1)===0)return Da(i,s,x,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var C=d.dgst;return d=C,y=Error(n(419)),d=ic(y,d,void 0),Da(i,s,x,d)}if(C=(x&i.childLanes)!==0,Qt||C){if(d=At,d!==null){switch(x&-x){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|x))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,sr(i,p),Ln(d,i,p,-1))}return Cc(),d=ic(Error(n(421))),Da(i,s,x,d)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=wb.bind(null,i),p._reactRetry=s,null):(i=y.treeContext,hn=_r(p.nextSibling),dn=s,it=!0,An=null,i!==null&&(bn[xn++]=rr,bn[xn++]=ir,bn[xn++]=ei,rr=i.id,ir=i.overflow,ei=s),s=cc(s,d.children),s.flags|=4096,s)}function Rp(i,s,u){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),Fu(i.return,s,u)}function dc(i,s,u,d,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=u,y.tailMode=p)}function Ip(i,s,u){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(qt(i,s,d.children,u),d=at.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Rp(i,u,s);else if(i.tag===19)Rp(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Ke(at,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(u=s.child,p=null;u!==null;)i=u.alternate,i!==null&&Oa(i)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),dc(s,!1,p,u,y);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Oa(i)===null){s.child=p;break}i=p.sibling,p.sibling=u,u=p,p=i}dc(s,!0,u,null,y);break;case"together":dc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ua(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function ar(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),si|=s.lanes,(u&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,u=Rr(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Rr(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function ab(i,s,u){switch(s.tag){case 3:Pp(s),Ui();break;case 5:Kf(s);break;case 1:Jt(s.type)&&xa(s);break;case 4:qu(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Ke(Ta,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Ke(at,at.current&1),s.flags|=128,null):(u&s.child.childLanes)!==0?Ap(i,s,u):(Ke(at,at.current&1),i=ar(i,s,u),i!==null?i.sibling:null);Ke(at,at.current&1);break;case 19:if(d=(u&s.childLanes)!==0,(i.flags&128)!==0){if(d)return Ip(i,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ke(at,at.current),d)break;return null;case 22:case 23:return s.lanes=0,Tp(i,s,u)}return ar(i,s,u)}var zp,hc,Lp,$p;zp=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},hc=function(){},Lp=function(i,s,u,d){var p=i.memoizedProps;if(p!==d){i=s.stateNode,ri(Hn.current);var y=null;switch(u){case"input":p=Gr(i,p),d=Gr(i,d),y=[];break;case"select":p=S({},p,{value:void 0}),d=S({},d,{value:void 0}),y=[];break;case"textarea":p=D(i,p),d=D(i,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=va)}Et(u,d);var x;u=null;for(M in p)if(!d.hasOwnProperty(M)&&p.hasOwnProperty(M)&&p[M]!=null)if(M==="style"){var C=p[M];for(x in C)C.hasOwnProperty(x)&&(u||(u={}),u[x]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(o.hasOwnProperty(M)?y||(y=[]):(y=y||[]).push(M,null));for(M in d){var P=d[M];if(C=p?.[M],d.hasOwnProperty(M)&&P!==C&&(P!=null||C!=null))if(M==="style")if(C){for(x in C)!C.hasOwnProperty(x)||P&&P.hasOwnProperty(x)||(u||(u={}),u[x]="");for(x in P)P.hasOwnProperty(x)&&C[x]!==P[x]&&(u||(u={}),u[x]=P[x])}else u||(y||(y=[]),y.push(M,u)),u=P;else M==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,C=C?C.__html:void 0,P!=null&&C!==P&&(y=y||[]).push(M,P)):M==="children"?typeof P!="string"&&typeof P!="number"||(y=y||[]).push(M,""+P):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(o.hasOwnProperty(M)?(P!=null&&M==="onScroll"&&Xe("scroll",i),y||C===P||(y=[])):(y=y||[]).push(M,P))}u&&(y=y||[]).push("style",u);var M=y;(s.updateQueue=M)&&(s.flags|=4)}},$p=function(i,s,u,d){u!==d&&(s.flags|=4)};function io(i,s){if(!it)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Mt(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(s)for(var p=i.child;p!==null;)u|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)u|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=u,s}function lb(i,s,u){var d=s.pendingProps;switch(Iu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(s),null;case 1:return Jt(s.type)&&ba(),Mt(s),null;case 3:return d=s.stateNode,Vi(),et(Gt),et(Dt),Zu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Ea(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,An!==null&&(kc(An),An=null))),hc(i,s),Mt(s),null;case 5:Hu(s);var p=ri(Xs.current);if(u=s.type,i!==null&&s.stateNode!=null)Lp(i,s,u,d,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return Mt(s),null}if(i=ri(Hn.current),Ea(s)){d=s.stateNode,u=s.type;var y=s.memoizedProps;switch(d[qn]=s,d[Ks]=y,i=(s.mode&1)!==0,u){case"dialog":Xe("cancel",d),Xe("close",d);break;case"iframe":case"object":case"embed":Xe("load",d);break;case"video":case"audio":for(p=0;p<Hs.length;p++)Xe(Hs[p],d);break;case"source":Xe("error",d);break;case"img":case"image":case"link":Xe("error",d),Xe("load",d);break;case"details":Xe("toggle",d);break;case"input":fr(d,y),Xe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Xe("invalid",d);break;case"textarea":B(d,y),Xe("invalid",d)}Et(u,y),p=null;for(var x in y)if(y.hasOwnProperty(x)){var C=y[x];x==="children"?typeof C=="string"?d.textContent!==C&&(y.suppressHydrationWarning!==!0&&ya(d.textContent,C,i),p=["children",C]):typeof C=="number"&&d.textContent!==""+C&&(y.suppressHydrationWarning!==!0&&ya(d.textContent,C,i),p=["children",""+C]):o.hasOwnProperty(x)&&C!=null&&x==="onScroll"&&Xe("scroll",d)}switch(u){case"input":ln(d),ki(d,y,!0);break;case"textarea":ln(d),ie(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=va)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{x=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=O(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=x.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=x.createElement(u,{is:d.is}):(i=x.createElement(u),u==="select"&&(x=i,d.multiple?x.multiple=!0:d.size&&(x.size=d.size))):i=x.createElementNS(i,u),i[qn]=s,i[Ks]=d,zp(i,s,!1,!1),s.stateNode=i;e:{switch(x=un(u,d),u){case"dialog":Xe("cancel",i),Xe("close",i),p=d;break;case"iframe":case"object":case"embed":Xe("load",i),p=d;break;case"video":case"audio":for(p=0;p<Hs.length;p++)Xe(Hs[p],i);p=d;break;case"source":Xe("error",i),p=d;break;case"img":case"image":case"link":Xe("error",i),Xe("load",i),p=d;break;case"details":Xe("toggle",i),p=d;break;case"input":fr(i,d),p=Gr(i,d),Xe("invalid",i);break;case"option":p=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},p=S({},d,{value:void 0}),Xe("invalid",i);break;case"textarea":B(i,d),p=D(i,d),Xe("invalid",i);break;default:p=d}Et(u,p),C=p;for(y in C)if(C.hasOwnProperty(y)){var P=C[y];y==="style"?wn(i,P):y==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&de(i,P)):y==="children"?typeof P=="string"?(u!=="textarea"||P!=="")&&Ne(i,P):typeof P=="number"&&Ne(i,""+P):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?P!=null&&y==="onScroll"&&Xe("scroll",i):P!=null&&z(i,y,P,x))}switch(u){case"input":ln(i),ki(i,d,!1);break;case"textarea":ln(i),ie(i);break;case"option":d.value!=null&&i.setAttribute("value",""+ze(d.value));break;case"select":i.multiple=!!d.multiple,y=d.value,y!=null?N(i,!!d.multiple,y,!1):d.defaultValue!=null&&N(i,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=va)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Mt(s),null;case 6:if(i&&s.stateNode!=null)$p(i,s,i.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(u=ri(Xs.current),ri(Hn.current),Ea(s)){if(d=s.stateNode,u=s.memoizedProps,d[qn]=s,(y=d.nodeValue!==u)&&(i=dn,i!==null))switch(i.tag){case 3:ya(d.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ya(d.nodeValue,u,(i.mode&1)!==0)}y&&(s.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[qn]=s,s.stateNode=d}return Mt(s),null;case 13:if(et(at),d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(it&&hn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Mf(),Ui(),s.flags|=98560,y=!1;else if(y=Ea(s),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[qn]=s}else Ui(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mt(s),y=!1}else An!==null&&(kc(An),An=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=u,s):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(at.current&1)!==0?Tt===0&&(Tt=3):Cc())),s.updateQueue!==null&&(s.flags|=4),Mt(s),null);case 4:return Vi(),hc(i,s),i===null&&Ws(s.stateNode.containerInfo),Mt(s),null;case 10:return Mu(s.type._context),Mt(s),null;case 17:return Jt(s.type)&&ba(),Mt(s),null;case 19:if(et(at),y=s.memoizedState,y===null)return Mt(s),null;if(d=(s.flags&128)!==0,x=y.rendering,x===null)if(d)io(y,!1);else{if(Tt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(x=Oa(i),x!==null){for(s.flags|=128,io(y,!1),d=x.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=u,u=s.child;u!==null;)y=u,i=d,y.flags&=14680066,x=y.alternate,x===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=x.childLanes,y.lanes=x.lanes,y.child=x.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=x.memoizedProps,y.memoizedState=x.memoizedState,y.updateQueue=x.updateQueue,y.type=x.type,i=x.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ke(at,at.current&1|2),s.child}i=i.sibling}y.tail!==null&&gt()>Zi&&(s.flags|=128,d=!0,io(y,!1),s.lanes=4194304)}else{if(!d)if(i=Oa(x),i!==null){if(s.flags|=128,d=!0,u=i.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),io(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!it)return Mt(s),null}else 2*gt()-y.renderingStartTime>Zi&&u!==1073741824&&(s.flags|=128,d=!0,io(y,!1),s.lanes=4194304);y.isBackwards?(x.sibling=s.child,s.child=x):(u=y.last,u!==null?u.sibling=x:s.child=x,y.last=x)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=gt(),s.sibling=null,u=at.current,Ke(at,d?u&1|2:u&1),s):(Mt(s),null);case 22:case 23:return Ec(),d=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(fn&1073741824)!==0&&(Mt(s),s.subtreeFlags&6&&(s.flags|=8192)):Mt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function ub(i,s){switch(Iu(s),s.tag){case 1:return Jt(s.type)&&ba(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Vi(),et(Gt),et(Dt),Zu(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Hu(s),null;case 13:if(et(at),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Ui()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return et(at),null;case 4:return Vi(),null;case 10:return Mu(s.type._context),null;case 22:case 23:return Ec(),null;case 24:return null;default:return null}}var Ma=!1,Ft=!1,cb=typeof WeakSet=="function"?WeakSet:Set,he=null;function Hi(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){ft(i,s,d)}else u.current=null}function fc(i,s,u){try{u()}catch(d){ft(i,s,d)}}var Dp=!1;function db(i,s){if(Eu=oa,i=gf(),yu(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var x=0,C=-1,P=-1,M=0,Q=0,Y=i,K=null;t:for(;;){for(var ue;Y!==u||p!==0&&Y.nodeType!==3||(C=x+p),Y!==y||d!==0&&Y.nodeType!==3||(P=x+d),Y.nodeType===3&&(x+=Y.nodeValue.length),(ue=Y.firstChild)!==null;)K=Y,Y=ue;for(;;){if(Y===i)break t;if(K===u&&++M===p&&(C=x),K===y&&++Q===d&&(P=x),(ue=Y.nextSibling)!==null)break;Y=K,K=Y.parentNode}Y=ue}u=C===-1||P===-1?null:{start:C,end:P}}else u=null}u=u||{start:0,end:0}}else u=null;for(Cu={focusedElem:i,selectionRange:u},oa=!1,he=s;he!==null;)if(s=he,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,he=i;else for(;he!==null;){s=he;try{var pe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ge=pe.memoizedProps,yt=pe.memoizedState,$=s.stateNode,R=$.getSnapshotBeforeUpdate(s.elementType===s.type?ge:Rn(s.type,ge),yt);$.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var U=s.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(te){ft(s,s.return,te)}if(i=s.sibling,i!==null){i.return=s.return,he=i;break}he=s.return}return pe=Dp,Dp=!1,pe}function so(i,s,u){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&fc(s,u,y)}p=p.next}while(p!==d)}}function Fa(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var d=u.create;u.destroy=d()}u=u.next}while(u!==s)}}function pc(i){var s=i.ref;if(s!==null){var u=i.stateNode;i.tag,i=u,typeof s=="function"?s(i):s.current=i}}function Up(i){var s=i.alternate;s!==null&&(i.alternate=null,Up(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[qn],delete s[Ks],delete s[Pu],delete s[Zw],delete s[Kw])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Mp(i){return i.tag===5||i.tag===3||i.tag===4}function Fp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Mp(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mc(i,s,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=va));else if(d!==4&&(i=i.child,i!==null))for(mc(i,s,u),i=i.sibling;i!==null;)mc(i,s,u),i=i.sibling}function gc(i,s,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(gc(i,s,u),i=i.sibling;i!==null;)gc(i,s,u),i=i.sibling}var It=null,In=!1;function jr(i,s,u){for(u=u.child;u!==null;)Bp(i,s,u),u=u.sibling}function Bp(i,s,u){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(ea,u)}catch{}switch(u.tag){case 5:Ft||Hi(u,s);case 6:var d=It,p=In;It=null,jr(i,s,u),It=d,In=p,It!==null&&(In?(i=It,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):It.removeChild(u.stateNode));break;case 18:It!==null&&(In?(i=It,u=u.stateNode,i.nodeType===8?Nu(i.parentNode,u):i.nodeType===1&&Nu(i,u),$s(i)):Nu(It,u.stateNode));break;case 4:d=It,p=In,It=u.stateNode.containerInfo,In=!0,jr(i,s,u),It=d,In=p;break;case 0:case 11:case 14:case 15:if(!Ft&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,x=y.destroy;y=y.tag,x!==void 0&&((y&2)!==0||(y&4)!==0)&&fc(u,s,x),p=p.next}while(p!==d)}jr(i,s,u);break;case 1:if(!Ft&&(Hi(u,s),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(C){ft(u,s,C)}jr(i,s,u);break;case 21:jr(i,s,u);break;case 22:u.mode&1?(Ft=(d=Ft)||u.memoizedState!==null,jr(i,s,u),Ft=d):jr(i,s,u);break;default:jr(i,s,u)}}function Vp(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new cb),s.forEach(function(d){var p=bb.bind(null,i,d);u.has(d)||(u.add(d),d.then(p,p))})}}function zn(i,s){var u=s.deletions;if(u!==null)for(var d=0;d<u.length;d++){var p=u[d];try{var y=i,x=s,C=x;e:for(;C!==null;){switch(C.tag){case 5:It=C.stateNode,In=!1;break e;case 3:It=C.stateNode.containerInfo,In=!0;break e;case 4:It=C.stateNode.containerInfo,In=!0;break e}C=C.return}if(It===null)throw Error(n(160));Bp(y,x,p),It=null,In=!1;var P=p.alternate;P!==null&&(P.return=null),p.return=null}catch(M){ft(p,s,M)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)qp(s,i),s=s.sibling}function qp(i,s){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(zn(s,i),Zn(i),d&4){try{so(3,i,i.return),Fa(3,i)}catch(ge){ft(i,i.return,ge)}try{so(5,i,i.return)}catch(ge){ft(i,i.return,ge)}}break;case 1:zn(s,i),Zn(i),d&512&&u!==null&&Hi(u,u.return);break;case 5:if(zn(s,i),Zn(i),d&512&&u!==null&&Hi(u,u.return),i.flags&32){var p=i.stateNode;try{Ne(p,"")}catch(ge){ft(i,i.return,ge)}}if(d&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,x=u!==null?u.memoizedProps:y,C=i.type,P=i.updateQueue;if(i.updateQueue=null,P!==null)try{C==="input"&&y.type==="radio"&&y.name!=null&&pr(p,y),un(C,x);var M=un(C,y);for(x=0;x<P.length;x+=2){var Q=P[x],Y=P[x+1];Q==="style"?wn(p,Y):Q==="dangerouslySetInnerHTML"?de(p,Y):Q==="children"?Ne(p,Y):z(p,Q,Y,M)}switch(C){case"input":mr(p,y);break;case"textarea":oe(p,y);break;case"select":var K=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ue=y.value;ue!=null?N(p,!!y.multiple,ue,!1):K!==!!y.multiple&&(y.defaultValue!=null?N(p,!!y.multiple,y.defaultValue,!0):N(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ks]=y}catch(ge){ft(i,i.return,ge)}}break;case 6:if(zn(s,i),Zn(i),d&4){if(i.stateNode===null)throw Error(n(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(ge){ft(i,i.return,ge)}}break;case 3:if(zn(s,i),Zn(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{$s(s.containerInfo)}catch(ge){ft(i,i.return,ge)}break;case 4:zn(s,i),Zn(i);break;case 13:zn(s,i),Zn(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(wc=gt())),d&4&&Vp(i);break;case 22:if(Q=u!==null&&u.memoizedState!==null,i.mode&1?(Ft=(M=Ft)||Q,zn(s,i),Ft=M):zn(s,i),Zn(i),d&8192){if(M=i.memoizedState!==null,(i.stateNode.isHidden=M)&&!Q&&(i.mode&1)!==0)for(he=i,Q=i.child;Q!==null;){for(Y=he=Q;he!==null;){switch(K=he,ue=K.child,K.tag){case 0:case 11:case 14:case 15:so(4,K,K.return);break;case 1:Hi(K,K.return);var pe=K.stateNode;if(typeof pe.componentWillUnmount=="function"){d=K,u=K.return;try{s=d,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(ge){ft(d,u,ge)}}break;case 5:Hi(K,K.return);break;case 22:if(K.memoizedState!==null){Zp(Y);continue}}ue!==null?(ue.return=K,he=ue):Zp(Y)}Q=Q.sibling}e:for(Q=null,Y=i;;){if(Y.tag===5){if(Q===null){Q=Y;try{p=Y.stateNode,M?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(C=Y.stateNode,P=Y.memoizedProps.style,x=P!=null&&P.hasOwnProperty("display")?P.display:null,C.style.display=Kt("display",x))}catch(ge){ft(i,i.return,ge)}}}else if(Y.tag===6){if(Q===null)try{Y.stateNode.nodeValue=M?"":Y.memoizedProps}catch(ge){ft(i,i.return,ge)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===i)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===i)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===i)break e;Q===Y&&(Q=null),Y=Y.return}Q===Y&&(Q=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:zn(s,i),Zn(i),d&4&&Vp(i);break;case 21:break;default:zn(s,i),Zn(i)}}function Zn(i){var s=i.flags;if(s&2){try{e:{for(var u=i.return;u!==null;){if(Mp(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Ne(p,""),d.flags&=-33);var y=Fp(i);gc(i,y,p);break;case 3:case 4:var x=d.stateNode.containerInfo,C=Fp(i);mc(i,C,x);break;default:throw Error(n(161))}}catch(P){ft(i,i.return,P)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function hb(i,s,u){he=i,Hp(i)}function Hp(i,s,u){for(var d=(i.mode&1)!==0;he!==null;){var p=he,y=p.child;if(p.tag===22&&d){var x=p.memoizedState!==null||Ma;if(!x){var C=p.alternate,P=C!==null&&C.memoizedState!==null||Ft;C=Ma;var M=Ft;if(Ma=x,(Ft=P)&&!M)for(he=p;he!==null;)x=he,P=x.child,x.tag===22&&x.memoizedState!==null?Kp(p):P!==null?(P.return=x,he=P):Kp(p);for(;y!==null;)he=y,Hp(y),y=y.sibling;he=p,Ma=C,Ft=M}Wp(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,he=y):Wp(i)}}function Wp(i){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var u=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ft||Fa(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Ft)if(u===null)d.componentDidMount();else{var p=s.elementType===s.type?u.memoizedProps:Rn(s.type,u.memoizedProps);d.componentDidUpdate(p,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Zf(s,y,d);break;case 3:var x=s.updateQueue;if(x!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}Zf(s,x,u)}break;case 5:var C=s.stateNode;if(u===null&&s.flags&4){u=C;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&u.focus();break;case"img":P.src&&(u.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var M=s.alternate;if(M!==null){var Q=M.memoizedState;if(Q!==null){var Y=Q.dehydrated;Y!==null&&$s(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ft||s.flags&512&&pc(s)}catch(K){ft(s,s.return,K)}}if(s===i){he=null;break}if(u=s.sibling,u!==null){u.return=s.return,he=u;break}he=s.return}}function Zp(i){for(;he!==null;){var s=he;if(s===i){he=null;break}var u=s.sibling;if(u!==null){u.return=s.return,he=u;break}he=s.return}}function Kp(i){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Fa(4,s)}catch(P){ft(s,u,P)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(P){ft(s,p,P)}}var y=s.return;try{pc(s)}catch(P){ft(s,y,P)}break;case 5:var x=s.return;try{pc(s)}catch(P){ft(s,x,P)}}}catch(P){ft(s,s.return,P)}if(s===i){he=null;break}var C=s.sibling;if(C!==null){C.return=s.return,he=C;break}he=s.return}}var fb=Math.ceil,Ba=V.ReactCurrentDispatcher,yc=V.ReactCurrentOwner,Sn=V.ReactCurrentBatchConfig,Fe=0,At=null,vt=null,zt=0,fn=0,Wi=kr(0),Tt=0,oo=null,si=0,Va=0,vc=0,ao=null,Yt=null,wc=0,Zi=1/0,lr=null,qa=!1,bc=null,Nr=null,Ha=!1,Pr=null,Wa=0,lo=0,xc=null,Za=-1,Ka=0;function Ht(){return(Fe&6)!==0?gt():Za!==-1?Za:Za=gt()}function Or(i){return(i.mode&1)===0?1:(Fe&2)!==0&&zt!==0?zt&-zt:Jw.transition!==null?(Ka===0&&(Ka=Mh()),Ka):(i=He,i!==0||(i=window.event,i=i===void 0?16:Gh(i.type)),i)}function Ln(i,s,u,d){if(50<lo)throw lo=0,xc=null,Error(n(185));As(i,u,d),((Fe&2)===0||i!==At)&&(i===At&&((Fe&2)===0&&(Va|=u),Tt===4&&Ar(i,zt)),Xt(i,d),u===1&&Fe===0&&(s.mode&1)===0&&(Zi=gt()+500,_a&&Er()))}function Xt(i,s){var u=i.callbackNode;J0(i,s);var d=ra(i,i===At?zt:0);if(d===0)u!==null&&$h(u),i.callbackNode=null,i.callbackPriority=0;else if(s=d&-d,i.callbackPriority!==s){if(u!=null&&$h(u),s===1)i.tag===0?Gw(Jp.bind(null,i)):zf(Jp.bind(null,i)),Hw(function(){(Fe&6)===0&&Er()}),u=null;else{switch(Fh(d)){case 1:u=eu;break;case 4:u=Dh;break;case 16:u=Xo;break;case 536870912:u=Uh;break;default:u=Xo}u=im(u,Gp.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function Gp(i,s){if(Za=-1,Ka=0,(Fe&6)!==0)throw Error(n(327));var u=i.callbackNode;if(Ki()&&i.callbackNode!==u)return null;var d=ra(i,i===At?zt:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||s)s=Ga(i,d);else{s=d;var p=Fe;Fe|=2;var y=Yp();(At!==i||zt!==s)&&(lr=null,Zi=gt()+500,ai(i,s));do try{gb();break}catch(C){Qp(i,C)}while(!0);Uu(),Ba.current=y,Fe=p,vt!==null?s=0:(At=null,zt=0,s=Tt)}if(s!==0){if(s===2&&(p=tu(i),p!==0&&(d=p,s=_c(i,p))),s===1)throw u=oo,ai(i,0),Ar(i,d),Xt(i,gt()),u;if(s===6)Ar(i,d);else{if(p=i.current.alternate,(d&30)===0&&!pb(p)&&(s=Ga(i,d),s===2&&(y=tu(i),y!==0&&(d=y,s=_c(i,y))),s===1))throw u=oo,ai(i,0),Ar(i,d),Xt(i,gt()),u;switch(i.finishedWork=p,i.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:li(i,Yt,lr);break;case 3:if(Ar(i,d),(d&130023424)===d&&(s=wc+500-gt(),10<s)){if(ra(i,0)!==0)break;if(p=i.suspendedLanes,(p&d)!==d){Ht(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=ju(li.bind(null,i,Yt,lr),s);break}li(i,Yt,lr);break;case 4:if(Ar(i,d),(d&4194240)===d)break;for(s=i.eventTimes,p=-1;0<d;){var x=31-Pn(d);y=1<<x,x=s[x],x>p&&(p=x),d&=~y}if(d=p,d=gt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*fb(d/1960))-d,10<d){i.timeoutHandle=ju(li.bind(null,i,Yt,lr),d);break}li(i,Yt,lr);break;case 5:li(i,Yt,lr);break;default:throw Error(n(329))}}}return Xt(i,gt()),i.callbackNode===u?Gp.bind(null,i):null}function _c(i,s){var u=ao;return i.current.memoizedState.isDehydrated&&(ai(i,s).flags|=256),i=Ga(i,s),i!==2&&(s=Yt,Yt=u,s!==null&&kc(s)),i}function kc(i){Yt===null?Yt=i:Yt.push.apply(Yt,i)}function pb(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var p=u[d],y=p.getSnapshot;p=p.value;try{if(!On(y(),p))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ar(i,s){for(s&=~vc,s&=~Va,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-Pn(s),d=1<<u;i[u]=-1,s&=~d}}function Jp(i){if((Fe&6)!==0)throw Error(n(327));Ki();var s=ra(i,0);if((s&1)===0)return Xt(i,gt()),null;var u=Ga(i,s);if(i.tag!==0&&u===2){var d=tu(i);d!==0&&(s=d,u=_c(i,d))}if(u===1)throw u=oo,ai(i,0),Ar(i,s),Xt(i,gt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,li(i,Yt,lr),Xt(i,gt()),null}function Sc(i,s){var u=Fe;Fe|=1;try{return i(s)}finally{Fe=u,Fe===0&&(Zi=gt()+500,_a&&Er())}}function oi(i){Pr!==null&&Pr.tag===0&&(Fe&6)===0&&Ki();var s=Fe;Fe|=1;var u=Sn.transition,d=He;try{if(Sn.transition=null,He=1,i)return i()}finally{He=d,Sn.transition=u,Fe=s,(Fe&6)===0&&Er()}}function Ec(){fn=Wi.current,et(Wi)}function ai(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,qw(u)),vt!==null)for(u=vt.return;u!==null;){var d=u;switch(Iu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ba();break;case 3:Vi(),et(Gt),et(Dt),Zu();break;case 5:Hu(d);break;case 4:Vi();break;case 13:et(at);break;case 19:et(at);break;case 10:Mu(d.type._context);break;case 22:case 23:Ec()}u=u.return}if(At=i,vt=i=Rr(i.current,null),zt=fn=s,Tt=0,oo=null,vc=Va=si=0,Yt=ao=null,ni!==null){for(s=0;s<ni.length;s++)if(u=ni[s],d=u.interleaved,d!==null){u.interleaved=null;var p=d.next,y=u.pending;if(y!==null){var x=y.next;y.next=p,d.next=x}u.pending=d}ni=null}return i}function Qp(i,s){do{var u=vt;try{if(Uu(),Aa.current=La,Ra){for(var d=lt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Ra=!1}if(ii=0,Ot=Ct=lt=null,eo=!1,to=0,yc.current=null,u===null||u.return===null){Tt=1,oo=s,vt=null;break}e:{var y=i,x=u.return,C=u,P=s;if(s=zt,C.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var M=P,Q=C,Y=Q.tag;if((Q.mode&1)===0&&(Y===0||Y===11||Y===15)){var K=Q.alternate;K?(Q.updateQueue=K.updateQueue,Q.memoizedState=K.memoizedState,Q.lanes=K.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ue=_p(x);if(ue!==null){ue.flags&=-257,kp(ue,x,C,y,s),ue.mode&1&&xp(y,M,s),s=ue,P=M;var pe=s.updateQueue;if(pe===null){var ge=new Set;ge.add(P),s.updateQueue=ge}else pe.add(P);break e}else{if((s&1)===0){xp(y,M,s),Cc();break e}P=Error(n(426))}}else if(it&&C.mode&1){var yt=_p(x);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),kp(yt,x,C,y,s),$u(qi(P,C));break e}}y=P=qi(P,C),Tt!==4&&(Tt=2),ao===null?ao=[y]:ao.push(y),y=x;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var $=wp(y,P,s);Wf(y,$);break e;case 1:C=P;var R=y.type,U=y.stateNode;if((y.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Nr===null||!Nr.has(U)))){y.flags|=65536,s&=-s,y.lanes|=s;var te=bp(y,C,s);Wf(y,te);break e}}y=y.return}while(y!==null)}em(u)}catch(we){s=we,vt===u&&u!==null&&(vt=u=u.return);continue}break}while(!0)}function Yp(){var i=Ba.current;return Ba.current=La,i===null?La:i}function Cc(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),At===null||(si&268435455)===0&&(Va&268435455)===0||Ar(At,zt)}function Ga(i,s){var u=Fe;Fe|=2;var d=Yp();(At!==i||zt!==s)&&(lr=null,ai(i,s));do try{mb();break}catch(p){Qp(i,p)}while(!0);if(Uu(),Fe=u,Ba.current=d,vt!==null)throw Error(n(261));return At=null,zt=0,Tt}function mb(){for(;vt!==null;)Xp(vt)}function gb(){for(;vt!==null&&!F0();)Xp(vt)}function Xp(i){var s=rm(i.alternate,i,fn);i.memoizedProps=i.pendingProps,s===null?em(i):vt=s,yc.current=null}function em(i){var s=i;do{var u=s.alternate;if(i=s.return,(s.flags&32768)===0){if(u=lb(u,s,fn),u!==null){vt=u;return}}else{if(u=ub(u,s),u!==null){u.flags&=32767,vt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Tt=6,vt=null;return}}if(s=s.sibling,s!==null){vt=s;return}vt=s=i}while(s!==null);Tt===0&&(Tt=5)}function li(i,s,u){var d=He,p=Sn.transition;try{Sn.transition=null,He=1,yb(i,s,u,d)}finally{Sn.transition=p,He=d}return null}function yb(i,s,u,d){do Ki();while(Pr!==null);if((Fe&6)!==0)throw Error(n(327));u=i.finishedWork;var p=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var y=u.lanes|u.childLanes;if(Q0(i,y),i===At&&(vt=At=null,zt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Ha||(Ha=!0,im(Xo,function(){return Ki(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=Sn.transition,Sn.transition=null;var x=He;He=1;var C=Fe;Fe|=4,yc.current=null,db(i,u),qp(u,i),$w(Cu),oa=!!Eu,Cu=Eu=null,i.current=u,hb(u),B0(),Fe=C,He=x,Sn.transition=y}else i.current=u;if(Ha&&(Ha=!1,Pr=i,Wa=p),y=i.pendingLanes,y===0&&(Nr=null),H0(u.stateNode),Xt(i,gt()),s!==null)for(d=i.onRecoverableError,u=0;u<s.length;u++)p=s[u],d(p.value,{componentStack:p.stack,digest:p.digest});if(qa)throw qa=!1,i=bc,bc=null,i;return(Wa&1)!==0&&i.tag!==0&&Ki(),y=i.pendingLanes,(y&1)!==0?i===xc?lo++:(lo=0,xc=i):lo=0,Er(),null}function Ki(){if(Pr!==null){var i=Fh(Wa),s=Sn.transition,u=He;try{if(Sn.transition=null,He=16>i?16:i,Pr===null)var d=!1;else{if(i=Pr,Pr=null,Wa=0,(Fe&6)!==0)throw Error(n(331));var p=Fe;for(Fe|=4,he=i.current;he!==null;){var y=he,x=y.child;if((he.flags&16)!==0){var C=y.deletions;if(C!==null){for(var P=0;P<C.length;P++){var M=C[P];for(he=M;he!==null;){var Q=he;switch(Q.tag){case 0:case 11:case 15:so(8,Q,y)}var Y=Q.child;if(Y!==null)Y.return=Q,he=Y;else for(;he!==null;){Q=he;var K=Q.sibling,ue=Q.return;if(Up(Q),Q===M){he=null;break}if(K!==null){K.return=ue,he=K;break}he=ue}}}var pe=y.alternate;if(pe!==null){var ge=pe.child;if(ge!==null){pe.child=null;do{var yt=ge.sibling;ge.sibling=null,ge=yt}while(ge!==null)}}he=y}}if((y.subtreeFlags&2064)!==0&&x!==null)x.return=y,he=x;else e:for(;he!==null;){if(y=he,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:so(9,y,y.return)}var $=y.sibling;if($!==null){$.return=y.return,he=$;break e}he=y.return}}var R=i.current;for(he=R;he!==null;){x=he;var U=x.child;if((x.subtreeFlags&2064)!==0&&U!==null)U.return=x,he=U;else e:for(x=R;he!==null;){if(C=he,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Fa(9,C)}}catch(we){ft(C,C.return,we)}if(C===x){he=null;break e}var te=C.sibling;if(te!==null){te.return=C.return,he=te;break e}he=C.return}}if(Fe=p,Er(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(ea,i)}catch{}d=!0}return d}finally{He=u,Sn.transition=s}}return!1}function tm(i,s,u){s=qi(u,s),s=wp(i,s,1),i=Tr(i,s,1),s=Ht(),i!==null&&(As(i,1,s),Xt(i,s))}function ft(i,s,u){if(i.tag===3)tm(i,i,u);else for(;s!==null;){if(s.tag===3){tm(s,i,u);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Nr===null||!Nr.has(d))){i=qi(u,i),i=bp(s,i,1),s=Tr(s,i,1),i=Ht(),s!==null&&(As(s,1,i),Xt(s,i));break}}s=s.return}}function vb(i,s,u){var d=i.pingCache;d!==null&&d.delete(s),s=Ht(),i.pingedLanes|=i.suspendedLanes&u,At===i&&(zt&u)===u&&(Tt===4||Tt===3&&(zt&130023424)===zt&&500>gt()-wc?ai(i,0):vc|=u),Xt(i,s)}function nm(i,s){s===0&&((i.mode&1)===0?s=1:(s=na,na<<=1,(na&130023424)===0&&(na=4194304)));var u=Ht();i=sr(i,s),i!==null&&(As(i,s,u),Xt(i,u))}function wb(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),nm(i,u)}function bb(i,s){var u=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(u=p.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),nm(i,u)}var rm;rm=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||Gt.current)Qt=!0;else{if((i.lanes&u)===0&&(s.flags&128)===0)return Qt=!1,ab(i,s,u);Qt=(i.flags&131072)!==0}else Qt=!1,it&&(s.flags&1048576)!==0&&Lf(s,Sa,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Ua(i,s),i=s.pendingProps;var p=Li(s,Dt.current);Bi(s,u),p=Ju(null,s,d,i,p,u);var y=Qu();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jt(d)?(y=!0,xa(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Vu(s),p.updater=$a,s.stateNode=p,p._reactInternals=s,rc(s,d,i,u),s=ac(null,s,d,!0,y,u)):(s.tag=0,it&&y&&Ru(s),qt(null,s,p,u),s=s.child),s;case 16:d=s.elementType;e:{switch(Ua(i,s),i=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=_b(d),i=Rn(d,i),p){case 0:s=oc(null,s,d,i,u);break e;case 1:s=Np(null,s,d,i,u);break e;case 11:s=Sp(null,s,d,i,u);break e;case 14:s=Ep(null,s,d,Rn(d.type,i),u);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Rn(d,p),oc(i,s,d,p,u);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Rn(d,p),Np(i,s,d,p,u);case 3:e:{if(Pp(s),i===null)throw Error(n(387));d=s.pendingProps,y=s.memoizedState,p=y.element,Hf(i,s),Pa(s,d,null,u);var x=s.memoizedState;if(d=x.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=qi(Error(n(423)),s),s=Op(i,s,d,u,p);break e}else if(d!==p){p=qi(Error(n(424)),s),s=Op(i,s,d,u,p);break e}else for(hn=_r(s.stateNode.containerInfo.firstChild),dn=s,it=!0,An=null,u=Vf(s,null,d,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ui(),d===p){s=ar(i,s,u);break e}qt(i,s,d,u)}s=s.child}return s;case 5:return Kf(s),i===null&&Lu(s),d=s.type,p=s.pendingProps,y=i!==null?i.memoizedProps:null,x=p.children,Tu(d,p)?x=null:y!==null&&Tu(d,y)&&(s.flags|=32),jp(i,s),qt(i,s,x,u),s.child;case 6:return i===null&&Lu(s),null;case 13:return Ap(i,s,u);case 4:return qu(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=Mi(s,null,d,u):qt(i,s,d,u),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Rn(d,p),Sp(i,s,d,p,u);case 7:return qt(i,s,s.pendingProps,u),s.child;case 8:return qt(i,s,s.pendingProps.children,u),s.child;case 12:return qt(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,x=p.value,Ke(Ta,d._currentValue),d._currentValue=x,y!==null)if(On(y.value,x)){if(y.children===p.children&&!Gt.current){s=ar(i,s,u);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var C=y.dependencies;if(C!==null){x=y.child;for(var P=C.firstContext;P!==null;){if(P.context===d){if(y.tag===1){P=or(-1,u&-u),P.tag=2;var M=y.updateQueue;if(M!==null){M=M.shared;var Q=M.pending;Q===null?P.next=P:(P.next=Q.next,Q.next=P),M.pending=P}}y.lanes|=u,P=y.alternate,P!==null&&(P.lanes|=u),Fu(y.return,u,s),C.lanes|=u;break}P=P.next}}else if(y.tag===10)x=y.type===s.type?null:y.child;else if(y.tag===18){if(x=y.return,x===null)throw Error(n(341));x.lanes|=u,C=x.alternate,C!==null&&(C.lanes|=u),Fu(x,u,s),x=y.sibling}else x=y.child;if(x!==null)x.return=y;else for(x=y;x!==null;){if(x===s){x=null;break}if(y=x.sibling,y!==null){y.return=x.return,x=y;break}x=x.return}y=x}qt(i,s,p.children,u),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,Bi(s,u),p=_n(p),d=d(p),s.flags|=1,qt(i,s,d,u),s.child;case 14:return d=s.type,p=Rn(d,s.pendingProps),p=Rn(d.type,p),Ep(i,s,d,p,u);case 15:return Cp(i,s,s.type,s.pendingProps,u);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Rn(d,p),Ua(i,s),s.tag=1,Jt(d)?(i=!0,xa(s)):i=!1,Bi(s,u),yp(s,d,p),rc(s,d,p,u),ac(null,s,d,!0,i,u);case 19:return Ip(i,s,u);case 22:return Tp(i,s,u)}throw Error(n(156,s.tag))};function im(i,s){return Lh(i,s)}function xb(i,s,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(i,s,u,d){return new xb(i,s,u,d)}function Tc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function _b(i){if(typeof i=="function")return Tc(i)?1:0;if(i!=null){if(i=i.$$typeof,i===q)return 11;if(i===J)return 14}return 2}function Rr(i,s){var u=i.alternate;return u===null?(u=En(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Ja(i,s,u,d,p,y){var x=2;if(d=i,typeof i=="function")Tc(i)&&(x=1);else if(typeof i=="string")x=5;else e:switch(i){case ne:return ui(u.children,p,y,s);case fe:x=8,p|=8;break;case ye:return i=En(12,u,s,p|2),i.elementType=ye,i.lanes=y,i;case ae:return i=En(13,u,s,p),i.elementType=ae,i.lanes=y,i;case re:return i=En(19,u,s,p),i.elementType=re,i.lanes=y,i;case be:return Qa(u,p,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ke:x=10;break e;case ce:x=9;break e;case q:x=11;break e;case J:x=14;break e;case ve:x=16,d=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return s=En(x,u,s,p),s.elementType=i,s.type=d,s.lanes=y,s}function ui(i,s,u,d){return i=En(7,i,d,s),i.lanes=u,i}function Qa(i,s,u,d){return i=En(22,i,d,s),i.elementType=be,i.lanes=u,i.stateNode={isHidden:!1},i}function jc(i,s,u){return i=En(6,i,null,s),i.lanes=u,i}function Nc(i,s,u){return s=En(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function kb(i,s,u,d,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nu(0),this.expirationTimes=nu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nu(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Pc(i,s,u,d,p,y,x,C,P){return i=new kb(i,s,u,C,P),s===1?(s=1,y===!0&&(s|=8)):s=0,y=En(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vu(y),i}function Sb(i,s,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:d==null?null:""+d,children:i,containerInfo:s,implementation:u}}function sm(i){if(!i)return Sr;i=i._reactInternals;e:{if(Qr(i)!==i||i.tag!==1)throw Error(n(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Jt(u))return Rf(i,u,s)}return s}function om(i,s,u,d,p,y,x,C,P){return i=Pc(u,d,!0,i,p,y,x,C,P),i.context=sm(null),u=i.current,d=Ht(),p=Or(u),y=or(d,p),y.callback=s??null,Tr(u,y,p),i.current.lanes=p,As(i,p,d),Xt(i,d),i}function Ya(i,s,u,d){var p=s.current,y=Ht(),x=Or(p);return u=sm(u),s.context===null?s.context=u:s.pendingContext=u,s=or(y,x),s.payload={element:i},d=d===void 0?null:d,d!==null&&(s.callback=d),i=Tr(p,s,x),i!==null&&(Ln(i,p,x,y),Na(i,p,x)),x}function Xa(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function am(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function Oc(i,s){am(i,s),(i=i.alternate)&&am(i,s)}function Eb(){return null}var lm=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ac(i){this._internalRoot=i}el.prototype.render=Ac.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));Ya(i,s,null,null)},el.prototype.unmount=Ac.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;oi(function(){Ya(null,i,null,null)}),s[tr]=null}};function el(i){this._internalRoot=i}el.prototype.unstable_scheduleHydration=function(i){if(i){var s=qh();i={blockedOn:null,target:i,priority:s};for(var u=0;u<wr.length&&s!==0&&s<wr[u].priority;u++);wr.splice(u,0,i),u===0&&Zh(i)}};function Rc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function tl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function um(){}function Cb(i,s,u,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var M=Xa(x);y.call(M)}}var x=om(s,d,i,0,null,!1,!1,"",um);return i._reactRootContainer=x,i[tr]=x.current,Ws(i.nodeType===8?i.parentNode:i),oi(),x}for(;p=i.lastChild;)i.removeChild(p);if(typeof d=="function"){var C=d;d=function(){var M=Xa(P);C.call(M)}}var P=Pc(i,0,!1,null,null,!1,!1,"",um);return i._reactRootContainer=P,i[tr]=P.current,Ws(i.nodeType===8?i.parentNode:i),oi(function(){Ya(s,P,u,d)}),P}function nl(i,s,u,d,p){var y=u._reactRootContainer;if(y){var x=y;if(typeof p=="function"){var C=p;p=function(){var P=Xa(x);C.call(P)}}Ya(s,x,i,p)}else x=Cb(u,s,i,p,d);return Xa(x)}Bh=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=Os(s.pendingLanes);u!==0&&(ru(s,u|1),Xt(s,gt()),(Fe&6)===0&&(Zi=gt()+500,Er()))}break;case 13:oi(function(){var d=sr(i,1);if(d!==null){var p=Ht();Ln(d,i,1,p)}}),Oc(i,1)}},iu=function(i){if(i.tag===13){var s=sr(i,134217728);if(s!==null){var u=Ht();Ln(s,i,134217728,u)}Oc(i,134217728)}},Vh=function(i){if(i.tag===13){var s=Or(i),u=sr(i,s);if(u!==null){var d=Ht();Ln(u,i,s,d)}Oc(i,s)}},qh=function(){return He},Hh=function(i,s){var u=He;try{return He=i,s()}finally{He=u}},Jl=function(i,s,u){switch(s){case"input":if(mr(i,u),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var d=u[s];if(d!==i&&d.form===i.form){var p=wa(d);if(!p)throw Error(n(90));_i(d),mr(d,p)}}}break;case"textarea":oe(i,u);break;case"select":s=u.value,s!=null&&N(i,!!u.multiple,s,!1)}},Nh=Sc,Ph=oi;var Tb={usingClientEntryPoint:!1,Events:[Gs,Ii,wa,Th,jh,Sc]},uo={findFiberByHostInstance:Yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jb={bundleType:uo.bundleType,version:uo.version,rendererPackageName:uo.rendererPackageName,rendererConfig:uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ih(i),i===null?null:i.stateNode},findFiberByHostInstance:uo.findFiberByHostInstance||Eb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{ea=rl.inject(jb),Vn=rl}catch{}}return en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tb,en.createPortal=function(i,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rc(s))throw Error(n(200));return Sb(i,s,null,u)},en.createRoot=function(i,s){if(!Rc(i))throw Error(n(299));var u=!1,d="",p=lm;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Pc(i,1,!1,null,null,u,!1,d,p),i[tr]=s.current,Ws(i.nodeType===8?i.parentNode:i),new Ac(s)},en.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Ih(s),i=i===null?null:i.stateNode,i},en.flushSync=function(i){return oi(i)},en.hydrate=function(i,s,u){if(!tl(s))throw Error(n(200));return nl(null,i,s,!0,u)},en.hydrateRoot=function(i,s,u){if(!Rc(i))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,p=!1,y="",x=lm;if(u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(x=u.onRecoverableError)),s=om(s,null,i,1,u??null,p,!1,y,x),i[tr]=s.current,Ws(i),d)for(i=0;i<d.length;i++)u=d[i],p=u._getVersion,p=p(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,p]:s.mutableSourceEagerHydrationData.push(u,p);return new el(s)},en.render=function(i,s,u){if(!tl(s))throw Error(n(200));return nl(null,i,s,!1,u)},en.unmountComponentAtNode=function(i){if(!tl(i))throw Error(n(40));return i._reactRootContainer?(oi(function(){nl(null,null,i,!1,function(){i._reactRootContainer=null,i[tr]=null})}),!0):!1},en.unstable_batchedUpdates=Sc,en.unstable_renderSubtreeIntoContainer=function(i,s,u,d){if(!tl(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return nl(i,s,u,!1,d)},en.version="18.3.1-next-f1338f8080-20240426",en}var ym;function Cy(){if(ym)return Lc.exports;ym=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Lc.exports=$b(),Lc.exports}var vm;function Db(){if(vm)return il;vm=1;var e=Cy();return il.createRoot=e.createRoot,il.hydrateRoot=e.hydrateRoot,il}var Ub=Db();const Mb=Ol(Ub);Cy();function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oo.apply(this,arguments)}var Fr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fr||(Fr={}));const wm="popstate";function Fb(e){e===void 0&&(e={});function t(r,o){let{pathname:a,search:l,hash:c}=r.location;return hd("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Ty(o)}return Vb(t,n,null,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Bb(){return Math.random().toString(36).substr(2,8)}function bm(e,t){return{usr:e.state,key:e.key,idx:t}}function hd(e,t,n,r){return n===void 0&&(n=null),Oo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_s(t):t,{state:n,key:t&&t.key||r||Bb()})}function Ty(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function _s(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Vb(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,l=o.history,c=Fr.Pop,h=null,f=m();f==null&&(f=0,l.replaceState(Oo({},l.state,{idx:f}),""));function m(){return(l.state||{idx:null}).idx}function g(){c=Fr.Pop;let E=m(),j=E==null?null:E-f;f=E,h&&h({action:c,location:_.location,delta:j})}function b(E,j){c=Fr.Push;let I=hd(_.location,E,j);f=m()+1;let z=bm(I,f),V=_.createHref(I);try{l.pushState(z,"",V)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;o.location.assign(V)}a&&h&&h({action:c,location:_.location,delta:1})}function v(E,j){c=Fr.Replace;let I=hd(_.location,E,j);f=m();let z=bm(I,f),V=_.createHref(I);l.replaceState(z,"",V),a&&h&&h({action:c,location:_.location,delta:0})}function k(E){let j=o.location.origin!=="null"?o.location.origin:o.location.href,I=typeof E=="string"?E:Ty(E);return I=I.replace(/ $/,"%20"),_t(j,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,j)}let _={get action(){return c},get location(){return e(o,l)},listen(E){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(wm,g),h=E,()=>{o.removeEventListener(wm,g),h=null}},createHref(E){return t(o,E)},createURL:k,encodeLocation(E){let j=k(E);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:v,go(E){return l.go(E)}};return _}var xm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xm||(xm={}));function qb(e,t,n){return n===void 0&&(n="/"),Hb(e,t,n)}function Hb(e,t,n,r){let o=typeof t=="string"?_s(t):t,a=Py(o.pathname||"/",n);if(a==null)return null;let l=jy(e);Wb(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=ix(a);c=tx(l[h],f)}return c}function jy(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(_t(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let f=vi([r,h.relativePath]),m=n.concat(h);a.children&&a.children.length>0&&(_t(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),jy(a.children,t,m,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:Xb(f,a.index),routesMeta:m})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))o(a,l);else for(let h of Ny(a.path))o(a,l,h)}),t}function Ny(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let l=Ny(r.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),o&&c.push(...l),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function Wb(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ex(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Zb=/^:[\w-]+$/,Kb=3,Gb=2,Jb=1,Qb=10,Yb=-2,_m=e=>e==="*";function Xb(e,t){let n=e.split("/"),r=n.length;return n.some(_m)&&(r+=Yb),t&&(r+=Gb),n.filter(o=>!_m(o)).reduce((o,a)=>o+(Zb.test(a)?Kb:a===""?Jb:Qb),r)}function ex(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function tx(e,t,n){let{routesMeta:r}=e,o={},a="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],f=c===r.length-1,m=a==="/"?t:t.slice(a.length)||"/",g=nx({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),b=h.route;if(!g)return null;Object.assign(o,g.params),l.push({params:o,pathname:vi([a,g.pathname]),pathnameBase:ux(vi([a,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(a=vi([a,g.pathnameBase]))}return l}function nx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=rx(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:r.reduce((f,m,g)=>{let{paramName:b,isOptional:v}=m;if(b==="*"){let _=c[g]||"";l=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const k=c[g];return v&&!k?f[b]=void 0:f[b]=(k||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:e}}function rx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),qd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function ix(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Py(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const sx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ox=e=>sx.test(e);function ax(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?_s(e):e,a;if(n)if(ox(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),qd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?a=km(n.substring(1),"/"):a=km(n,t)}else a=t;return{pathname:a,search:cx(r),hash:dx(o)}}function km(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Uc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Oy(e,t){let n=lx(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ay(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=_s(e):(o=Oo({},e),_t(!o.pathname||!o.pathname.includes("?"),Uc("?","pathname","search",o)),_t(!o.pathname||!o.pathname.includes("#"),Uc("#","pathname","hash",o)),_t(!o.search||!o.search.includes("#"),Uc("#","search","hash",o)));let a=e===""||o.pathname==="",l=a?"/":o.pathname,c;if(l==null)c=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;o.pathname=b.join("/")}c=g>=0?t[g]:"/"}let h=ax(o,c),f=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}const vi=e=>e.join("/").replace(/\/\/+/g,"/"),ux=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ry=["post","put","patch","delete"];new Set(Ry);const fx=["get",...Ry];new Set(fx);function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ao.apply(this,arguments)}const Hd=Z.createContext(null),px=Z.createContext(null),Bo=Z.createContext(null),Al=Z.createContext(null),Hr=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),Iy=Z.createContext(null);function Vo(){return Z.useContext(Al)!=null}function Rl(){return Vo()||_t(!1),Z.useContext(Al).location}function zy(e){Z.useContext(Bo).static||Z.useLayoutEffect(e)}function qo(){let{isDataRoute:e}=Z.useContext(Hr);return e?jx():mx()}function mx(){Vo()||_t(!1);let e=Z.useContext(Hd),{basename:t,future:n,navigator:r}=Z.useContext(Bo),{matches:o}=Z.useContext(Hr),{pathname:a}=Rl(),l=JSON.stringify(Oy(o,n.v7_relativeSplatPath)),c=Z.useRef(!1);return zy(()=>{c.current=!0}),Z.useCallback(function(f,m){if(m===void 0&&(m={}),!c.current)return;if(typeof f=="number"){r.go(f);return}let g=Ay(f,JSON.parse(l),a,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:vi([t,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[t,r,l,a,e])}function gx(){let{matches:e}=Z.useContext(Hr),t=e[e.length-1];return t?t.params:{}}function yx(e,t){return vx(e,t)}function vx(e,t,n,r){Vo()||_t(!1);let{navigator:o}=Z.useContext(Bo),{matches:a}=Z.useContext(Hr),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let f=Rl(),m;if(t){var g;let E=typeof t=="string"?_s(t):t;h==="/"||(g=E.pathname)!=null&&g.startsWith(h)||_t(!1),m=E}else m=f;let b=m.pathname||"/",v=b;if(h!=="/"){let E=h.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=qb(e,{pathname:v}),_=kx(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:vi([h,o.encodeLocation?o.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:vi([h,o.encodeLocation?o.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,n,r);return t&&_?Z.createElement(Al.Provider,{value:{location:Ao({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Fr.Pop}},_):_}function wx(){let e=Tx(),t=hx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},t),n?Z.createElement("pre",{style:o},n):null,null)}const bx=Z.createElement(wx,null);class xx extends Z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?Z.createElement(Hr.Provider,{value:this.props.routeContext},Z.createElement(Iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _x(e){let{routeContext:t,match:n,children:r}=e,o=Z.useContext(Hd);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),Z.createElement(Hr.Provider,{value:t},r)}function kx(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=(o=n)==null?void 0:o.errors;if(c!=null){let m=l.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);m>=0||_t(!1),l=l.slice(0,Math.min(l.length,m+1))}let h=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:b,errors:v}=n,k=g.route.loader&&b[g.route.id]===void 0&&(!v||v[g.route.id]===void 0);if(g.route.lazy||k){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,g,b)=>{let v,k=!1,_=null,E=null;n&&(v=c&&g.route.id?c[g.route.id]:void 0,_=g.route.errorElement||bx,h&&(f<0&&b===0?(Nx("route-fallback"),k=!0,E=null):f===b&&(k=!0,E=g.route.hydrateFallbackElement||null)));let j=t.concat(l.slice(0,b+1)),I=()=>{let z;return v?z=_:k?z=E:g.route.Component?z=Z.createElement(g.route.Component,null):g.route.element?z=g.route.element:z=m,Z.createElement(_x,{match:g,routeContext:{outlet:m,matches:j,isDataRoute:n!=null},children:z})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?Z.createElement(xx,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:I(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):I()},null)}var Ly=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(Ly||{}),$y=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})($y||{});function Sx(e){let t=Z.useContext(Hd);return t||_t(!1),t}function Ex(e){let t=Z.useContext(px);return t||_t(!1),t}function Cx(e){let t=Z.useContext(Hr);return t||_t(!1),t}function Dy(e){let t=Cx(),n=t.matches[t.matches.length-1];return n.route.id||_t(!1),n.route.id}function Tx(){var e;let t=Z.useContext(Iy),n=Ex(),r=Dy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function jx(){let{router:e}=Sx(Ly.UseNavigateStable),t=Dy($y.UseNavigateStable),n=Z.useRef(!1);return zy(()=>{n.current=!0}),Z.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Ao({fromRouteId:t},a)))},[e,t])}const Sm={};function Nx(e,t,n){Sm[e]||(Sm[e]=!0)}function Px(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Gi(e){let{to:t,replace:n,state:r,relative:o}=e;Vo()||_t(!1);let{future:a,static:l}=Z.useContext(Bo),{matches:c}=Z.useContext(Hr),{pathname:h}=Rl(),f=qo(),m=Ay(t,Oy(c,a.v7_relativeSplatPath),h,o==="path"),g=JSON.stringify(m);return Z.useEffect(()=>f(JSON.parse(g),{replace:n,state:r,relative:o}),[f,g,o,n,r]),null}function hi(e){_t(!1)}function Ox(e){let{basename:t="/",children:n=null,location:r,navigationType:o=Fr.Pop,navigator:a,static:l=!1,future:c}=e;Vo()&&_t(!1);let h=t.replace(/^\/*/,"/"),f=Z.useMemo(()=>({basename:h,navigator:a,static:l,future:Ao({v7_relativeSplatPath:!1},c)}),[h,c,a,l]);typeof r=="string"&&(r=_s(r));let{pathname:m="/",search:g="",hash:b="",state:v=null,key:k="default"}=r,_=Z.useMemo(()=>{let E=Py(m,h);return E==null?null:{location:{pathname:E,search:g,hash:b,state:v,key:k},navigationType:o}},[h,m,g,b,v,k,o]);return _==null?null:Z.createElement(Bo.Provider,{value:f},Z.createElement(Al.Provider,{children:n,value:_}))}function Ax(e){let{children:t,location:n}=e;return yx(fd(t),n)}new Promise(()=>{});function fd(e,t){t===void 0&&(t=[]);let n=[];return Z.Children.forEach(e,(r,o)=>{if(!Z.isValidElement(r))return;let a=[...t,o];if(r.type===Z.Fragment){n.push.apply(n,fd(r.props.children,a));return}r.type!==hi&&_t(!1),!r.props.index||!r.props.children||_t(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=fd(r.props.children,a)),n.push(l)}),n}const Rx="6";try{window.__reactRouterVersion=Rx}catch{}const Ix="startTransition",Em=Ib[Ix];function zx(e){let{basename:t,children:n,future:r,window:o}=e,a=Z.useRef();a.current==null&&(a.current=Fb({window:o,v5Compat:!0}));let l=a.current,[c,h]=Z.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},m=Z.useCallback(g=>{f&&Em?Em(()=>h(g)):h(g)},[h,f]);return Z.useLayoutEffect(()=>l.listen(m),[l,m]),Z.useEffect(()=>Px(r),[r]),Z.createElement(Ox,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}var Cm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cm||(Cm={}));var Tm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tm||(Tm={}));function Il(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Lx(e,t,n,r){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(m){try{f(r.next(m))}catch(g){l(g)}}function h(m){try{f(r.throw(m))}catch(g){l(g)}}function f(m){m.done?a(m.value):o(m.value).then(c,h)}f((r=r.apply(e,t||[])).next())})}const $x=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Wd extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Dx extends Wd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jm extends Wd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Nm extends Wd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pd||(pd={}));class Ux{constructor(t,{headers:n={},customFetch:r,region:o=pd.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=$x(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Lx(this,arguments,void 0,function*(n,r={}){var o;let a,l;try{const{headers:c,method:h,body:f,signal:m,timeout:g}=r;let b={},{region:v}=r;v||(v=this.region);const k=new URL(`${this.url}/${n}`);v&&v!=="any"&&(b["x-region"]=v,k.searchParams.set("forceFunctionRegion",v));let _;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",_=f):typeof f=="string"?(b["Content-Type"]="text/plain",_=f):typeof FormData<"u"&&f instanceof FormData?_=f:(b["Content-Type"]="application/json",_=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?_=JSON.stringify(f):_=f;let E=m;g&&(l=new AbortController,a=setTimeout(()=>l.abort(),g),m?(E=l.signal,m.addEventListener("abort",()=>l.abort())):E=l.signal);const j=yield this.fetch(k.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),c),body:_,signal:E}).catch(G=>{throw new Dx(G)}),I=j.headers.get("x-relay-error");if(I&&I==="true")throw new jm(j);if(!j.ok)throw new Nm(j);let z=((o=j.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),V;return z==="application/json"?V=yield j.json():z==="application/octet-stream"||z==="application/pdf"?V=yield j.blob():z==="text/event-stream"?V=j:z==="multipart/form-data"?V=yield j.formData():V=yield j.text(),{data:V,error:null,response:j}}catch(c){return{data:null,error:c,response:c instanceof Nm||c instanceof jm?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var Mx=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Fx=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let l=null,c=null,h=null,f=a.status,m=a.statusText;if(a.ok){var g,b;if(n.method!=="HEAD"){var v;const j=await a.text();j===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((v=n.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?c=j:c=JSON.parse(j))}const _=(g=n.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),E=(b=a.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");_&&E&&E.length>1&&(h=parseInt(E[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var k;const _=await a.text();try{l=JSON.parse(_),Array.isArray(l)&&a.status===404&&(c=[],l=null,f=200,m="OK")}catch{a.status===404&&_===""?(f=204,m="No Content"):l={message:_}}if(l&&n.isMaybeSingle&&(!(l==null||(k=l.details)===null||k===void 0)&&k.includes("0 rows"))&&(l=null,f=200,m="OK"),l&&n.shouldThrowOnError)throw new Mx(l)}return{error:l,data:c,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(o=o.catch(a=>{var l;let c="",h="",f="";const m=a?.cause;if(m){var g,b,v,k;const j=(g=m?.message)!==null&&g!==void 0?g:"",I=(b=m?.code)!==null&&b!==void 0?b:"";c=`${(v=a?.name)!==null&&v!==void 0?v:"FetchError"}: ${a?.message}`,c+=`

Caused by: ${(k=m?.name)!==null&&k!==void 0?k:"Error"}: ${j}`,I&&(c+=` (${I})`),m?.stack&&(c+=`
${m.stack}`)}else{var _;c=(_=a?.stack)!==null&&_!==void 0?_:""}const E=this.url.toString().length;return a?.name==="AbortError"||a?.code==="ABORT_ERR"?(f="",h="Request was aborted (timeout or manual cancellation)",E>this.urlLengthLimit&&(h+=`. Note: Your request URL is ${E} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(m?.name==="HeadersOverflowError"||m?.code==="UND_ERR_HEADERS_OVERFLOW")&&(f="",h="HTTP headers exceeded server limits (typically 16KB)",E>this.urlLengthLimit&&(h+=`. Your request URL is ${E} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=a?.name)!==null&&l!==void 0?l:"FetchError"}: ${a?.message}`,details:c,hint:h,code:f},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}},Bx=class extends Fx{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:o=r}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:o=!1,format:a="text"}={}){var l;const c=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${h}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Pm=new RegExp("[,()]");var ss=class extends Bx{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Pm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Pm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Vx=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:o=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},o=n?"HEAD":"GET";let a=!1;const l=(e??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join(""),{url:c,headers:h}=this.cloneRequestState();return c.searchParams.set("select",l),r&&h.append("Prefer",`count=${r}`),new ss({method:o,url:c,headers:h,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),n||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(c.length>0){const h=[...new Set(c)].map(f=>`"${f}"`);a.searchParams.set("columns",h.join(","))}}return new ss({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:o=!0}={}){var a;const l="POST",{url:c,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&c.searchParams.set("on_conflict",t),r&&h.append("Prefer",`count=${r}`),o||h.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(f.length>0){const m=[...new Set(f)].map(g=>`"${g}"`);c.searchParams.set("columns",m.join(","))}}return new ss({method:l,url:c,headers:h,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:o,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new ss({method:r,url:o,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new ss({method:n,url:r,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function qx(e,t){if(Ro(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ro(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hx(e){var t=qx(e,"string");return Ro(t)=="symbol"?t:t+""}function Wx(e,t,n){return(t=Hx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Om(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function sl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Om(Object(n),!0).forEach(function(r){Wx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Om(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Zx=class Uy{constructor(t,{headers:n={},schema:r,fetch:o,timeout:a,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=l;const c=o??globalThis.fetch;a!==void 0&&a>0?this.fetch=(h,f)=>{const m=new AbortController,g=setTimeout(()=>m.abort(),a),b=f?.signal;if(b){if(b.aborted)return clearTimeout(g),c(h,f);const v=()=>{clearTimeout(g),m.abort()};return b.addEventListener("abort",v,{once:!0}),c(h,sl(sl({},f),{},{signal:m.signal})).finally(()=>{clearTimeout(g),b.removeEventListener("abort",v)})}return c(h,sl(sl({},f),{},{signal:m.signal})).finally(()=>clearTimeout(g))}:this.fetch=c}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Vx(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Uy(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:o=!1,count:a}={}){var l;let c;const h=new URL(`${this.url}/rpc/${t}`);let f;const m=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(m)),g=r&&Object.values(n).some(m);g?(c="POST",f=n):r||o?(c=r?"HEAD":"GET",Object.entries(n).filter(([v,k])=>k!==void 0).map(([v,k])=>[v,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([v,k])=>{h.searchParams.append(v,k)})):(c="POST",f=n);const b=new Headers(this.headers);return g?b.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&b.set("Prefer",`count=${a}`),new ss({method:c,url:h,headers:b,schema:this.schemaName,body:f,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class Kx{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const o=r.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Gx="2.95.3",Jx=`realtime-js/${Gx}`,Qx="1.0.0",My="2.0.0",Am=My,md=1e4,Yx=1e3,Xx=100;var Dr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dr||(Dr={}));var Nt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Nt||(Nt={}));var Un;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Un||(Un={}));var gd;(function(e){e.websocket="websocket"})(gd||(gd={}));var pi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(pi||(pi={}));class e_{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const o=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var n,r;const o=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,r){var o,a;const l=t.topic,c=(o=t.ref)!==null&&o!==void 0?o:"",h=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(m).length===0?"":JSON.stringify(m);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+c.length+l.length+f.length+g.length,v=new ArrayBuffer(this.HEADER_LENGTH+b);let k=new DataView(v),_=0;k.setUint8(_++,this.KINDS.userBroadcastPush),k.setUint8(_++,h.length),k.setUint8(_++,c.length),k.setUint8(_++,l.length),k.setUint8(_++,f.length),k.setUint8(_++,g.length),k.setUint8(_++,n),Array.from(h,j=>k.setUint8(_++,j.charCodeAt(0))),Array.from(c,j=>k.setUint8(_++,j.charCodeAt(0))),Array.from(l,j=>k.setUint8(_++,j.charCodeAt(0))),Array.from(f,j=>k.setUint8(_++,j.charCodeAt(0))),Array.from(g,j=>k.setUint8(_++,j.charCodeAt(0)));var E=new Uint8Array(v.byteLength+r.byteLength);return E.set(new Uint8Array(v),0),E.set(new Uint8Array(r),v.byteLength),E.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[o,a,l,c,h]=r;return n({join_ref:o,ref:a,topic:l,event:c,payload:h})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),o=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,o)}_decodeUserBroadcast(t,n,r){const o=n.getUint8(1),a=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let h=this.HEADER_LENGTH+4;const f=r.decode(t.slice(h,h+o));h=h+o;const m=r.decode(t.slice(h,h+a));h=h+a;const g=r.decode(t.slice(h,h+l));h=h+l;const b=t.slice(h,t.byteLength),v=c===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,k={type:this.BROADCAST_EVENT,event:m,payload:v};return l>0&&(k.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class Fy{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ge||(Ge={}));const Rm=(e,t,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,l)=>(a[l]=t_(l,e,t,o),a),{}):{}},t_=(e,t,n,r)=>{const o=t.find(c=>c.name===e),a=o?.type,l=n[e];return a&&!r.includes(a)?By(a,l):yd(l)},By=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return s_(t,n)}switch(e){case Ge.bool:return n_(t);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return r_(t);case Ge.json:case Ge.jsonb:return i_(t);case Ge.timestamp:return o_(t);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return yd(t);default:return yd(t)}},yd=e=>e,n_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},r_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},i_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},s_=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const l=e.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>By(t,c))}return e},o_=e=>typeof e=="string"?e.replace(" ","T"):e,Vy=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Mc{constructor(t,n,r={},o=md){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Im;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Im||(Im={}));class So{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=So.syncState(this.state,o,a,l),this.pendingDiffs.forEach(h=>{this.state=So.syncDiff(this.state,h,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=So.syncDiff(this.state,o,a,l),c())}),this.onJoin((o,a,l)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:l})}),this.onLeave((o,a,l)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){const a=this.cloneDeep(t),l=this.transformState(n),c={},h={};return this.map(a,(f,m)=>{l[f]||(h[f]=m)}),this.map(l,(f,m)=>{const g=a[f];if(g){const b=m.map(E=>E.presence_ref),v=g.map(E=>E.presence_ref),k=m.filter(E=>v.indexOf(E.presence_ref)<0),_=g.filter(E=>b.indexOf(E.presence_ref)<0);k.length>0&&(c[f]=k),_.length>0&&(h[f]=_)}else c[f]=m}),this.syncDiff(a,{joins:c,leaves:h},r,o)}static syncDiff(t,n,r,o){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(c,h)=>{var f;const m=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(h),m.length>0){const g=t[c].map(v=>v.presence_ref),b=m.filter(v=>g.indexOf(v.presence_ref)<0);t[c].unshift(...b)}r(c,m,h)}),this.map(l,(c,h)=>{let f=t[c];if(!f)return;const m=h.map(g=>g.presence_ref);f=f.filter(g=>m.indexOf(g.presence_ref)<0),t[c]=f,o(c,f,h),f.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const o=t[r];return"metas"in o?n[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zm||(zm={}));var Eo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Eo||(Eo={}));var dr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(dr||(dr={}));class cs{constructor(t,n={config:{}},r){var o,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Mc(this,Un.join,this.params,this.timeout),this.rejoinTimer=new Fy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Un.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new So(this),this.broadcastEndpointURL=Vy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Nt.closed){const{config:{broadcast:l,presence:c,private:h}}=this.params,f=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[Eo.PRESENCE]&&this.bindings[Eo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,g={},b={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(dr.CHANNEL_ERROR,v)),this._onClose(()=>t?.(dr.CLOSED)),this.updateJoinPayload(Object.assign({config:b},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t?.(dr.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,E=(k=_?.length)!==null&&k!==void 0?k:0,j=[];for(let I=0;I<E;I++){const z=_[I],{filter:{event:V,schema:G,table:L,filter:ne}}=z,fe=v&&v[I];if(fe&&fe.event===V&&cs.isFilterValueEqual(fe.schema,G)&&cs.isFilterValueEqual(fe.table,L)&&cs.isFilterValueEqual(fe.filter,ne))j.push(Object.assign(Object.assign({},z),{id:fe.id}));else{this.unsubscribe(),this.state=Nt.errored,t?.(dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(dr.SUBSCRIBED);return}}).receive("error",v=>{this.state=Nt.errored,t?.(dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Nt.joined&&t===Eo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(c.status===202)return{success:!0};let h=c.statusText;try{const f=await c.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,h;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Nt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Un.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Mc(this,Un.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Mc(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Xx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,a;const l=t.toLocaleLowerCase(),{close:c,error:h,leave:f,join:m}=Un;if(r&&[c,h,f,m].indexOf(l)>=0&&r!==this._joinRef())return;let b=this._onMessage(l,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(v=>{var k,_,E;return((k=v.filter)===null||k===void 0?void 0:k.event)==="*"||((E=(_=v.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===l}).map(v=>v.callback(b,r)):(a=this.bindings[l])===null||a===void 0||a.filter(v=>{var k,_,E,j,I,z;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const V=v.id,G=(k=v.filter)===null||k===void 0?void 0:k.event;return V&&((_=n.ids)===null||_===void 0?void 0:_.includes(V))&&(G==="*"||G?.toLocaleLowerCase()===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const V=(I=(j=v?.filter)===null||j===void 0?void 0:j.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return V==="*"||V===((z=n?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof b=="object"&&"ids"in b){const k=b.data,{schema:_,table:E,commit_timestamp:j,type:I,errors:z}=k;b=Object.assign(Object.assign({},{schema:_,table:E,commit_timestamp:j,eventType:I,new:{},old:{},errors:z}),this._getPayloadRecords(k))}v.callback(b,r)})}_isClosed(){return this.state===Nt.closed}_isJoined(){return this.state===Nt.joined}_isJoining(){return this.state===Nt.joining}_isLeaving(){return this.state===Nt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const o=t.toLocaleLowerCase(),a={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&cs.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Un.close,{},t)}_onError(t){this._on(Un.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Rm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Rm(t.columns,t.old_record)),n}}const Fc=()=>{},ol={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},a_=[1e3,2e3,5e3,1e4],l_=1e4,u_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class c_{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=md,this.transport=null,this.heartbeatIntervalMs=ol.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fc,this.ref=0,this.reconnectTimer=null,this.vsn=Am,this.logger=Fc,this.conn=null,this.sendBuffer=[],this.serializer=new e_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${gd.websocket}`,this.httpEndpoint=Vy(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Kx.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Dr.connecting:return pi.Connecting;case Dr.open:return pi.Open;case Dr.closing:return pi.Closing;default:return pi.Closed}}isConnected(){return this.connectionState()===pi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new cs(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:o,ref:a}=t,l=()=>{this.encode(t,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${n} ${r} (${a})`,o),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Yx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ol.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:o,payload:a,ref:l}=n,c=l?`(${l})`:"",h=a.status||"";this.log("receive",`${h} ${r} ${o} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(o,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Dr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Dr.open||this.conn.readyState===Dr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Un.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([u_],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const a={access_token:n,version:Jx};n&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(Un.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Fy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ol.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,a,l,c,h,f,m,g,b,v;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:md,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:ol.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:Fc,this.vsn=(h=t?.vsn)!==null&&h!==void 0?h:Am,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(k=>a_[k-1]||l_),this.vsn){case Qx:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((k,_)=>_(JSON.stringify(k))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((k,_)=>_(JSON.parse(k)));break;case My:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(v=t?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Io=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function d_(e,t,n){const r=new URL(t,e);if(n)for(const[o,a]of Object.entries(n))a!==void 0&&r.searchParams.set(o,a);return r.toString()}async function h_(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function f_(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:o,body:a,headers:l}){const c=d_(e.baseUrl,r,o),h=await h_(e.auth),f=await t(c,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...h,...l},body:a?JSON.stringify(a):void 0}),m=await f.text(),g=(f.headers.get("content-type")||"").includes("application/json"),b=g&&m?JSON.parse(m):m;if(!f.ok){const v=g?b:void 0,k=v?.error;throw new Io(k?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:k?.type,icebergCode:k?.code,details:v})}return{status:f.status,headers:f.headers,data:b}}}}function al(e){return e.join("")}var p_=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:al(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${al(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${al(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${al(e.namespace)}`}),!0}catch(t){if(t instanceof Io&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Io&&n.status===409)return;throw n}}};function Ji(e){return e.join("")}var m_=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ji(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ji(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ji(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ji(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ji(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ji(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Io&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Io&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},g_=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=f_({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new p_(this.client,t),this.tableOps=new m_(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},zl=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Ll(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ll=class extends zl{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qy=class extends zl{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const y_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),v_=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vd=e=>{if(Array.isArray(e))return e.map(n=>vd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[o]=vd(r)}),t},w_=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function zo(e){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(e)}function b_(e,t){if(zo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x_(e){var t=b_(e,"string");return zo(t)=="symbol"?t:t+""}function __(e,t,n){return(t=x_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lm(Object(n),!0).forEach(function(r){__(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const $m=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},k_=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const o=e,a=o.status||500;if(typeof o.json=="function")o.json().then(l=>{const c=l?.statusCode||l?.code||a+"";t(new ll($m(l),a,c,r))}).catch(()=>{if(r==="vectors"){const l=a+"";t(new ll(o.statusText||`HTTP ${a} error`,a,l,r))}else{const l=a+"";t(new ll(o.statusText||`HTTP ${a} error`,a,l,r))}});else{const l=a+"";t(new ll(o.statusText||`HTTP ${a} error`,a,l,r))}}else t(new qy($m(e),e,r))},S_=(e,t,n,r)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!r?Pe(Pe({},o),n):(v_(r)?(o.headers=Pe({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),Pe(Pe({},o),n))};async function ho(e,t,n,r,o,a,l){return new Promise((c,h)=>{e(n,S_(t,r,o,a)).then(f=>{if(!f.ok)throw f;if(r?.noResolveJson)return f;if(l==="vectors"){const m=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!m||!m.includes("application/json"))return{}}return f.json()}).then(f=>c(f)).catch(f=>k_(f,h,r,l))})}function Hy(e="storage"){return{get:async(t,n,r,o)=>ho(t,"GET",n,r,o,void 0,e),post:async(t,n,r,o,a)=>ho(t,"POST",n,o,a,r,e),put:async(t,n,r,o,a)=>ho(t,"PUT",n,o,a,r,e),head:async(t,n,r,o)=>ho(t,"HEAD",n,Pe(Pe({},r),{},{noResolveJson:!0}),o,void 0,e),remove:async(t,n,r,o,a)=>ho(t,"DELETE",n,o,a,r,e)}}const E_=Hy("storage"),{get:Lo,post:Dn,put:wd,head:C_,remove:Zd}=E_,gn=Hy("vectors");var ks=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=y_(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ll(n))return{data:null,error:n};throw n}}},T_=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ll(t))return{data:null,error:t};throw t}}};let Wy;Wy=Symbol.toStringTag;var j_=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Wy]="BlobDownloadBuilder",this.promise=null}asStream(){return new T_(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ll(t))return{data:null,error:t};throw t}}};const N_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var P_=class extends ks{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var o=this;return o.handleOperation(async()=>{let a;const l=Pe(Pe({},Dm),r);let c=Pe(Pe({},o.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),h&&a.append("metadata",o.encodeMetadata(h)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),h&&!a.has("metadata")&&a.append("metadata",o.encodeMetadata(h))):(a=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,h&&(c["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),r?.headers&&(c=Pe(Pe({},c),r.headers));const f=o._removeEmptyFolders(t),m=o._getFinalPath(f),g=await(e=="PUT"?wd:Dn)(o.fetch,`${o.url}/object/${m}`,a,Pe({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{path:f,id:g.Id,fullPath:g.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var o=this;const a=o._removeEmptyFolders(e),l=o._getFinalPath(a),c=new URL(o.url+`/object/upload/sign/${l}`);return c.searchParams.set("token",t),o.handleOperation(async()=>{let h;const f=Pe({upsert:Dm.upsert},r),m=Pe(Pe({},o.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",f.cacheControl)):(h=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType),{path:a,fullPath:(await wd(o.fetch,c.toString(),h,{headers:m})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const o=Pe({},n.headers);t?.upsert&&(o["x-upsert"]="true");const a=await Dn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:o}),l=new URL(n.url+a.url),c=l.searchParams.get("token");if(!c)throw new zl("No token returned by API");return{signedUrl:l.toString(),path:e,token:c}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Dn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Dn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let o=r._getFinalPath(e),a=await Dn(r.fetch,`${r.url}/object/sign/${o}`,Pe({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${a.signedURL}${l}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const o=await Dn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o.map(l=>Pe(Pe({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${a}`):null}))})}download(e,t,n){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),a=o?`?${o}`:"",l=this._getFinalPath(e),c=()=>Lo(this.fetch,`${this.url}/${r}/${l}${a}`,{headers:this.headers,noResolveJson:!0},n);return new j_(c,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>vd(await Lo(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await C_(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ll(r)&&r instanceof qy){const o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);const a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Zd(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const o=Pe(Pe(Pe({},N_),t),{},{prefix:e||""});return await Dn(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=Pe({},e);return await Dn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const O_="2.95.3",Ho={"X-Client-Info":`storage-js/${O_}`};var A_=class extends ks{constructor(e,t={},n,r){const o=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const a=o.href.replace(/\/$/,""),l=Pe(Pe({},Ho),t);super(a,l,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Lo(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Lo(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Dn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await wd(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Dn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Zd(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},R_=class extends ks{constructor(e,t={},n){const r=e.replace(/\/$/,""),o=Pe(Pe({},Ho),t);super(r,o,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Dn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const r=n.toString(),o=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Lo(t.fetch,o,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Zd(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!w_(e))throw new zl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new g_({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(o,a){const l=o[a];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(o,c),error:null}}catch(h){if(r)throw h;return{data:null,error:h}}}}})}},I_=class extends ks{constructor(e,t={},n){const r=e.replace(/\/$/,""),o=Pe(Pe({},Ho),{},{"Content-Type":"application/json"},t);super(r,o,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await gn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await gn.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await gn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await gn.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},z_=class extends ks{constructor(e,t={},n){const r=e.replace(/\/$/,""),o=Pe(Pe({},Ho),{},{"Content-Type":"application/json"},t);super(r,o,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await gn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await gn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await gn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await gn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await gn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},L_=class extends ks{constructor(e,t={},n){const r=e.replace(/\/$/,""),o=Pe(Pe({},Ho),{},{"Content-Type":"application/json"},t);super(r,o,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await gn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await gn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await gn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await gn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},$_=class extends L_{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new D_(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},D_=class extends I_{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Pe(Pe({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Pe(Pe({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new U_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},U_=class extends z_{constructor(e,t,n,r,o){super(e,t,o),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Pe(Pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Pe(Pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Pe(Pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Pe(Pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Pe(Pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},M_=class extends A_{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new P_(this.url,this.headers,e,this.fetch)}get vectors(){return new $_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new R_(this.url+"/iceberg",this.headers,this.fetch)}};const Zy="2.95.3",os=30*1e3,bd=3,Bc=bd*os,F_="http://localhost:9999",B_="supabase.auth.token",V_={"X-Client-Info":`gotrue-js/${Zy}`},xd="X-Supabase-Api-Version",Ky={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},q_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H_=600*1e3;class $o extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class W_ extends $o{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Z_(e){return xe(e)&&e.name==="AuthApiError"}class mi extends $o{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class hr extends $o{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}}class pn extends hr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vc(e){return xe(e)&&e.name==="AuthSessionMissingError"}class Qi extends hr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ul extends hr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class cl extends hr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function K_(e){return xe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Um extends hr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class G_ extends hr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class _d extends hr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function qc(e){return xe(e)&&e.name==="AuthRetryableFetchError"}class Mm extends hr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class kd extends hr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fm=` 	
\r=`.split(""),J_=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Fm.length;t+=1)e[Fm[t].charCodeAt(0)]=-2;for(let t=0;t<bl.length;t+=1)e[bl[t].charCodeAt(0)]=t;return e})();function Bm(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(bl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(bl[r]),t.queuedBits-=6}}function Gy(e,t,n){const r=J_[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vm(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=l=>{X_(l,r,n)};for(let l=0;l<e.length;l+=1)Gy(e.charCodeAt(l),o,a);return t.join("")}function Q_(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Y_(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}Q_(r,t)}}function X_(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function fs(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)Gy(e.charCodeAt(o),n,r);return new Uint8Array(t)}function ek(e){const t=[];return Y_(e,n=>t.push(n)),new Uint8Array(t)}function gi(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>Bm(o,n,r)),Bm(null,n,r),t.join("")}function tk(e){return Math.round(Date.now()/1e3)+e}function nk(){return Symbol("auth-callback")}const $t=()=>typeof window<"u"&&typeof document<"u",ci={tested:!1,writable:!1},Jy=()=>{if(!$t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ci.tested)return ci.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ci.tested=!0,ci.writable=!0}catch{ci.tested=!0,ci.writable=!1}return ci.writable};function rk(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{t[a]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}const Qy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ik=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",as=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},di=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Lt=async(e,t)=>{await e.removeItem(t)};class $l{constructor(){this.promise=new $l.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}$l.promiseConstructor=Promise;function dl(e){const t=e.split(".");if(t.length!==3)throw new kd("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!q_.test(t[r]))throw new kd("JWT not in base64url format");return{header:JSON.parse(Vm(t[0])),payload:JSON.parse(Vm(t[1])),signature:fs(t[2]),raw:{header:t[0],payload:t[1]}}}async function sk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ok(e,t){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){r(l);return}}catch(l){if(!t(a,l)){o(l);return}}})()})}function ak(e){return("0"+e.toString(16)).substr(-2)}function lk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,ak).join("")}async function uk(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function ck(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await uk(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yi(e,t,n=!1){const r=lk();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await as(e,`${t}-code-verifier`,o);const a=await ck(r);return[a,r===a?"plain":"s256"]}const dk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hk(e){const t=e.headers.get(xd);if(!t||!t.match(dk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function fk(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function pk(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xi(e){if(!mk.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hc(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gk(e,t){return new Proxy(e,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,o)}})}function qm(e){return JSON.parse(JSON.stringify(e))}const fi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yk=[502,503,504];async function Hm(e){var t;if(!ik(e))throw new _d(fi(e),0);if(yk.includes(e.status))throw new _d(fi(e),e.status);let n;try{n=await e.json()}catch(a){throw new mi(fi(a),a)}let r;const o=hk(e);if(o&&o.getTime()>=Ky["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Mm(fi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new pn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Mm(fi(n),e.status,n.weak_password.reasons);throw new W_(fi(n),e.status||500,r)}const vk=(e,t,n,r)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function je(e,t,n,r){var o;const a=Object.assign({},r?.headers);a[xd]||(a[xd]=Ky["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await wk(e,t,n+c,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(h):{data:Object.assign({},h),error:null}}async function wk(e,t,n,r,o,a){const l=vk(t,r,o,a);let c;try{c=await e(n,Object.assign({},l))}catch(h){throw console.error(h),new _d(fi(h),0)}if(c.ok||await Hm(c),r?.noResolveJson)return c;try{return await c.json()}catch(h){await Hm(h)}}function $n(e){var t;let n=null;_k(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=tk(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Wm(e){const t=$n(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ur(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function bk(e){return{data:e,error:null}}function xk(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a}=e,l=Il(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a},h=Object.assign({},l);return{data:{properties:c,user:h},error:null}}function Zm(e){return e}function _k(e){return e.access_token&&e.refresh_token&&e.expires_in}const Wc=["global","local","others"];class kk{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Qy(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Wc[0]){if(Wc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wc.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ur})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Il(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:xk,redirectTo:n?.redirectTo})}catch(n){if(xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ur})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,a,l,c,h;try{const f={nextPage:null,lastPage:0,total:0},m=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Zm});if(m.error)throw m.error;const g=await m.json(),b=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(h=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return v.length>0&&(v.forEach(k=>{const _=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(k.split(";")[1].split("=")[1]);f[`${E}Page`]=_}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(xe(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Xi(t);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ur})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Xi(t);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ur})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Xi(t);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ur})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Xi(t.userId);try{const{data:n,error:r}=await je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Xi(t.userId),Xi(t.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,o,a,l,c,h;try{const f={nextPage:null,lastPage:0,total:0},m=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Zm});if(m.error)throw m.error;const g=await m.json(),b=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(h=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return v.length>0&&(v.forEach(k=>{const _=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(k.split(";")[1].split("=")[1]);f[`${E}Page`]=_}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(xe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}}function Km(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const es={debug:!!(globalThis&&Jy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Sk extends Yy{}async function Ek(e,t,n){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Sk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(es.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Ck(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Xy(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Tk(e){return parseInt(e,16)}function jk(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Nk(e){var t;const{chainId:n,domain:r,expirationTime:o,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:h,resources:f,scheme:m,uri:g,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Xy(e.address),k=m?`${m}://${r}`:r,_=e.statement?`${e.statement}
`:"",E=`${k} wants you to sign in with your Ethereum account:
${v}

${_}`;let j=`URI: ${g}
Version: ${b}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(o&&(j+=`
Expiration Time: ${o.toISOString()}`),c&&(j+=`
Not Before: ${c.toISOString()}`),h&&(j+=`
Request ID: ${h}`),f){let I=`
Resources:`;for(const z of f){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);I+=`
- ${z}`}j+=I}return`${E}
${j}`}class xt extends Error{constructor({message:t,code:n,cause:r,name:o}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=o??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class xl extends xt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Pk({error:e,options:t}){var n,r,o;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new xt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new xt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new xt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new xt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new xt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new xt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new xt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new xt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(ev(l)){if(a.rp.id!==l)return new xt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new xt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new xt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Ok({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new xt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new xt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(ev(r)){if(n.rpId!==r)return new xt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new xt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Ak{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Rk=new Ak;function Ik(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,o=Il(e,["challenge","user","excludeCredentials"]),a=fs(t).buffer,l=Object.assign(Object.assign({},n),{id:fs(n.id).buffer}),c=Object.assign(Object.assign({},o),{challenge:a,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const f=r[h];c.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:fs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function zk(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Il(e,["challenge","allowCredentials"]),o=fs(t).buffer,a=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},c),{id:fs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Lk(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:gi(new Uint8Array(e.response.attestationObject)),clientDataJSON:gi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $k(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:gi(new Uint8Array(o.authenticatorData)),clientDataJSON:gi(new Uint8Array(o.clientDataJSON)),signature:gi(new Uint8Array(o.signature)),userHandle:o.userHandle?gi(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ev(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Gm(){var e,t;return!!($t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Dk(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xl("Browser returned unexpected credential type",t)}:{data:null,error:new xl("Empty credential response",t)}}catch(t){return{data:null,error:Pk({error:t,options:e})}}}async function Uk(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xl("Browser returned unexpected credential type",t)}:{data:null,error:new xl("Empty credential response",t)}}catch(t){return{data:null,error:Ok({error:t,options:e})}}}const Mk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Fk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _l(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of e)if(o)for(const a in o){const l=o[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(n(l))r[a]=l;else if(t(l)){const c=r[a];t(c)?r[a]=_l(c,l):r[a]=_l(l)}else r[a]=l}return r}function Bk(e,t){return _l(Mk,e,t||{})}function Vk(e,t){return _l(Fk,e,t||{})}class qk{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:o},a){var l;try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:h};const f=o??Rk.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;if(!m.name){const g=r;if(g)m.name=`${m.id}:${g}`;else{const v=(await this.client.getUser()).data.user,k=((l=v?.user_metadata)===null||l===void 0?void 0:l.name)||v?.email||v?.id||"User";m.name=`${m.id}:${k}`}}m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=Bk(c.webauthn.credential_options.publicKey,a?.create),{data:g,error:b}=await Dk({publicKey:m,signal:f});return g?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:b}}case"request":{const m=Vk(c.webauthn.credential_options.publicKey,a?.request),{data:g,error:b}=await Uk(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:f}));return g?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:b}}}}catch(c){return xe(c)?{data:null,error:c}:{data:null,error:new mi("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!n)return{data:null,error:new $o("rpId is required for WebAuthn authentication")};try{if(!Gm())return{data:null,error:new mi("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:a});if(!l)return{data:null,error:c};const{webauthn:h}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:r,credential_response:h.credential_response}})}catch(l){return xe(l)?{data:null,error:l}:{data:null,error:new mi("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!n)return{data:null,error:new $o("rpId is required for WebAuthn registration")};try{if(!Gm())return{data:null,error:new mi("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:h,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:a});return h?this._verify({factorId:l.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:r,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(l){return xe(l)?{data:null,error:l}:{data:null,error:new mi("Unexpected error in register",l)}}}}Ck();const Hk={url:F_,storageKey:B_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:V_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Jm(e,t,n){return await n()}const ts={};class Do{get jwks(){var t,n;return(n=(t=ts[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ts[this.storageKey]=Object.assign(Object.assign({},ts[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ts[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ts[this.storageKey]=Object.assign(Object.assign({},ts[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Hk),t);if(this.storageKey=a.storageKey,this.instanceID=(n=Do.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Do.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&$t()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new kk({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Qy(a.fetch),this.lock=a.lock||Jm,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&$t()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Ek:this.lock=Jm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Jy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Km(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Km(this.memoryStorage)),$t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Zy}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if($t()&&(n=rk(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),$t()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),K_(a)){const h=(t=a.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:l,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return xe(n)?this._returnResult({error:n}):this._returnResult({error:new mi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,o;try{const a=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:$n}),{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(a){if(xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,o;try{let a;if("email"in t){const{email:m,password:g,options:b}=t;let v=null,k=null;this.flowType==="pkce"&&([v,k]=await Yi(this.storage,this.storageKey)),a=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:m,password:g,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:v,code_challenge_method:k},xform:$n})}else if("phone"in t){const{phone:m,password:g,options:b}=t;a=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(o=b?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:$n})}else throw new ul("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return await Lt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(a){if(await Lt(this.storage,`${this.storageKey}-code-verifier`),xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:l,options:c}=t;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Wm})}else if("phone"in t){const{phone:a,password:l,options:c}=t;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Wm})}else throw new ul("You must provide either an email or phone number and a password");const{data:r,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const a=new Qi;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,o,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,o,a,l,c,h,f,m,g,b;let v,k;if("message"in t)v=t.message,k=t.signature;else{const{chain:_,wallet:E,statement:j,options:I}=t;let z;if($t())if(typeof E=="object")z=E;else{const ye=window;if("ethereum"in ye&&typeof ye.ethereum=="object"&&"request"in ye.ethereum&&typeof ye.ethereum.request=="function")z=ye.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=E}const V=new URL((n=I?.url)!==null&&n!==void 0?n:window.location.href),G=await z.request({method:"eth_requestAccounts"}).then(ye=>ye).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!G||G.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=Xy(G[0]);let ne=(r=I?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!ne){const ye=await z.request({method:"eth_chainId"});ne=Tk(ye)}const fe={domain:V.host,address:L,statement:j,uri:V.href,version:"1",chainId:ne,nonce:(o=I?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(l=(a=I?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(h=I?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=I?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=I?.signInWithEthereum)===null||m===void 0?void 0:m.resources};v=Nk(fe),k=await z.request({method:"personal_sign",params:[jk(v),L]})}try{const{data:_,error:E}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:k},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:$n});if(E)throw E;if(!_||!_.session||!_.user){const j=new Qi;return this._returnResult({data:{user:null,session:null},error:j})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(xe(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var n,r,o,a,l,c,h,f,m,g,b,v;let k,_;if("message"in t)k=t.message,_=t.signature;else{const{chain:E,wallet:j,statement:I,options:z}=t;let V;if($t())if(typeof j=="object")V=j;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))V=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=j}const G=new URL((n=z?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in V&&V.signIn){const L=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),I?{statement:I}:null));let ne;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")ne=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)ne=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)k=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),_=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${G.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(o=(r=z?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=z?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((l=z?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((c=z?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((h=z?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((f=z?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((g=(m=z?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...z.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const L=await V.signMessage(new TextEncoder().encode(k),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=L}}try{const{data:E,error:j}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:gi(_)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:$n});if(j)throw j;if(!E||!E.session||!E.user){const I=new Qi;return this._returnResult({data:{user:null,session:null},error:I})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:j})}catch(E){if(xe(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const n=await di(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new G_;const{data:a,error:l}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:$n});if(await Lt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const c=new Qi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:l})}catch(a){if(await Lt(this.storage,`${this.storageKey}-code-verifier`),xe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:o,access_token:a,nonce:l}=t,c=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:$n}),{data:h,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const m=new Qi;return this._returnResult({data:{user:null,session:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,o,a,l;try{if("email"in t){const{email:c,options:h}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Yi(this.storage,this.storageKey));const{error:g}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(r=h?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:c,options:h}=t,{data:f,error:m}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(l=h?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new ul("You must provide either an email or phone number.")}catch(c){if(await Lt(this.storage,`${this.storageKey}-code-verifier`),xe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,r;try{let o,a;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:$n});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,f=l.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(xe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var n,r,o,a,l;try{let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Yi(this.storage,this.storageKey));const f=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:bk});return!((a=f.data)===null||a===void 0)&&a.url&&$t()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await Lt(this.storage,`${this.storageKey}-code-verifier`),xe(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new pn;const{error:o}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(xe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:a}=t,{error:l}=await je(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:r,type:o,options:a}=t,{data:l,error:c}=await je(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:c})}throw new ul("You must provide either an email or phone number and a type")}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await di(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Bc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await di(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=Hc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=gk(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ur}):await this._useSession(async n=>{var r,o,a;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pn}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Ur})})}catch(n){if(xe(n))return Vc(n)&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new pn;const l=o.session;let c=null,h=null;this.flowType==="pkce"&&t.email!=null&&([c,h]=await Yi(this.storage,this.storageKey));const{data:f,error:m}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:h}),jwt:l.access_token,xform:Ur});if(m)throw m;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await Lt(this.storage,`${this.storageKey}-code-verifier`),xe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pn;const n=Date.now()/1e3;let r=n,o=!0,a=null;const{payload:l}=dl(t.access_token);if(l.exp&&(r=l.exp,o=r<=n),o){const{data:c,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:h}=await this._getUser(t.access_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(xe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:c}=n;if(c)throw c;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new pn;const{data:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!$t())throw new cl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Um("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Um("No code detected.");const{data:I,error:z}=await this._exchangeCodeForSession(t.code);if(z)throw z;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:l,expires_in:c,expires_at:h,token_type:f}=t;if(!a||!c||!l||!f)throw new cl("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(c);let b=m+g;h&&(b=parseInt(h));const v=b-m;v*1e3<=os&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const k=b-g;m-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,b,m):m-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,b,m);const{data:_,error:E}=await this._getUser(a);if(E)throw E;const j={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:g,expires_at:b,refresh_token:l,token_type:f,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(r){if(xe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await di(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a&&!Vc(a))return this._returnResult({error:a});const l=(r=o.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(Z_(c)&&(c.status===404||c.status===401||c.status===403)||Vc(c)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=nk(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,o;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Yi(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Lt(this.storage,`${this.storageKey}-code-verifier`),xe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:o}=await this._useSession(async a=>{var l,c,h,f,m;const{data:g,error:b}=a;if(b)throw b;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",v,{headers:this.headers,jwt:(m=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return $t()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(xe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:o,data:{session:a}}=n;if(o)throw o;const{options:l,provider:c,token:h,access_token:f,nonce:m}=t,g=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:h,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:$n}),{data:b,error:v}=g;return v?this._returnResult({data:{user:null,session:null},error:v}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Qi}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:v}))}catch(o){if(await Lt(this.storage,`${this.storageKey}-code-verifier`),xe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,o;const{data:a,error:l}=n;if(l)throw l;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ok(async o=>(o>0&&await sk(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$n})),(o,a)=>{const l=200*Math.pow(2,o);return a&&qc(a)&&Date.now()+l-r<os})}catch(r){if(this._debug(n,"error",r),xe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),$t()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await di(this.storage,this.storageKey);if(o&&this.userStorage){let l=await di(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:o.user},await as(this.userStorage,this.storageKey+"-user",l)),o.user=(t=l?.user)!==null&&t!==void 0?t:Hc()}else if(o&&!o.user&&!o.user){const l=await di(this.storage,this.storageKey+"-user");l&&l?.user?(o.user=l.user,await Lt(this.storage,this.storageKey+"-user"),await as(this.storage,this.storageKey,o)):o.user=Hc()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bc;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Bc}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:l}=await this._callRefreshToken(o.refresh_token);l&&(console.error(l),qc(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(o.access_token);!c&&l?.user?(o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new $l;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new pn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(o,"error",a),xe(a)){const l={data:null,error:a};return qc(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(h){a.push(h)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Lt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await as(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=qm(o);await as(this.storage,this.storageKey,a)}else{const o=qm(n);await as(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Lt(this.storage,this.storageKey),await Lt(this.storage,this.storageKey+"-code-verifier"),await Lt(this.storage,this.storageKey+"-user"),this.userStorage&&await Lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$t()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),os);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/os);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${os}ms, refresh threshold is ${bd} ticks`),o<=bd&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$t()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await Yi(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(c.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?this._returnResult({data:null,error:a}):await je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,o;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:f}=await je(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Lk(t.webauthn.credential_response):$k(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:h}=await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:h}))})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Ik(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:zk(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,o,a;if(t)try{const{payload:v}=dl(t);let k=null;v.aal&&(k=v.aal);let _=k;const{data:{user:E},error:j}=await this.getUser(t);if(j)return this._returnResult({data:null,error:j});((r=(n=E?.factors)===null||n===void 0?void 0:n.filter(V=>V.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(_="aal2");const z=v.amr||[];return{data:{currentLevel:k,nextLevel:_,currentAuthenticationMethods:z},error:null}}catch(v){if(xe(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=dl(l.access_token);let f=null;h.aal&&(f=h.aal);let m=f;((a=(o=l.user.factors)===null||o===void 0?void 0:o.filter(v=>v.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(m="aal2");const b=h.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new pn})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:o},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new pn});const l=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&$t()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:o},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new pn});const l=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&$t()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new pn})})}catch(t){if(xe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?(await je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pn})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+H_>o)return r;const{data:a,error:l}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,r=a.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:k}=await this.getSession();if(k||!v.session)return this._returnResult({data:null,error:k});r=v.session.access_token}const{header:o,payload:a,signature:l,raw:{header:c,payload:h}}=dl(r);n?.allowExpired||fk(a.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:a,header:o,signature:l},error:null}}const m=pk(o.alg),g=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,l,ek(`${c}.${h}`)))throw new kd("Invalid JWT signature");return{data:{claims:a,header:o,signature:l},error:null}}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}}Do.nextInstanceID={};const Wk=Do,Zk="2.95.3";let _o="";typeof Deno<"u"?_o="deno":typeof document<"u"?_o="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_o="react-native":_o="node";const Kk={"X-Client-Info":`supabase-js-${_o}/${Zk}`},Gk={headers:Kk},Jk={schema:"public"},Qk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yk={};function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}function Xk(e,t){if(Uo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e1(e){var t=Xk(e,"string");return Uo(t)=="symbol"?t:t+""}function t1(e,t,n){return(t=e1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qm(Object(n),!0).forEach(function(r){t1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const n1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),r1=()=>Headers,i1=(e,t,n)=>{const r=n1(n),o=r1();return async(a,l)=>{var c;const h=(c=await t())!==null&&c!==void 0?c:e;let f=new o(l?.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),r(a,pt(pt({},l),{},{headers:f}))}};function s1(e){return e.endsWith("/")?e:e+"/"}function o1(e,t){var n,r;const{db:o,auth:a,realtime:l,global:c}=e,{db:h,auth:f,realtime:m,global:g}=t,b={db:pt(pt({},h),o),auth:pt(pt({},f),a),realtime:pt(pt({},m),l),storage:{},global:pt(pt(pt({},g),c),{},{headers:pt(pt({},(n=g?.headers)!==null&&n!==void 0?n:{}),(r=c?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function a1(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(s1(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var l1=class extends Wk{constructor(e){super(e)}},u1=class{constructor(e,t,n){var r,o;this.supabaseUrl=e,this.supabaseKey=t;const a=a1(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Jk,realtime:Yk,auth:pt(pt({},Qk),{},{storageKey:l}),global:Gk},h=o1(n??{},c);if(this.storageKey=(r=h.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=h.auth)!==null&&f!==void 0?f:{},this.headers,h.global.fetch)}this.fetch=i1(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(pt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new Zx(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch,timeout:h.db.timeout,urlLengthLimit:h.db.urlLengthLimit}),this.storage=new M_(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Ux(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:o,storageKey:a,flowType:l,lock:c,debug:h,throwOnError:f},m,g){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l1({url:this.authUrl.href,headers:pt(pt({},b),m),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:o,flowType:l,lock:c,debug:h,throwOnError:f,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new c_(this.realtimeUrl.href,pt(pt({},e),{},{params:pt(pt({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const c1=(e,t,n)=>new u1(e,t,n);function d1(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}d1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const h1="https://ejjuvjqljruqzjhuimdp.supabase.co",f1="sb_publishable_TmnV32TdWapvEnpbSAmzYQ_5fCxxnYg",nt=c1(h1,f1,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),p1=[{id:"hemo_bio",label:"Huyt hc & Sinh ha"},{id:"imaging",label:"Chn on hnh nh (X-Quang, CT...)"},{id:"microbio",label:"Vi sinh & K sinh trng"},{id:"functional",label:"Thm d chc nng (ECG, EEG)"},{id:"pathology",label:"Gii phu bnh"},{id:"others",label:"Khc"}],Ym={vi:{appTitle:"MediGuide Pro",dashboard:"Tng quan",newRecord:"H s mi",email:"Email",password:"Mt khu",ph_email:"bacsi@example.com",ph_password:"",signIn:"ng nhp",signUp:"ng k ti khon",or:"HOC",forgotPass:"Qun mt khu?",haveAccount:" c ti khon?",noAccount:"Cha c ti khon?",toggleLogin:"ng nhp ngay",toggleSignup:"ng k ngay",loggingIn:"ang x l...",signingUp:"ang to ti khon...",auth_err:"Li xc thc",welcome_back:"Cho mng tr li!",create_account:"To ti khon mi",demo:"Hnh chnh",history:"Bnh s",exam:"Khm Lm Sng",prelim:"Cn lm sng",final:"Chn on",plan:"iu tr",name:"H v tn",ph_name:"NHP TN BNH NHN...",age:"Tui",gender:"Gii tnh",male:"Nam",female:"N",room:"Phng",bed:"Ging",occupation:"Ngh nghip",chiefComplaint:"L do vo vin",ph_cc:"Triu chng chnh...",hpi:"Qu trnh bnh l",ph_hpi:"M t din bin...",pmh:"Tin s bn thn/Gia nh",ph_pmh:"Bnh mn tnh, phu thut c...",allergy:"D ng",yes:"C",no:"Khng",ph_allergy_detail:"Tn thuc/thc n...",meds:"Thuc ang dng",vitals:"Sinh hiu",pulse:"Mch",bp:"Huyt p",rr:"Nhp th",spo2:"SpO2",temp:"Nhit ",weight:"Cn nng",general:"Ton thn",heent:"u - Mt - C",cvs:"Tim mch",resp:"H hp",gi:"Tiu ha",msk:"C xng khp",neuro:"Thn kinh",gu:"Thn - Tit niu",ph_general:"Da nim, hch ngoi vi...",ph_heent:"Kt mc, hng, tuyn gip...",ph_cvs:"Ting tim, mm tim...",ph_resp:"R ro ph nang...",ph_gi:"Bng mm, gan lch...",ph_msk:"Vn ng khp...",ph_neuro:"Glasgow, du thn kinh...",ph_gu:"Cu bng quang...",diffDiag:"Chn on phn bit",workups:"Cn lm sng  c",summary:"Tm tt bnh n",aiGen:"AI Tm tt",finalDiag:"Chn on xc nh",icd10:"M ICD-10",ph_icd:"Tm m bnh...",status:"Hng x tr",admitted:"Nhp vin",outpatient:"Ngoi tr",treatmentGoal:"Mc tiu / Li dn",ph_note:"Ch  n, hn ti khm...",surgery:"Th thut / Phu thut",nonPharm:"Khng dng thuc",med_name:"Tn thuc & Hm lng",med_dose:"Liu lng (Sng - Chiu)",med_route:"ng dng",ph_med_name:"VD: Panadol 500mg...",ph_med_dose:"VD: 1 vin - 0 - 1 vin",ph_med_route:"VD: Ung sau n",add_med:"Thm thuc",mon_name:"Ch s theo di",mon_freq:"Tn sut",ph_mon_name:"VD: Mch, Huyt p...",ph_mon_freq:"VD: Mi 4 gi",add_mon:"Thm ch s",saveDraft:"Lu nhp",submit:"Hon tt",upload:"Ti file",uploading:"ang ti...",file_size_err:"File qu ln",save_success:"Lu thnh cng!"},en:{appTitle:"MediGuide Pro",dashboard:"Dashboard",newRecord:"New Record",email:"Email",password:"Password",ph_email:"doctor@example.com",ph_password:"",signIn:"Sign In",signUp:"Create Account",or:"OR",forgotPass:"Forgot Password?",haveAccount:"Already have an account?",noAccount:"No account yet?",toggleLogin:"Sign In Now",toggleSignup:"Sign Up Now",loggingIn:"Processing...",signingUp:"Creating account...",auth_err:"Authentication Error",welcome_back:"Welcome Back!",create_account:"Create New Account",demo:"Demographics",history:"History",exam:"Physical Exam",prelim:"Labs & Prelim Diag",final:"Diagnosis",plan:"Treatment Plan",name:"Full Name",ph_name:"ENTER PATIENT NAME...",age:"Age",gender:"Gender",male:"Male",female:"Female",room:"Room",bed:"Bed",occupation:"Occupation",chiefComplaint:"Chief Complaint",ph_cc:"Main symptoms...",hpi:"History of Present Illness",ph_hpi:"Describe the progression...",pmh:"Past Medical History",ph_pmh:"Chronic diseases, surgeries...",allergy:"Allergies",yes:"Yes",no:"No",ph_allergy_detail:"Drug/Food name...",meds:"Current Medications",vitals:"Vitals",pulse:"Pulse",bp:"BP",rr:"Resp. Rate",spo2:"SpO2",temp:"Temp",weight:"Weight",general:"General",heent:"HEENT",cvs:"Cardiovascular",resp:"Respiratory",gi:"Gastrointestinal",msk:"Musculoskeletal",neuro:"Neurological",gu:"Genitourinary",ph_general:"Skin, lymph nodes, edema...",ph_heent:"Conjunctiva, throat, thyroid...",ph_cvs:"Heart sounds, murmurs...",ph_resp:"Breath sounds, rales...",ph_gi:"Soft, liver/spleen...",ph_msk:"Joint movement...",ph_neuro:"Glasgow, focal signs...",ph_gu:"Bladder globe...",diffDiag:"Differential Diagnosis",workups:"Workups / Labs",summary:"Summary",aiGen:"AI Summary",finalDiag:"Final Diagnosis",icd10:"ICD-10 Code",ph_icd:"Search code...",status:"Disposition",admitted:"Admit",outpatient:"Discharge",treatmentGoal:"Goals / Notes",ph_note:"Diet, follow-up...",surgery:"Procedure / Surgery",nonPharm:"Non-pharmaceutical",med_name:"Drug Name & Strength",med_dose:"Dosage (AM - PM)",med_route:"Route",ph_med_name:"Ex: Panadol 500mg...",ph_med_dose:"Ex: 1 tab - 0 - 1 tab",ph_med_route:"Ex: PO after meal",add_med:"Add Medication",mon_name:"Monitoring",mon_freq:"Frequency",ph_mon_name:"Ex: HR, BP...",ph_mon_freq:"Ex: Every 4 hours",add_mon:"Add Item",saveDraft:"Save Draft",submit:"Submit",upload:"Upload",uploading:"Uploading...",file_size_err:"File too large",save_success:"Saved successfully!"}},tv=Z.createContext(),nv=({children:e})=>{const[t,n]=Z.useState(()=>{const o=localStorage.getItem("appLanguage");return o==="en"||o==="vi"?o:"vi"});Z.useEffect(()=>{localStorage.setItem("appLanguage",t)},[t]);const r=Ym[t]||Ym.vi;return w.jsx(tv.Provider,{value:{language:t,setLanguage:n,t:r},children:e})},sn=()=>{const e=Z.useContext(tv);if(!e)throw new Error("useLanguage must be used within LanguageProvider");return e};var m1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const g1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Re=(e,t)=>{const n=Z.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:h,...f},m)=>Z.createElement("svg",{ref:m,...m1,width:o,height:o,stroke:r,strokeWidth:l?Number(a)*24/Number(o):a,className:["lucide",`lucide-${g1(e)}`,c].join(" "),...f},[...t.map(([g,b])=>Z.createElement(g,b)),...Array.isArray(h)?h:[h]]));return n.displayName=`${e}`,n};const vs=Re("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const rv=Re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const iv=Re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const y1=Re("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const v1=Re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const Kd=Re("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const w1=Re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const b1=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const x1=Re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Gd=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const sv=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const _1=Re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const k1=Re("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);const S1=Re("FileBarChart",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);const Xm=Re("FileEdit",[["path",{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5",key:"1bg6eb"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z",key:"1rgxu8"}]]);const E1=Re("FilePlus",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"12",x2:"12",y1:"18",y2:"12",key:"1tsf04"}],["line",{x1:"9",x2:"15",y1:"15",y2:"15",key:"110plj"}]]);const ov=Re("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);const C1=Re("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);const T1=Re("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const j1=Re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const N1=Re("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const P1=Re("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const O1=Re("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const ws=Re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const A1=Re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const av=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const R1=Re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const I1=Re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const z1=Re("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);const L1=Re("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);const lv=Re("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);const uv=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const $1=Re("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);const D1=Re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const U1=Re("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);const Jd=Re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const M1=Re("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const F1=Re("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);const B1=Re("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);const cv=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const V1=Re("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);const Dl=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const q1=Re("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);const Wo=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function dv(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=dv(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function H1(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=dv(e))&&(r&&(r+=" "),r+=t);return r}const Qd="-",W1=e=>{const t=K1(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const c=l.split(Qd);return c[0]===""&&c.length!==1&&c.shift(),hv(c,t)||Z1(l)},getConflictingClassGroupIds:(l,c)=>{const h=n[l]||[];return c&&r[l]?[...h,...r[l]]:h}}},hv=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?hv(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(Qd);return t.validators.find(({validator:l})=>l(a))?.classGroupId},eg=/^\[(.+)\]$/,Z1=e=>{if(eg.test(e)){const t=eg.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},K1=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return J1(Object.entries(e.classGroups),n).forEach(([a,l])=>{Sd(l,r,a,t)}),r},Sd=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:tg(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(G1(o)){Sd(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,l])=>{Sd(l,tg(t,a),n,r)})})},tg=(e,t)=>{let n=e;return t.split(Qd).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},G1=e=>e.isThemeGetter,J1=(e,t)=>t?e.map(([n,r])=>{const o=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[t+l,c])):a);return[n,o]}):e,Q1=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(a,l)=>{n.set(a,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return o(a,l),l},set(a,l){n.has(a)?n.set(a,l):o(a,l)}}},fv="!",Y1=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],a=t.length,l=c=>{const h=[];let f=0,m=0,g;for(let E=0;E<c.length;E++){let j=c[E];if(f===0){if(j===o&&(r||c.slice(E,E+a)===t)){h.push(c.slice(m,E)),m=E+a;continue}if(j==="/"){g=E;continue}}j==="["?f++:j==="]"&&f--}const b=h.length===0?c:c.substring(m),v=b.startsWith(fv),k=v?b.substring(1):b,_=g&&g>m?g-m:void 0;return{modifiers:h,hasImportantModifier:v,baseClassName:k,maybePostfixModifierPosition:_}};return n?c=>n({className:c,parseClassName:l}):l},X1=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},eS=e=>({cache:Q1(e.cacheSize),parseClassName:Y1(e),...W1(e)}),tS=/\s+/,nS=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,a=[],l=e.trim().split(tS);let c="";for(let h=l.length-1;h>=0;h-=1){const f=l[h],{modifiers:m,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:v}=n(f);let k=!!v,_=r(k?b.substring(0,v):b);if(!_){if(!k){c=f+(c.length>0?" "+c:c);continue}if(_=r(b),!_){c=f+(c.length>0?" "+c:c);continue}k=!1}const E=X1(m).join(":"),j=g?E+fv:E,I=j+_;if(a.includes(I))continue;a.push(I);const z=o(_,k);for(let V=0;V<z.length;++V){const G=z[V];a.push(j+G)}c=f+(c.length>0?" "+c:c)}return c};function rS(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=pv(t))&&(r&&(r+=" "),r+=n);return r}const pv=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=pv(e[r]))&&(n&&(n+=" "),n+=t);return n};function iS(e,...t){let n,r,o,a=l;function l(h){const f=t.reduce((m,g)=>g(m),e());return n=eS(f),r=n.cache.get,o=n.cache.set,a=c,c(h)}function c(h){const f=r(h);if(f)return f;const m=nS(h,n);return o(h,m),m}return function(){return a(rS.apply(null,arguments))}}const tt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},mv=/^\[(?:([a-z-]+):)?(.+)\]$/i,sS=/^\d+\/\d+$/,oS=new Set(["px","full","screen"]),aS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ur=e=>ps(e)||oS.has(e)||sS.test(e),zr=e=>Ss(e,"length",wS),ps=e=>!!e&&!Number.isNaN(Number(e)),Zc=e=>Ss(e,"number",ps),fo=e=>!!e&&Number.isInteger(Number(e)),hS=e=>e.endsWith("%")&&ps(e.slice(0,-1)),Le=e=>mv.test(e),Lr=e=>aS.test(e),fS=new Set(["length","size","percentage"]),pS=e=>Ss(e,fS,gv),mS=e=>Ss(e,"position",gv),gS=new Set(["image","url"]),yS=e=>Ss(e,gS,xS),vS=e=>Ss(e,"",bS),po=()=>!0,Ss=(e,t,n)=>{const r=mv.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},wS=e=>lS.test(e)&&!uS.test(e),gv=()=>!1,bS=e=>cS.test(e),xS=e=>dS.test(e),_S=()=>{const e=tt("colors"),t=tt("spacing"),n=tt("blur"),r=tt("brightness"),o=tt("borderColor"),a=tt("borderRadius"),l=tt("borderSpacing"),c=tt("borderWidth"),h=tt("contrast"),f=tt("grayscale"),m=tt("hueRotate"),g=tt("invert"),b=tt("gap"),v=tt("gradientColorStops"),k=tt("gradientColorStopPositions"),_=tt("inset"),E=tt("margin"),j=tt("opacity"),I=tt("padding"),z=tt("saturate"),V=tt("scale"),G=tt("sepia"),L=tt("skew"),ne=tt("space"),fe=tt("translate"),ye=()=>["auto","contain","none"],ke=()=>["auto","hidden","clip","visible","scroll"],ce=()=>["auto",Le,t],q=()=>[Le,t],ae=()=>["",ur,zr],re=()=>["auto",ps,Le],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ve=()=>["solid","dashed","dotted","double","none"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],le=()=>["","0",Le],S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[ps,Le];return{cacheSize:500,separator:":",theme:{colors:[po],spacing:[ur,zr],blur:["none","",Lr,Le],brightness:A(),borderColor:[e],borderRadius:["none","","full",Lr,Le],borderSpacing:q(),borderWidth:ae(),contrast:A(),grayscale:le(),hueRotate:A(),invert:le(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[hS,zr],inset:ce(),margin:ce(),opacity:A(),padding:q(),saturate:A(),scale:A(),sepia:le(),skew:A(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[Lr]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Le]}],overflow:[{overflow:ke()}],"overflow-x":[{"overflow-x":ke()}],"overflow-y":[{"overflow-y":ke()}],overscroll:[{overscroll:ye()}],"overscroll-x":[{"overscroll-x":ye()}],"overscroll-y":[{"overscroll-y":ye()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fo,Le]}],basis:[{basis:ce()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:le()}],shrink:[{shrink:le()}],order:[{order:["first","last","none",fo,Le]}],"grid-cols":[{"grid-cols":[po]}],"col-start-end":[{col:["auto",{span:["full",fo,Le]},Le]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[po]}],"row-start-end":[{row:["auto",{span:[fo,Le]},Le]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[ne]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ne]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,t]}],"min-w":[{"min-w":[Le,t,"min","max","fit"]}],"max-w":[{"max-w":[Le,t,"none","full","min","max","fit","prose",{screen:[Lr]},Lr]}],h:[{h:[Le,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Lr,zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zc]}],"font-family":[{font:[po]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",ps,Zc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ur,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ur,zr]}],"underline-offset":[{"underline-offset":["auto",ur,Le]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),mS]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yS]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...ve(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:ve()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...ve()]}],"outline-offset":[{"outline-offset":[ur,Le]}],"outline-w":[{outline:[ur,zr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[ur,zr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Lr,vS]}],"shadow-color":[{shadow:[po]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...be(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":be()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Lr,Le]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[g]}],saturate:[{saturate:[z]}],sepia:[{sepia:[G]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[z]}],"backdrop-sepia":[{"backdrop-sepia":[G]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[V]}],"scale-x":[{"scale-x":[V]}],"scale-y":[{"scale-y":[V]}],rotate:[{rotate:[fo,Le]}],"translate-x":[{"translate-x":[fe]}],"translate-y":[{"translate-y":[fe]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ur,zr,Zc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kS=iS(_S);function mt(...e){return kS(H1(e))}const SS=(e,t="vi")=>{if(!e)return"";const n={vi:"vi-VN",en:"en-US"};return new Date(e).toLocaleDateString(n[t]||"vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},Ed=({className:e})=>{const{language:t,setLanguage:n}=sn();return w.jsxs("div",{className:mt("flex items-center bg-white border border-slate-200 rounded-xl p-1 shadow-sm w-fit select-none",e),children:[w.jsx("div",{className:"px-2 text-slate-400",children:w.jsx(j1,{size:16,strokeWidth:2.5})}),w.jsx("button",{type:"button",onClick:()=>n("vi"),className:mt("px-3 py-1.5 text-xs font-black rounded-lg transition-all duration-300",t==="vi"?"bg-blue-600 text-white shadow-md shadow-blue-500/30":"text-slate-500 hover:bg-slate-50 hover:text-slate-900"),children:"VI"}),w.jsx("div",{className:"w-px h-3 bg-slate-200 mx-1"}),w.jsx("button",{type:"button",onClick:()=>n("en"),className:mt("px-3 py-1.5 text-xs font-black rounded-lg transition-all duration-300",t==="en"?"bg-blue-600 text-white shadow-md shadow-blue-500/30":"text-slate-500 hover:bg-slate-50 hover:text-slate-900"),children:"EN"})]})},hl=({children:e,session:t,onLogout:n})=>{const r=qo(),o=Rl(),{t:a}=sn(),l=[{icon:P1,label:a.dashboard||"Dashboard",path:"/"},{icon:E1,label:a.newRecord||"To h s",path:"/record/new"},{icon:Dl,label:"Ti khon",path:"/profile"}],c=t?.user?.email||"";return w.jsxs("div",{className:"min-h-screen bg-slate-50 flex font-sans text-slate-900",children:[w.jsxs("aside",{className:"w-64 bg-white border-r border-slate-200 hidden md:flex flex-col fixed h-full z-20 shadow-sm",children:[w.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-blue-500/30",children:w.jsx(vs,{size:24,strokeWidth:3})}),w.jsxs("div",{children:[w.jsx("h1",{className:"font-black text-xl tracking-tight text-slate-900",children:"MediGuide"}),w.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Pro Edition"})]})]}),w.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto mt-2",children:l.map(h=>{const f=o.pathname===h.path;return w.jsxs("button",{onClick:()=>r(h.path),className:mt("w-full flex items-center justify-between px-4 py-3 text-sm font-bold rounded-xl transition-all duration-200 group",f?"bg-blue-50 text-blue-700 shadow-sm border border-blue-100":"text-slate-500 hover:bg-slate-50 hover:text-slate-900"),children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(h.icon,{size:18,className:f?"text-blue-600":"text-slate-400 group-hover:text-slate-600"}),h.label]}),f&&w.jsx(Gd,{size:14,className:"text-blue-400"})]},h.path)})}),w.jsxs("div",{className:"p-4 border-t border-slate-100 bg-slate-50/50 space-y-4",children:[w.jsx("div",{className:"flex justify-center",children:w.jsx(Ed,{})}),w.jsxs("div",{className:"flex items-center gap-3 px-2",children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-xs uppercase",children:c.charAt(0)}),w.jsxs("div",{className:"overflow-hidden",children:[w.jsx("p",{className:"text-xs font-bold text-slate-700 truncate",children:c}),w.jsx("p",{className:"text-[10px] text-slate-400 truncate tracking-tight",children:"Bc s iu tr"})]})]}),w.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-2 text-xs font-bold text-red-600 bg-white border border-red-100 hover:bg-red-50 rounded-lg transition-colors shadow-sm",children:[w.jsx(av,{size:14})," ",a.logout||"ng xut"]})]})]}),w.jsxs("main",{className:"flex-1 md:ml-64 p-4 md:p-8",children:[w.jsxs("div",{className:"md:hidden flex items-center justify-between mb-6 bg-white p-4 rounded-2xl shadow-sm border border-slate-100 sticky top-0 z-30",children:[w.jsx(vs,{className:"text-blue-600"}),w.jsxs("div",{className:"flex gap-2 items-center",children:[w.jsx(Ed,{className:"scale-90"}),w.jsx("button",{className:"p-2 bg-slate-100 rounded-lg",children:w.jsx(I1,{size:20})})]})]}),w.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-5 duration-500",children:e})]})]})},Ul=({message:e,type:t="success",onClose:n,duration:r=3e3})=>(Z.useEffect(()=>{if(e&&r){const o=setTimeout(n,r);return()=>clearTimeout(o)}},[e,r,n]),e?w.jsxs("div",{className:mt("fixed bottom-5 right-5 z-50 px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 animate-in slide-in-from-bottom-5 fade-in duration-300",t==="error"?"bg-red-50 text-red-700 border border-red-200":"bg-green-50 text-green-700 border border-green-200"),children:[t==="error"?w.jsx(iv,{size:20}):w.jsx(Kd,{size:20}),w.jsx("span",{className:"font-bold text-sm",children:e}),w.jsx("button",{onClick:n,className:"hover:opacity-70 transition-opacity",children:w.jsx(Wo,{size:16})})]}):null),ES=()=>{const{t:e}=sn(),[t,n]=Z.useState(!1),[r,o]=Z.useState(!0),[a,l]=Z.useState(""),[c,h]=Z.useState(""),[f,m]=Z.useState(null),g=async b=>{b.preventDefault(),n(!0),m(null);try{let v;if(r?v=await nt.auth.signInWithPassword({email:a,password:c}):v=await nt.auth.signUp({email:a,password:c}),v.error)throw v.error;!r&&v.data?.user&&!v.data.session&&m({message:"Vui lng kim tra email  xc thc!",type:"success"})}catch(v){m({message:v.message,type:"error"})}finally{n(!1)}};return w.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4 font-sans",children:[w.jsx(Ul,{message:f?.message,type:f?.type,onClose:()=>m(null)}),w.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl p-8 md:p-10 animate-in fade-in zoom-in-95 duration-500",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-blue-500/30 mx-auto mb-4",children:w.jsx(vs,{size:32,strokeWidth:3})}),w.jsx("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"MediGuide Pro"}),w.jsx("p",{className:"text-slate-500 font-medium mt-1",children:r?e.welcome_back:e.create_account})]}),w.jsxs("form",{onSubmit:g,className:"space-y-5",children:[w.jsxs("div",{children:[w.jsxs("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 block pl-1",children:[e.email," ",w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsxs("div",{className:"relative group",children:[w.jsx("input",{type:"email",required:!0,value:a,onChange:b=>l(b.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-900 font-semibold focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 outline-none transition-all placeholder:font-normal placeholder:text-slate-400",placeholder:e.ph_email}),w.jsx(R1,{className:"absolute left-3 top-3.5 text-slate-400 group-focus-within:text-blue-500 transition-colors",size:20})]})]}),w.jsxs("div",{children:[w.jsxs("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 block pl-1",children:[e.password," ",w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsxs("div",{className:"relative group",children:[w.jsx("input",{type:"password",required:!0,value:c,onChange:b=>h(b.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-900 font-semibold focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 outline-none transition-all placeholder:font-normal placeholder:text-slate-400",placeholder:e.ph_password}),w.jsx(A1,{className:"absolute left-3 top-3.5 text-slate-400 group-focus-within:text-blue-500 transition-colors",size:20})]}),r&&w.jsx("div",{className:"flex justify-end mt-2",children:w.jsx("button",{type:"button",className:"text-xs font-bold text-blue-600 hover:text-blue-700 hover:underline",children:e.forgotPass})})]}),w.jsx("button",{type:"submit",disabled:t,className:"w-full py-3.5 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg shadow-blue-500/30 flex items-center justify-center gap-2 active:scale-95 transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:t?w.jsxs(w.Fragment,{children:[w.jsx(ws,{className:"animate-spin",size:20})," ",r?e.loggingIn:e.signingUp]}):r?e.signIn:e.signUp})]}),w.jsxs("div",{className:"relative my-6",children:[w.jsx("div",{className:"absolute inset-0 flex items-center",children:w.jsx("div",{className:"w-full border-t border-slate-200"})}),w.jsx("div",{className:"relative flex justify-center text-xs",children:w.jsx("span",{className:"bg-white px-2 text-slate-400 font-bold uppercase tracking-wider",children:e.or})})]}),w.jsx("button",{onClick:()=>o(!r),className:"w-full py-3 bg-white border border-slate-200 text-slate-700 font-bold rounded-xl hover:bg-slate-50 hover:border-slate-300 transition-all flex items-center justify-center gap-2",children:r?w.jsxs("span",{className:"font-normal text-slate-500",children:[e.noAccount," ",w.jsx("span",{className:"text-blue-600 font-bold",children:e.toggleSignup})]}):w.jsxs("span",{className:"font-normal text-slate-500",children:[e.haveAccount," ",w.jsx("span",{className:"text-blue-600 font-bold",children:e.toggleLogin})]})})]}),w.jsx("div",{className:"fixed bottom-4 text-center w-full text-[10px] text-slate-400 font-medium",children:"MediGuide Pro v1.0  Secure EMR System"})]})},yv=()=>{const[e,t]=Z.useState(!1),{t:n}=sn(),r=async m=>{const g={};for(const[b,v]of Object.entries(m||{})){if(!v||v.length===0)continue;const k=await Promise.all(v.map(async _=>{if(_.url&&!_.file)return _;const E=_.file||_;if(!E||!(E instanceof File))return _;const j=E.name.split(".").pop(),z=`${`${Date.now()}_${Math.floor(Math.random()*1e5)}`}.${j}`,V=`${b}/${z}`,{error:G}=await nt.storage.from("medical-records").upload(V,E);if(G)return null;const{data:{publicUrl:L}}=nt.storage.from("medical-records").getPublicUrl(V);return{name:E.name,type:E.type,size:E.size,url:L}}));g[b]=k.filter(_=>_!==null)}return g},o=async(m,g=null)=>{t(!0);try{const{data:{user:b}}=await nt.auth.getUser();if(!b)throw new Error("Vui lng ng nhp li.");const v=await r(m.files),k={...m,files:v},_={user_id:b.id,patient_name:m.demo?.name||"Khng tn",status:m.plan?.status==="admitted"?"final":"draft",updated_at:new Date().toISOString(),form_data:k};let E;if(g&&g!=="new"){const{data:j,error:I}=await nt.from("records").update(_).eq("id",g).select().single();if(I)throw I;E=j}else{const{data:j,error:I}=await nt.from("records").insert([_]).select().single();if(I)throw I;E=j}return{success:!0,id:E.id,message:"Lu thnh cng!"}}catch(b){return console.error("Li lu:",b),{success:!1,message:b.message}}finally{t(!1)}},a=Z.useCallback(async(m="")=>{t(!0);try{const{data:{user:g}}=await nt.auth.getUser();let b=nt.from("records").select("id, patient_name, updated_at, status").eq("user_id",g.id).order("updated_at",{ascending:!1});m&&(b=b.ilike("patient_name",`%${m}%`));const{data:v,error:k}=await b;if(k)throw k;return{success:!0,data:v||[]}}catch{return{success:!1,data:[]}}finally{t(!1)}},[]),l=Z.useCallback(async m=>{if(!m||m==="new")return null;t(!0);try{const{data:g,error:b}=await nt.from("records").select("*").eq("id",m).single();if(b)throw b;return{...g.form_data,id:g.id,created_at:g.created_at}}catch{return null}finally{t(!1)}},[]);return{loading:e,fetchRecords:a,fetchRecord:l,createRecord:m=>o(m,null),updateRecord:(m,g)=>o(g,m),saveRecord:o,deleteRecord:async m=>{const{error:g}=await nt.from("records").delete().eq("id",m);return{success:!g}}}},Kc=({label:e,count:t,icon:n,colorClass:r})=>w.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] flex items-center gap-4 hover:-translate-y-1 transition-transform duration-300",children:[w.jsx("div",{className:mt("p-4 rounded-2xl shadow-sm",r),children:w.jsx(n,{size:24,strokeWidth:2.5})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-wider mb-1",children:e}),w.jsx("p",{className:"text-3xl font-black text-slate-800",children:t})]})]}),CS=()=>{const{t:e}=sn(),t=qo(),{fetchList:n,deleteRecord:r}=yv(),[o,a]=Z.useState([]),[l,c]=Z.useState(""),[h,f]=Z.useState(null),[m,g]=Z.useState(!0),b=async()=>{const _=await n(l);_.success?a(_.data):f({message:"Li ti danh sch: "+_.message,type:"error"}),g(!1)};Z.useEffect(()=>{const _=setTimeout(()=>{b()},500);return()=>clearTimeout(_)},[l]);const v=async(_,E)=>{if(_.stopPropagation(),!window.confirm("Bn c chc chn mun xa h s ny?"))return;const j=await r(E);j.success?(f({message:j.message,type:"success"}),b()):f({message:j.message,type:"error"})},k={total:o.length,today:o.filter(_=>new Date(_.updated_at).toDateString()===new Date().toDateString()).length,draft:o.filter(_=>_.status==="draft").length};return w.jsxs("div",{className:"space-y-8",children:[w.jsx(Ul,{message:h?.message,type:h?.type,onClose:()=>f(null)}),w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-4",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-black text-slate-900 tracking-tight mb-1",children:"Tng quan"}),w.jsx("p",{className:"text-slate-500 font-medium",children:"Theo di tnh hnh bnh nhn v h s."})]}),w.jsx("div",{className:"flex gap-3",children:w.jsx(Ed,{})})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[w.jsx(Kc,{label:"Tng h s",count:k.total,icon:S1,colorClass:"bg-blue-50 text-blue-600"}),w.jsx(Kc,{label:"Hm nay",count:k.today,icon:sv,colorClass:"bg-purple-50 text-purple-600"}),w.jsx(Kc,{label:"Ch x l",count:k.draft,icon:Xm,colorClass:"bg-orange-50 text-orange-600"})]}),w.jsxs("div",{className:"bg-white p-2 rounded-2xl shadow-sm border border-slate-100 flex flex-col md:flex-row gap-2",children:[w.jsxs("div",{className:"relative flex-1",children:[w.jsx(Jd,{className:"absolute left-4 top-3.5 text-slate-400",size:20}),w.jsx("input",{type:"text",placeholder:"Tm kim bnh nhn...",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border-none rounded-xl font-bold text-slate-700 focus:bg-white focus:ring-2 focus:ring-blue-100 outline-none transition-all placeholder:font-medium",value:l,onChange:_=>c(_.target.value)})]}),w.jsxs("button",{onClick:()=>t("/record/new"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg shadow-blue-500/30 flex items-center justify-center gap-2 transition-transform active:scale-95",children:[w.jsx(uv,{size:20})," ",e.newRecord]})]}),m?w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(_=>w.jsx("div",{className:"h-48 bg-slate-200 rounded-2xl animate-pulse"},_))}):o.length>0?w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(_=>w.jsxs("div",{onClick:()=>t(`/record/${_.id}`),className:"group bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-xl hover:shadow-blue-500/10 hover:border-blue-200 cursor-pointer transition-all duration-300 relative",children:[w.jsx("div",{className:"flex justify-between items-start mb-4",children:w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 rounded-2xl bg-slate-50 text-slate-600 group-hover:bg-blue-600 group-hover:text-white flex items-center justify-center font-bold transition-colors",children:w.jsx(Dl,{size:20})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-lg text-slate-900 group-hover:text-blue-700 transition-colors line-clamp-1",children:_.patient_name||"Khng tn"}),w.jsx("p",{className:"text-xs text-slate-400 font-bold",children:SS(_.updated_at)})]})]})}),w.jsxs("div",{className:"flex justify-between items-center mt-6",children:[w.jsxs("span",{className:mt("px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-wider flex items-center gap-1.5",_.status==="submitted"?"bg-green-50 text-green-700":"bg-slate-100 text-slate-500"),children:[_.status==="submitted"?w.jsx(w1,{size:12}):w.jsx(Xm,{size:12}),_.status==="submitted"?e.submit:e.draft]}),w.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity translate-y-2 group-hover:translate-y-0 duration-200",children:[w.jsx("button",{onClick:E=>v(E,_.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:w.jsx(cv,{size:16})}),w.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:w.jsx(Gd,{size:18})})]})]})]},_.id))}):w.jsxs("div",{className:"flex flex-col items-center justify-center py-24 bg-white rounded-3xl border border-dashed border-slate-200 text-center",children:[w.jsx("div",{className:"w-24 h-24 bg-blue-50 rounded-full flex items-center justify-center mb-6 text-blue-200",children:w.jsx(T1,{size:48,strokeWidth:1.5})}),w.jsx("h3",{className:"text-xl font-black text-slate-900 mb-2",children:"Cha c d liu"}),w.jsx("p",{className:"text-slate-500 max-w-xs mx-auto mb-8 font-medium",children:l?"Khng tm thy kt qu ph hp.":"Hy bt u bng vic to h s bnh n u tin."}),w.jsx("button",{onClick:()=>t("/record/new"),className:"text-blue-600 font-bold hover:underline",children:"+ To h s ngay"})]})]})};var Zo=e=>e.type==="checkbox",yi=e=>e instanceof Date,nn=e=>e==null;const vv=e=>typeof e=="object";var kt=e=>!nn(e)&&!Array.isArray(e)&&vv(e)&&!yi(e),TS=e=>kt(e)&&e.target?Zo(e.target)?e.target.checked:e.target.value:e,jS=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,NS=(e,t)=>e.has(jS(t)),PS=e=>{const t=e.constructor&&e.constructor.prototype;return kt(t)&&t.hasOwnProperty("isPrototypeOf")},Yd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function jt(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(Yd&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!n&&!(kt(e)&&PS(e)))return e;const r=n?[]:Object.create(Object.getPrototypeOf(e));for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=jt(e[o]));return r}var Ml=e=>/^\w*$/.test(e),ut=e=>e===void 0,Xd=e=>Array.isArray(e)?e.filter(Boolean):[],eh=e=>Xd(e.replace(/["|']|\]/g,"").split(/\.|\[/)),me=(e,t,n)=>{if(!t||!kt(e))return n;const r=(Ml(t)?[t]:eh(t)).reduce((o,a)=>nn(o)?o:o[a],e);return ut(r)||r===e?ut(e[t])?n:e[t]:r},Jn=e=>typeof e=="boolean",Mn=e=>typeof e=="function",Ze=(e,t,n)=>{let r=-1;const o=Ml(t)?[t]:eh(t),a=o.length,l=a-1;for(;++r<a;){const c=o[r];let h=n;if(r!==l){const f=e[c];h=kt(f)||Array.isArray(f)?f:isNaN(+o[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=h,e=e[c]}};const ng={BLUR:"blur",FOCUS_OUT:"focusout"},Fn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},cr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},wv=st.createContext(null);wv.displayName="HookFormControlContext";var OS=(e,t,n,r=!0)=>{const o={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(o,a,{get:()=>{const l=a;return t._proxyFormState[l]!==Fn.all&&(t._proxyFormState[l]=!r||Fn.all),e[l]}});return o};const AS=typeof window<"u"?st.useLayoutEffect:st.useEffect;var yn=e=>typeof e=="string",RS=(e,t,n,r,o)=>yn(e)?(r&&t.watch.add(e),me(n,e,o)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),me(n,a))):(r&&(t.watchAll=!0),n),Cd=e=>nn(e)||!vv(e);function Mr(e,t,n=new WeakSet){if(Cd(e)||Cd(t))return Object.is(e,t);if(yi(e)&&yi(t))return Object.is(e.getTime(),t.getTime());const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const l=e[a];if(!o.includes(a))return!1;if(a!=="ref"){const c=t[a];if(yi(l)&&yi(c)||kt(l)&&kt(c)||Array.isArray(l)&&Array.isArray(c)?!Mr(l,c,n):!Object.is(l,c))return!1}}return!0}const th=st.createContext(null);th.displayName="HookFormContext";const Ko=()=>st.useContext(th),IS=e=>{const{children:t,watch:n,getValues:r,getFieldState:o,setError:a,clearErrors:l,setValue:c,trigger:h,formState:f,resetField:m,reset:g,handleSubmit:b,unregister:v,control:k,register:_,setFocus:E,subscribe:j}=e;return st.createElement(th.Provider,{value:st.useMemo(()=>({watch:n,getValues:r,getFieldState:o,setError:a,clearErrors:l,setValue:c,trigger:h,formState:f,resetField:m,reset:g,handleSubmit:b,unregister:v,control:k,register:_,setFocus:E,subscribe:j}),[l,k,f,o,r,b,_,g,m,a,E,c,j,h,v,n])},st.createElement(wv.Provider,{value:k},t))};var nh=(e,t,n,r,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:o||!0}}:{},Co=e=>Array.isArray(e)?e:[e],rg=()=>{let e=[];return{get observers(){return e},next:o=>{for(const a of e)a.next&&a.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(a=>a!==o)}}),unsubscribe:()=>{e=[]}}};function bv(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r],a=t[r];if(o&&kt(o)&&a){const l=bv(o,a);kt(l)&&(n[r]=l)}else e[r]&&(n[r]=a)}return n}var Zt=e=>kt(e)&&!Object.keys(e).length,rh=e=>e.type==="file",kl=e=>{if(!Yd)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xv=e=>e.type==="select-multiple",ih=e=>e.type==="radio",zS=e=>ih(e)||Zo(e),Gc=e=>kl(e)&&e.isConnected;function LS(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=ut(e)?r++:e[t[r++]];return e}function $S(e){for(const t in e)if(e.hasOwnProperty(t)&&!ut(e[t]))return!1;return!0}function wt(e,t){const n=Array.isArray(t)?t:Ml(t)?[t]:eh(t),r=n.length===1?e:LS(e,n),o=n.length-1,a=n[o];return r&&delete r[a],o!==0&&(kt(r)&&Zt(r)||Array.isArray(r)&&$S(r))&&wt(e,n.slice(0,-1)),e}var DS=e=>{for(const t in e)if(Mn(e[t]))return!0;return!1};function _v(e){return Array.isArray(e)||kt(e)&&!DS(e)}function Td(e,t={}){for(const n in e){const r=e[n];_v(r)?(t[n]=Array.isArray(r)?[]:{},Td(r,t[n])):ut(r)||(t[n]=!0)}return t}function ls(e,t,n){n||(n=Td(t));for(const r in e){const o=e[r];if(_v(o))ut(t)||Cd(n[r])?n[r]=Td(o,Array.isArray(o)?[]:{}):ls(o,nn(t)?{}:t[r],n[r]);else{const a=t[r];n[r]=!Mr(o,a)}}return n}const ig={value:!1,isValid:!1},sg={value:!0,isValid:!0};var kv=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ut(e[0].attributes.value)?ut(e[0].value)||e[0].value===""?sg:{value:e[0].value,isValid:!0}:sg:ig}return ig},Sv=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>ut(e)?e:t?e===""?NaN:e&&+e:n&&yn(e)?new Date(e):r?r(e):e;const og={isValid:!1,value:null};var Ev=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,og):og;function ag(e){const t=e.ref;return rh(t)?t.files:ih(t)?Ev(e.refs).value:xv(t)?[...t.selectedOptions].map(({value:n})=>n):Zo(t)?kv(e.refs).value:Sv(ut(t.value)?e.ref.value:t.value,e)}var US=(e,t,n,r)=>{const o={};for(const a of e){const l=me(t,a);l&&Ze(o,a,l._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:r}},Sl=e=>e instanceof RegExp,mo=e=>ut(e)?e:Sl(e)?e.source:kt(e)?Sl(e.value)?e.value.source:e.value:e,lg=e=>({isOnSubmit:!e||e===Fn.onSubmit,isOnBlur:e===Fn.onBlur,isOnChange:e===Fn.onChange,isOnAll:e===Fn.all,isOnTouch:e===Fn.onTouched});const ug="AsyncFunction";var MS=e=>!!e&&!!e.validate&&!!(Mn(e.validate)&&e.validate.constructor.name===ug||kt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ug)),FS=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),cg=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const To=(e,t,n,r)=>{for(const o of n||Object.keys(e)){const a=me(e,o);if(a){const{_f:l,...c}=a;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],o)&&!r)return!0;if(l.ref&&t(l.ref,l.name)&&!r)return!0;if(To(c,t))break}else if(kt(c)&&To(c,t))break}}};function dg(e,t,n){const r=me(e,n);if(r||Ml(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const a=o.join("."),l=me(t,a),c=me(e,a);if(l&&!Array.isArray(l)&&n!==a)return{name:n};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};o.pop()}return{name:n}}var BS=(e,t,n,r)=>{n(e);const{name:o,...a}=e;return Zt(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(l=>t[l]===(!r||Fn.all))},VS=(e,t,n)=>!e||!t||e===t||Co(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),qS=(e,t,n,r,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(t||e):(n?r.isOnBlur:o.isOnBlur)?!e:(n?r.isOnChange:o.isOnChange)?e:!0,HS=(e,t)=>!Xd(me(e,t)).length&&wt(e,t),WS=(e,t,n)=>{const r=Co(me(e,n));return Ze(r,"root",t[n]),Ze(e,n,r),e};function hg(e,t,n="validate"){if(yn(e)||Array.isArray(e)&&e.every(yn)||Jn(e)&&!e)return{type:n,message:yn(e)?e:"",ref:t}}var ns=e=>kt(e)&&!Sl(e)?e:{value:e,message:""},fg=async(e,t,n,r,o,a)=>{const{ref:l,refs:c,required:h,maxLength:f,minLength:m,min:g,max:b,pattern:v,validate:k,name:_,valueAsNumber:E,mount:j}=e._f,I=me(n,_);if(!j||t.has(_))return{};const z=c?c[0]:l,V=q=>{o&&z.reportValidity&&(z.setCustomValidity(Jn(q)?"":q||""),z.reportValidity())},G={},L=ih(l),ne=Zo(l),fe=L||ne,ye=(E||rh(l))&&ut(l.value)&&ut(I)||kl(l)&&l.value===""||I===""||Array.isArray(I)&&!I.length,ke=nh.bind(null,_,r,G),ce=(q,ae,re,J=cr.maxLength,ve=cr.minLength)=>{const be=q?ae:re;G[_]={type:q?J:ve,message:be,ref:l,...ke(q?J:ve,be)}};if(a?!Array.isArray(I)||!I.length:h&&(!fe&&(ye||nn(I))||Jn(I)&&!I||ne&&!kv(c).isValid||L&&!Ev(c).isValid)){const{value:q,message:ae}=yn(h)?{value:!!h,message:h}:ns(h);if(q&&(G[_]={type:cr.required,message:ae,ref:z,...ke(cr.required,ae)},!r))return V(ae),G}if(!ye&&(!nn(g)||!nn(b))){let q,ae;const re=ns(b),J=ns(g);if(!nn(I)&&!isNaN(I)){const ve=l.valueAsNumber||I&&+I;nn(re.value)||(q=ve>re.value),nn(J.value)||(ae=ve<J.value)}else{const ve=l.valueAsDate||new Date(I),be=S=>new Date(new Date().toDateString()+" "+S),X=l.type=="time",le=l.type=="week";yn(re.value)&&I&&(q=X?be(I)>be(re.value):le?I>re.value:ve>new Date(re.value)),yn(J.value)&&I&&(ae=X?be(I)<be(J.value):le?I<J.value:ve<new Date(J.value))}if((q||ae)&&(ce(!!q,re.message,J.message,cr.max,cr.min),!r))return V(G[_].message),G}if((f||m)&&!ye&&(yn(I)||a&&Array.isArray(I))){const q=ns(f),ae=ns(m),re=!nn(q.value)&&I.length>+q.value,J=!nn(ae.value)&&I.length<+ae.value;if((re||J)&&(ce(re,q.message,ae.message),!r))return V(G[_].message),G}if(v&&!ye&&yn(I)){const{value:q,message:ae}=ns(v);if(Sl(q)&&!I.match(q)&&(G[_]={type:cr.pattern,message:ae,ref:l,...ke(cr.pattern,ae)},!r))return V(ae),G}if(k){if(Mn(k)){const q=await k(I,n),ae=hg(q,z);if(ae&&(G[_]={...ae,...ke(cr.validate,ae.message)},!r))return V(ae.message),G}else if(kt(k)){let q={};for(const ae in k){if(!Zt(q)&&!r)break;const re=hg(await k[ae](I,n),z,ae);re&&(q={...re,...ke(ae,re.message)},V(re.message),r&&(G[_]=q))}if(!Zt(q)&&(G[_]={ref:z,...q},!r))return G}}return V(!0),G};const ZS={mode:Fn.onSubmit,reValidateMode:Fn.onChange,shouldFocusError:!0};function KS(e={}){let t={...ZS,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Mn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},o=kt(t.defaultValues)||kt(t.values)?jt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:jt(o),l={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,f=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={...m};let b={...g};const v={array:rg(),state:rg()},k=t.criteriaMode===Fn.all,_=N=>D=>{clearTimeout(f),f=setTimeout(N,D)},E=async N=>{if(!l.keepIsValid&&!t.disabled&&(g.isValid||b.isValid||N)){let D;t.resolver?(D=Zt((await fe()).errors),j()):D=await ke(r,!0),D!==n.isValid&&v.state.next({isValid:D})}},j=(N,D)=>{!t.disabled&&(g.isValidating||g.validatingFields||b.isValidating||b.validatingFields)&&((N||Array.from(c.mount)).forEach(B=>{B&&(D?Ze(n.validatingFields,B,D):wt(n.validatingFields,B))}),v.state.next({validatingFields:n.validatingFields,isValidating:!Zt(n.validatingFields)}))},I=(N,D=[],B,oe,ie=!0,O=!0)=>{if(oe&&B&&!t.disabled){if(l.action=!0,O&&Array.isArray(me(r,N))){const F=B(me(r,N),oe.argA,oe.argB);ie&&Ze(r,N,F)}if(O&&Array.isArray(me(n.errors,N))){const F=B(me(n.errors,N),oe.argA,oe.argB);ie&&Ze(n.errors,N,F),HS(n.errors,N)}if((g.touchedFields||b.touchedFields)&&O&&Array.isArray(me(n.touchedFields,N))){const F=B(me(n.touchedFields,N),oe.argA,oe.argB);ie&&Ze(n.touchedFields,N,F)}(g.dirtyFields||b.dirtyFields)&&(n.dirtyFields=ls(o,a)),v.state.next({name:N,isDirty:q(N,D),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ze(a,N,D)},z=(N,D)=>{Ze(n.errors,N,D),v.state.next({errors:n.errors})},V=N=>{n.errors=N,v.state.next({errors:n.errors,isValid:!1})},G=(N,D,B,oe)=>{const ie=me(r,N);if(ie){const O=me(a,N,ut(B)?me(o,N):B);ut(O)||oe&&oe.defaultChecked||D?Ze(a,N,D?O:ag(ie._f)):J(N,O),l.mount&&!l.action&&E()}},L=(N,D,B,oe,ie)=>{let O=!1,F=!1;const se={name:N};if(!t.disabled){if(!B||oe){(g.isDirty||b.isDirty)&&(F=n.isDirty,n.isDirty=se.isDirty=q(),O=F!==se.isDirty);const de=Mr(me(o,N),D);F=!!me(n.dirtyFields,N),de?wt(n.dirtyFields,N):Ze(n.dirtyFields,N,!0),se.dirtyFields=n.dirtyFields,O=O||(g.dirtyFields||b.dirtyFields)&&F!==!de}if(B){const de=me(n.touchedFields,N);de||(Ze(n.touchedFields,N,B),se.touchedFields=n.touchedFields,O=O||(g.touchedFields||b.touchedFields)&&de!==B)}O&&ie&&v.state.next(se)}return O?se:{}},ne=(N,D,B,oe)=>{const ie=me(n.errors,N),O=(g.isValid||b.isValid)&&Jn(D)&&n.isValid!==D;if(t.delayError&&B?(h=_(()=>z(N,B)),h(t.delayError)):(clearTimeout(f),h=null,B?Ze(n.errors,N,B):wt(n.errors,N)),(B?!Mr(ie,B):ie)||!Zt(oe)||O){const F={...oe,...O&&Jn(D)?{isValid:D}:{},errors:n.errors,name:N};n={...n,...F},v.state.next(F)}},fe=async N=>(j(N,!0),await t.resolver(a,t.context,US(N||c.mount,r,t.criteriaMode,t.shouldUseNativeValidation))),ye=async N=>{const{errors:D}=await fe(N);if(j(N),N)for(const B of N){const oe=me(D,B);oe?Ze(n.errors,B,oe):wt(n.errors,B)}else n.errors=D;return D},ke=async(N,D,B={valid:!0})=>{for(const oe in N){const ie=N[oe];if(ie){const{_f:O,...F}=ie;if(O){const se=c.array.has(O.name),de=ie._f&&MS(ie._f);de&&g.validatingFields&&j([O.name],!0);const Ne=await fg(ie,c.disabled,a,k,t.shouldUseNativeValidation&&!D,se);if(de&&g.validatingFields&&j([O.name]),Ne[O.name]&&(B.valid=!1,D||e.shouldUseNativeValidation))break;!D&&(me(Ne,O.name)?se?WS(n.errors,Ne,O.name):Ze(n.errors,O.name,Ne[O.name]):wt(n.errors,O.name))}!Zt(F)&&await ke(F,D,B)}}return B.valid},ce=()=>{for(const N of c.unMount){const D=me(r,N);D&&(D._f.refs?D._f.refs.every(B=>!Gc(B)):!Gc(D._f.ref))&&ze(N)}c.unMount=new Set},q=(N,D)=>!t.disabled&&(N&&D&&Ze(a,N,D),!Mr(A(),o)),ae=(N,D,B)=>RS(N,c,{...l.mount?a:ut(D)?o:yn(N)?{[N]:D}:D},B,D),re=N=>Xd(me(l.mount?a:o,N,t.shouldUnregister?me(o,N,[]):[])),J=(N,D,B={})=>{const oe=me(r,N);let ie=D;if(oe){const O=oe._f;O&&(!O.disabled&&Ze(a,N,Sv(D,O)),ie=kl(O.ref)&&nn(D)?"":D,xv(O.ref)?[...O.ref.options].forEach(F=>F.selected=ie.includes(F.value)):O.refs?Zo(O.ref)?O.refs.forEach(F=>{(!F.defaultChecked||!F.disabled)&&(Array.isArray(ie)?F.checked=!!ie.find(se=>se===F.value):F.checked=ie===F.value||!!ie)}):O.refs.forEach(F=>F.checked=F.value===ie):rh(O.ref)?O.ref.value="":(O.ref.value=ie,O.ref.type||v.state.next({name:N,values:jt(a)})))}(B.shouldDirty||B.shouldTouch)&&L(N,ie,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&S(N)},ve=(N,D,B)=>{for(const oe in D){if(!D.hasOwnProperty(oe))return;const ie=D[oe],O=N+"."+oe,F=me(r,O);(c.array.has(N)||kt(ie)||F&&!F._f)&&!yi(ie)?ve(O,ie,B):J(O,ie,B)}},be=(N,D,B={})=>{const oe=me(r,N),ie=c.array.has(N),O=jt(D);Ze(a,N,O),ie?(v.array.next({name:N,values:jt(a)}),(g.isDirty||g.dirtyFields||b.isDirty||b.dirtyFields)&&B.shouldDirty&&v.state.next({name:N,dirtyFields:ls(o,a),isDirty:q(N,O)})):oe&&!oe._f&&!nn(O)?ve(N,O,B):J(N,O,B),cg(N,c)?v.state.next({...n,name:N,values:jt(a)}):v.state.next({name:l.mount?N:void 0,values:jt(a)})},X=async N=>{l.mount=!0;const D=N.target;let B=D.name,oe=!0;const ie=me(r,B),O=de=>{oe=Number.isNaN(de)||yi(de)&&isNaN(de.getTime())||Mr(de,me(a,B,de))},F=lg(t.mode),se=lg(t.reValidateMode);if(ie){let de,Ne;const Ye=D.type?ag(ie._f):TS(N),Pt=N.type===ng.BLUR||N.type===ng.FOCUS_OUT,Kt=!FS(ie._f)&&!t.resolver&&!me(n.errors,B)&&!ie._f.deps||qS(Pt,me(n.touchedFields,B),n.isSubmitted,se,F),wn=cg(B,c,Pt);Ze(a,B,Ye),Pt?(!D||!D.readOnly)&&(ie._f.onBlur&&ie._f.onBlur(N),h&&h(0)):ie._f.onChange&&ie._f.onChange(N);const Nn=L(B,Ye,Pt),Et=!Zt(Nn)||wn;if(!Pt&&v.state.next({name:B,type:N.type,values:jt(a)}),Kt)return(g.isValid||b.isValid)&&(t.mode==="onBlur"?Pt&&E():Pt||E()),Et&&v.state.next({name:B,...wn?{}:Nn});if(!Pt&&wn&&v.state.next({...n}),t.resolver){const{errors:un}=await fe([B]);if(j([B]),O(Ye),oe){const Vt=dg(n.errors,r,B),Si=dg(un,r,Vt.name||B);de=Si.error,B=Si.name,Ne=Zt(un)}}else j([B],!0),de=(await fg(ie,c.disabled,a,k,t.shouldUseNativeValidation))[B],j([B]),O(Ye),oe&&(de?Ne=!1:(g.isValid||b.isValid)&&(Ne=await ke(r,!0)));oe&&(ie._f.deps&&(!Array.isArray(ie._f.deps)||ie._f.deps.length>0)&&S(ie._f.deps),ne(B,Ne,de,Nn))}},le=(N,D)=>{if(me(n.errors,D)&&N.focus)return N.focus(),1},S=async(N,D={})=>{let B,oe;const ie=Co(N);if(t.resolver){const O=await ye(ut(N)?N:ie);B=Zt(O),oe=N?!ie.some(F=>me(O,F)):B}else N?(oe=(await Promise.all(ie.map(async O=>{const F=me(r,O);return await ke(F&&F._f?{[O]:F}:F)}))).every(Boolean),!(!oe&&!n.isValid)&&E()):oe=B=await ke(r);return v.state.next({...!yn(N)||(g.isValid||b.isValid)&&B!==n.isValid?{}:{name:N},...t.resolver||!N?{isValid:B}:{},errors:n.errors}),D.shouldFocus&&!oe&&To(r,le,N?ie:c.mount),oe},A=(N,D)=>{let B={...l.mount?a:o};return D&&(B=bv(D.dirtyFields?n.dirtyFields:n.touchedFields,B)),ut(N)?B:yn(N)?me(B,N):N.map(oe=>me(B,oe))},W=(N,D)=>({invalid:!!me((D||n).errors,N),isDirty:!!me((D||n).dirtyFields,N),error:me((D||n).errors,N),isValidating:!!me(n.validatingFields,N),isTouched:!!me((D||n).touchedFields,N)}),T=N=>{N&&Co(N).forEach(D=>wt(n.errors,D)),v.state.next({errors:N?n.errors:{}})},Ee=(N,D,B)=>{const oe=(me(r,N,{_f:{}})._f||{}).ref,ie=me(n.errors,N)||{},{ref:O,message:F,type:se,...de}=ie;Ze(n.errors,N,{...de,...D,ref:oe}),v.state.next({name:N,errors:n.errors,isValid:!1}),B&&B.shouldFocus&&oe&&oe.focus&&oe.focus()},Ie=(N,D)=>Mn(N)?v.state.subscribe({next:B=>"values"in B&&N(ae(void 0,D),B)}):ae(N,D,!0),Se=N=>v.state.subscribe({next:D=>{VS(N.name,D.name,N.exact)&&BS(D,N.formState||g,ki,N.reRenderRoot)&&N.callback({values:{...a},...n,...D,defaultValues:o})}}).unsubscribe,Ue=N=>(l.mount=!0,b={...b,...N.formState},Se({...N,formState:{...m,...N.formState}})),ze=(N,D={})=>{for(const B of N?Co(N):c.mount)c.mount.delete(B),c.array.delete(B),D.keepValue||(wt(r,B),wt(a,B)),!D.keepError&&wt(n.errors,B),!D.keepDirty&&wt(n.dirtyFields,B),!D.keepTouched&&wt(n.touchedFields,B),!D.keepIsValidating&&wt(n.validatingFields,B),!t.shouldUnregister&&!D.keepDefaultValue&&wt(o,B);v.state.next({values:jt(a)}),v.state.next({...n,...D.keepDirty?{isDirty:q()}:{}}),!D.keepIsValid&&E()},Me=({disabled:N,name:D})=>{if(Jn(N)&&l.mount||N||c.disabled.has(D)){const ie=c.disabled.has(D)!==!!N;N?c.disabled.add(D):c.disabled.delete(D),ie&&l.mount&&!l.action&&E()}},rt=(N,D={})=>{let B=me(r,N);const oe=Jn(D.disabled)||Jn(t.disabled);return Ze(r,N,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:N}},name:N,mount:!0,...D}}),c.mount.add(N),B?Me({disabled:Jn(D.disabled)?D.disabled:t.disabled,name:N}):G(N,!0,D.value),{...oe?{disabled:D.disabled||t.disabled}:{},...t.progressive?{required:!!D.required,min:mo(D.min),max:mo(D.max),minLength:mo(D.minLength),maxLength:mo(D.maxLength),pattern:mo(D.pattern)}:{},name:N,onChange:X,onBlur:X,ref:ie=>{if(ie){rt(N,D),B=me(r,N);const O=ut(ie.value)&&ie.querySelectorAll&&ie.querySelectorAll("input,select,textarea")[0]||ie,F=zS(O),se=B._f.refs||[];if(F?se.find(de=>de===O):O===B._f.ref)return;Ze(r,N,{_f:{...B._f,...F?{refs:[...se.filter(Gc),O,...Array.isArray(me(o,N))?[{}]:[]],ref:{type:O.type,name:N}}:{ref:O}}}),G(N,!1,void 0,O)}else B=me(r,N,{}),B._f&&(B._f.mount=!1),(t.shouldUnregister||D.shouldUnregister)&&!(NS(c.array,N)&&l.action)&&c.unMount.add(N)}}},ln=()=>t.shouldFocusError&&To(r,le,c.mount),_i=N=>{Jn(N)&&(v.state.next({disabled:N}),To(r,(D,B)=>{const oe=me(r,B);oe&&(D.disabled=oe._f.disabled||N,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(ie=>{ie.disabled=oe._f.disabled||N}))},0,!1))},er=(N,D)=>async B=>{let oe;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let ie=jt(a);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:O,values:F}=await fe();j(),n.errors=O,ie=jt(F)}else await ke(r);if(c.disabled.size)for(const O of c.disabled)wt(ie,O);if(wt(n.errors,"root"),Zt(n.errors)){v.state.next({errors:{}});try{await N(ie,B)}catch(O){oe=O}}else D&&await D({...n.errors},B),ln(),setTimeout(ln);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zt(n.errors)&&!oe,submitCount:n.submitCount+1,errors:n.errors}),oe)throw oe},Gr=(N,D={})=>{me(r,N)&&(ut(D.defaultValue)?be(N,jt(me(o,N))):(be(N,D.defaultValue),Ze(o,N,jt(D.defaultValue))),D.keepTouched||wt(n.touchedFields,N),D.keepDirty||(wt(n.dirtyFields,N),n.isDirty=D.defaultValue?q(N,jt(me(o,N))):q()),D.keepError||(wt(n.errors,N),g.isValid&&E()),v.state.next({...n}))},fr=(N,D={})=>{const B=N?jt(N):o,oe=jt(B),ie=Zt(N),O=ie?o:oe;if(D.keepDefaultValues||(o=B),!D.keepValues){if(D.keepDirtyValues){const F=new Set([...c.mount,...Object.keys(ls(o,a))]);for(const se of Array.from(F)){const de=me(n.dirtyFields,se),Ne=me(a,se),Ye=me(O,se);de&&!ut(Ne)?Ze(O,se,Ne):!de&&!ut(Ye)&&be(se,Ye)}}else{if(Yd&&ut(N))for(const F of c.mount){const se=me(r,F);if(se&&se._f){const de=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;if(kl(de)){const Ne=de.closest("form");if(Ne){Ne.reset();break}}}}if(D.keepFieldsRef)for(const F of c.mount)be(F,me(O,F));else r={}}a=t.shouldUnregister?D.keepDefaultValues?jt(o):{}:jt(O),v.array.next({values:{...O}}),v.state.next({values:{...O}})}c={mount:D.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!g.isValid||!!D.keepIsValid||!!D.keepDirtyValues||!t.shouldUnregister&&!Zt(O),l.watch=!!t.shouldUnregister,l.keepIsValid=!!D.keepIsValid,l.action=!1,D.keepErrors||(n.errors={}),v.state.next({submitCount:D.keepSubmitCount?n.submitCount:0,isDirty:ie?!1:D.keepDirty?n.isDirty:!!(D.keepDefaultValues&&!Mr(N,o)),isSubmitted:D.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ie?{}:D.keepDirtyValues?D.keepDefaultValues&&a?ls(o,a):n.dirtyFields:D.keepDefaultValues&&N?ls(o,N):D.keepDirty?n.dirtyFields:{},touchedFields:D.keepTouched?n.touchedFields:{},errors:D.keepErrors?n.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},pr=(N,D)=>fr(Mn(N)?N(a):N,{...t.resetOptions,...D}),mr=(N,D={})=>{const B=me(r,N),oe=B&&B._f;if(oe){const ie=oe.refs?oe.refs[0]:oe.ref;ie.focus&&setTimeout(()=>{ie.focus(),D.shouldSelect&&Mn(ie.select)&&ie.select()})}},ki=N=>{n={...n,...N}},jn={control:{register:rt,unregister:ze,getFieldState:W,handleSubmit:er,setError:Ee,_subscribe:Se,_runSchema:fe,_updateIsValidating:j,_focusError:ln,_getWatch:ae,_getDirty:q,_setValid:E,_setFieldArray:I,_setDisabledField:Me,_setErrors:V,_getFieldArray:re,_reset:fr,_resetDefaultValues:()=>Mn(t.defaultValues)&&t.defaultValues().then(N=>{pr(N,t.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:ce,_disableForm:_i,_subjects:v,_proxyFormState:g,get _fields(){return r},get _formValues(){return a},get _state(){return l},set _state(N){l=N},get _defaultValues(){return o},get _names(){return c},set _names(N){c=N},get _formState(){return n},get _options(){return t},set _options(N){t={...t,...N}}},subscribe:Ue,trigger:S,register:rt,handleSubmit:er,watch:Ie,setValue:be,getValues:A,reset:pr,resetField:Gr,clearErrors:T,unregister:ze,setError:Ee,setFocus:mr,getFieldState:W};return{...jn,formControl:jn}}function GS(e={}){const t=st.useRef(void 0),n=st.useRef(void 0),[r,o]=st.useState({isDirty:!1,isValidating:!1,isLoading:Mn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Mn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Mn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...c}=KS(e);t.current={...c,formState:r}}const a=t.current.control;return a._options=e,AS(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>o({...a._formState}),reRenderRoot:!0});return o(c=>({...c,isReady:!0})),a._formState.isReady=!0,l},[a]),st.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),st.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),st.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),st.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),st.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==r.isDirty&&a._subjects.state.next({isDirty:l})}},[a,r.isDirty]),st.useEffect(()=>{var l;e.values&&!Mr(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((l=a._options.resetOptions)===null||l===void 0)&&l.keepIsValid||a._setValid(),n.current=e.values,o(c=>({...c}))):a._resetDefaultValues()},[a,e.values]),st.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=st.useMemo(()=>OS(r,a),[a,r]),t.current}const pg=(e,t,n)=>{if(e&&"reportValidity"in e){const r=me(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},jd=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?pg(r.ref,n,e):r&&r.refs&&r.refs.forEach(o=>pg(o,n,e))}},mg=(e,t)=>{t.shouldUseNativeValidation&&jd(e,t);const n={};for(const r in e){const o=me(t.fields,r),a=Object.assign(e[r]||{},{ref:o&&o.ref});if(JS(t.names||Object.keys(e),r)){const l=Object.assign({},me(n,r));Ze(l,"root",a),Ze(n,r,l)}else Ze(n,r,a)}return n},JS=(e,t)=>{const n=gg(t);return e.some(r=>gg(r).match(`^${n}\\.\\d+`))};function gg(e){return e.replace(/\]|\[/g,"")}function H(e,t,n){function r(c,h){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:h,constr:l,traits:new Set},enumerable:!1}),c._zod.traits.has(e))return;c._zod.traits.add(e),t(c,h);const f=l.prototype,m=Object.keys(f);for(let g=0;g<m.length;g++){const b=m[g];b in c||(c[b]=f[b].bind(c))}}const o=n?.Parent??Object;class a extends o{}Object.defineProperty(a,"name",{value:e});function l(c){var h;const f=n?.Parent?new a:this;r(f,c),(h=f._zod).deferred??(h.deferred=[]);for(const m of f._zod.deferred)m();return f}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:c=>n?.Parent&&c instanceof n.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(l,"name",{value:e}),l}class ms extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Cv extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Tv={};function Vr(e){return Tv}function jv(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,o])=>t.indexOf(+r)===-1).map(([r,o])=>o)}function Nd(e,t){return typeof t=="bigint"?t.toString():t}function sh(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function oh(e){return e==null}function ah(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function QS(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){const h=r.match(/\d?e-(\d?)/);h?.[1]&&(o=Number.parseInt(h[1]))}const a=n>o?n:o,l=Number.parseInt(e.toFixed(a).replace(".","")),c=Number.parseInt(t.toFixed(a).replace(".",""));return l%c/10**a}const yg=Symbol("evaluating");function We(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==yg)return r===void 0&&(r=yg,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function bi(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Wr(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function vg(e){return JSON.stringify(e)}function YS(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Nv="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function El(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const XS=sh(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function bs(e){if(El(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(El(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Pv(e){return bs(e)?{...e}:Array.isArray(e)?[...e]:e}const eE=new Set(["string","number","symbol"]);function xs(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Zr(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function _e(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function tE(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const nE={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function rE(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const a=Wr(e._zod.def,{get shape(){const l={};for(const c in t){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&(l[c]=n.shape[c])}return bi(this,"shape",l),l},checks:[]});return Zr(e,a)}function iE(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const a=Wr(e._zod.def,{get shape(){const l={...e._zod.def.shape};for(const c in t){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&delete l[c]}return bi(this,"shape",l),l},checks:[]});return Zr(e,a)}function sE(e,t){if(!bs(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const a=e._zod.def.shape;for(const l in t)if(Object.getOwnPropertyDescriptor(a,l)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const o=Wr(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return bi(this,"shape",a),a}});return Zr(e,o)}function oE(e,t){if(!bs(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Wr(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return bi(this,"shape",r),r}});return Zr(e,n)}function aE(e,t){const n=Wr(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return bi(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Zr(e,n)}function lE(e,t,n){const o=t._zod.def.checks;if(o&&o.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const l=Wr(t._zod.def,{get shape(){const c=t._zod.def.shape,h={...c};if(n)for(const f in n){if(!(f in c))throw new Error(`Unrecognized key: "${f}"`);n[f]&&(h[f]=e?new e({type:"optional",innerType:c[f]}):c[f])}else for(const f in c)h[f]=e?new e({type:"optional",innerType:c[f]}):c[f];return bi(this,"shape",h),h},checks:[]});return Zr(t,l)}function uE(e,t,n){const r=Wr(t._zod.def,{get shape(){const o=t._zod.def.shape,a={...o};if(n)for(const l in n){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=new e({type:"nonoptional",innerType:o[l]}))}else for(const l in o)a[l]=new e({type:"nonoptional",innerType:o[l]});return bi(this,"shape",a),a}});return Zr(t,r)}function ds(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function hs(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function fl(e){return typeof e=="string"?e:e?.message}function qr(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const o=fl(e.inst?._zod.def?.error?.(e))??fl(t?.error?.(e))??fl(n.customError?.(e))??fl(n.localeError?.(e))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function lh(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Mo(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Ov=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Nd,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},uh=H("$ZodError",Ov),Fl=H("$ZodError",Ov,{Parent:Error});function cE(e,t=n=>n.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}function dE(e,t=n=>n.message){const n={_errors:[]},r=o=>{for(const a of o.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(l=>r({issues:l}));else if(a.code==="invalid_key")r({issues:a.issues});else if(a.code==="invalid_element")r({issues:a.issues});else if(a.path.length===0)n._errors.push(t(a));else{let l=n,c=0;for(;c<a.path.length;){const h=a.path[c];c===a.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(t(a))):l[h]=l[h]||{_errors:[]},l=l[h],c++}}};return r(e),n}const Bl=e=>(t,n,r,o)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},l=t._zod.run({value:n,issues:[]},a);if(l instanceof Promise)throw new ms;if(l.issues.length){const c=new(o?.Err??e)(l.issues.map(h=>qr(h,a,Vr())));throw Nv(c,o?.callee),c}return l.value},hE=Bl(Fl),Vl=e=>async(t,n,r,o)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},a);if(l instanceof Promise&&(l=await l),l.issues.length){const c=new(o?.Err??e)(l.issues.map(h=>qr(h,a,Vr())));throw Nv(c,o?.callee),c}return l.value},fE=Vl(Fl),ql=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},o);if(a instanceof Promise)throw new ms;return a.issues.length?{success:!1,error:new(e??uh)(a.issues.map(l=>qr(l,o,Vr())))}:{success:!0,data:a.value}},pE=ql(Fl),Hl=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},o);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(l=>qr(l,o,Vr())))}:{success:!0,data:a.value}},mE=Hl(Fl),gE=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Bl(e)(t,n,o)},yE=e=>(t,n,r)=>Bl(e)(t,n,r),vE=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Vl(e)(t,n,o)},wE=e=>async(t,n,r)=>Vl(e)(t,n,r),bE=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ql(e)(t,n,o)},xE=e=>(t,n,r)=>ql(e)(t,n,r),_E=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Hl(e)(t,n,o)},kE=e=>async(t,n,r)=>Hl(e)(t,n,r),SE=/^[cC][^\s-]{8,}$/,EE=/^[0-9a-z]+$/,CE=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,TE=/^[0-9a-vA-V]{20}$/,jE=/^[A-Za-z0-9]{27}$/,NE=/^[a-zA-Z0-9_-]{21}$/,PE=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,OE=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,wg=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,AE=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,RE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function IE(){return new RegExp(RE,"u")}const zE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,LE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,$E=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,DE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,UE=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Av=/^[A-Za-z0-9_-]*$/,ME=/^\+[1-9]\d{6,14}$/,Rv="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",FE=new RegExp(`^${Rv}$`);function Iv(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function BE(e){return new RegExp(`^${Iv(e)}$`)}function VE(e){const t=Iv({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Rv}T(?:${r})$`)}const qE=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},HE=/^-?\d+$/,zv=/^-?\d+(?:\.\d+)?$/,WE=/^(?:true|false)$/i,ZE=/^[^A-Z]*$/,KE=/^[^a-z]*$/,on=H("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Lv={number:"number",bigint:"bigint",object:"date"},$v=H("$ZodCheckLessThan",(e,t)=>{on.init(e,t);const n=Lv[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,a=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Dv=H("$ZodCheckGreaterThan",(e,t)=>{on.init(e,t);const n=Lv[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,a=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),GE=H("$ZodCheckMultipleOf",(e,t)=>{on.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):QS(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),JE=H("$ZodCheckNumberFormat",(e,t)=>{on.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[o,a]=nE[t.format];e._zod.onattach.push(l=>{const c=l._zod.bag;c.format=t.format,c.minimum=o,c.maximum=a,n&&(c.pattern=HE)}),e._zod.check=l=>{const c=l.value;if(n){if(!Number.isInteger(c)){l.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}c<o&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),c>a&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:a,inclusive:!0,inst:e,continue:!t.abort})}}),QE=H("$ZodCheckMaxLength",(e,t)=>{var n;on.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!oh(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const o=r.value;if(o.length<=t.maximum)return;const l=lh(o);r.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),YE=H("$ZodCheckMinLength",(e,t)=>{var n;on.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!oh(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const o=r.value;if(o.length>=t.minimum)return;const l=lh(o);r.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),XE=H("$ZodCheckLengthEquals",(e,t)=>{var n;on.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!oh(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=r=>{const o=r.value,a=o.length;if(a===t.length)return;const l=lh(o),c=a>t.length;r.issues.push({origin:l,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Wl=H("$ZodCheckStringFormat",(e,t)=>{var n,r;on.init(e,t),e._zod.onattach.push(o=>{const a=o._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),eC=H("$ZodCheckRegex",(e,t)=>{Wl.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),tC=H("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=ZE),Wl.init(e,t)}),nC=H("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=KE),Wl.init(e,t)}),rC=H("$ZodCheckIncludes",(e,t)=>{on.init(e,t);const n=xs(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(o=>{const a=o._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),iC=H("$ZodCheckStartsWith",(e,t)=>{on.init(e,t);const n=new RegExp(`^${xs(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),sC=H("$ZodCheckEndsWith",(e,t)=>{on.init(e,t);const n=new RegExp(`.*${xs(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),oC=H("$ZodCheckOverwrite",(e,t)=>{on.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class aC{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(l=>l),o=Math.min(...r.map(l=>l.length-l.trimStart().length)),a=r.map(l=>l.slice(o)).map(l=>" ".repeat(this.indent*2)+l);for(const l of a)this.content.push(l)}compile(){const t=Function,n=this?.args,o=[...(this?.content??[""]).map(a=>`  ${a}`)];return new t(...n,o.join(`
`))}}const lC={major:4,minor:3,patch:6},ct=H("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=lC;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const a of o._zod.onattach)a(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(l,c,h)=>{let f=ds(l),m;for(const g of c){if(g._zod.def.when){if(!g._zod.def.when(l))continue}else if(f)continue;const b=l.issues.length,v=g._zod.check(l);if(v instanceof Promise&&h?.async===!1)throw new ms;if(m||v instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await v,l.issues.length!==b&&(f||(f=ds(l,b)))});else{if(l.issues.length===b)continue;f||(f=ds(l,b))}}return m?m.then(()=>l):l},a=(l,c,h)=>{if(ds(l))return l.aborted=!0,l;const f=o(c,r,h);if(f instanceof Promise){if(h.async===!1)throw new ms;return f.then(m=>e._zod.parse(m,h))}return e._zod.parse(f,h)};e._zod.run=(l,c)=>{if(c.skipChecks)return e._zod.parse(l,c);if(c.direction==="backward"){const f=e._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return f instanceof Promise?f.then(m=>a(m,l,c)):a(f,l,c)}const h=e._zod.parse(l,c);if(h instanceof Promise){if(c.async===!1)throw new ms;return h.then(f=>o(f,r,c))}return o(h,r,c)}}We(e,"~standard",()=>({validate:o=>{try{const a=pE(e,o);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return mE(e,o).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}))}),ch=H("$ZodString",(e,t)=>{ct.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??qE(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),ot=H("$ZodStringFormat",(e,t)=>{Wl.init(e,t),ch.init(e,t)}),uC=H("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=OE),ot.init(e,t)}),cC=H("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=wg(r))}else t.pattern??(t.pattern=wg());ot.init(e,t)}),dC=H("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=AE),ot.init(e,t)}),hC=H("$ZodURL",(e,t)=>{ot.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),fC=H("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=IE()),ot.init(e,t)}),pC=H("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=NE),ot.init(e,t)}),mC=H("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=SE),ot.init(e,t)}),gC=H("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=EE),ot.init(e,t)}),yC=H("$ZodULID",(e,t)=>{t.pattern??(t.pattern=CE),ot.init(e,t)}),vC=H("$ZodXID",(e,t)=>{t.pattern??(t.pattern=TE),ot.init(e,t)}),wC=H("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=jE),ot.init(e,t)}),bC=H("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=VE(t)),ot.init(e,t)}),xC=H("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=FE),ot.init(e,t)}),_C=H("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=BE(t)),ot.init(e,t)}),kC=H("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=PE),ot.init(e,t)}),SC=H("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=zE),ot.init(e,t),e._zod.bag.format="ipv4"}),EC=H("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=LE),ot.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),CC=H("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=$E),ot.init(e,t)}),TC=H("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=DE),ot.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,a]=r;if(!a)throw new Error;const l=Number(a);if(`${l}`!==a)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Uv(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const jC=H("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=UE),ot.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Uv(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function NC(e){if(!Av.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Uv(n)}const PC=H("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Av),ot.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{NC(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),OC=H("$ZodE164",(e,t)=>{t.pattern??(t.pattern=ME),ot.init(e,t)});function AC(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const RC=H("$ZodJWT",(e,t)=>{ot.init(e,t),e._zod.check=n=>{AC(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Mv=H("$ZodNumber",(e,t)=>{ct.init(e,t),e._zod.pattern=e._zod.bag.pattern??zv,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const a=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...a?{received:a}:{}}),n}}),IC=H("$ZodNumberFormat",(e,t)=>{JE.init(e,t),Mv.init(e,t)}),zC=H("$ZodBoolean",(e,t)=>{ct.init(e,t),e._zod.pattern=WE,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),n}}),LC=H("$ZodUnknown",(e,t)=>{ct.init(e,t),e._zod.parse=n=>n}),$C=H("$ZodNever",(e,t)=>{ct.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function bg(e,t,n){e.issues.length&&t.issues.push(...hs(n,e.issues)),t.value[n]=e.value}const DC=H("$ZodArray",(e,t)=>{ct.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const a=[];for(let l=0;l<o.length;l++){const c=o[l],h=t.element._zod.run({value:c,issues:[]},r);h instanceof Promise?a.push(h.then(f=>bg(f,n,l))):bg(h,n,l)}return a.length?Promise.all(a).then(()=>n):n}});function Cl(e,t,n,r,o){if(e.issues.length){if(o&&!(n in r))return;t.issues.push(...hs(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Fv(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=tE(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Bv(e,t,n,r,o,a){const l=[],c=o.keySet,h=o.catchall._zod,f=h.def.type,m=h.optout==="optional";for(const g in t){if(c.has(g))continue;if(f==="never"){l.push(g);continue}const b=h.run({value:t[g],issues:[]},r);b instanceof Promise?e.push(b.then(v=>Cl(v,n,g,t,m))):Cl(b,n,g,t,m)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:a}),e.length?Promise.all(e).then(()=>n):n}const UC=H("$ZodObject",(e,t)=>{if(ct.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const c=t.shape;Object.defineProperty(t,"shape",{get:()=>{const h={...c};return Object.defineProperty(t,"shape",{value:h}),h}})}const r=sh(()=>Fv(t));We(e._zod,"propValues",()=>{const c=t.shape,h={};for(const f in c){const m=c[f]._zod;if(m.values){h[f]??(h[f]=new Set);for(const g of m.values)h[f].add(g)}}return h});const o=El,a=t.catchall;let l;e._zod.parse=(c,h)=>{l??(l=r.value);const f=c.value;if(!o(f))return c.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),c;c.value={};const m=[],g=l.shape;for(const b of l.keys){const v=g[b],k=v._zod.optout==="optional",_=v._zod.run({value:f[b],issues:[]},h);_ instanceof Promise?m.push(_.then(E=>Cl(E,c,b,f,k))):Cl(_,c,b,f,k)}return a?Bv(m,f,c,h,r.value,e):m.length?Promise.all(m).then(()=>c):c}}),MC=H("$ZodObjectJIT",(e,t)=>{UC.init(e,t);const n=e._zod.parse,r=sh(()=>Fv(t)),o=b=>{const v=new aC(["shape","payload","ctx"]),k=r.value,_=z=>{const V=vg(z);return`shape[${V}]._zod.run({ value: input[${V}], issues: [] }, ctx)`};v.write("const input = payload.value;");const E=Object.create(null);let j=0;for(const z of k.keys)E[z]=`key_${j++}`;v.write("const newResult = {};");for(const z of k.keys){const V=E[z],G=vg(z),ne=b[z]?._zod?.optout==="optional";v.write(`const ${V} = ${_(z)};`),ne?v.write(`
        if (${V}.issues.length) {
          if (${G} in input) {
            payload.issues = payload.issues.concat(${V}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${G}, ...iss.path] : [${G}]
            })));
          }
        }
        
        if (${V}.value === undefined) {
          if (${G} in input) {
            newResult[${G}] = undefined;
          }
        } else {
          newResult[${G}] = ${V}.value;
        }
        
      `):v.write(`
        if (${V}.issues.length) {
          payload.issues = payload.issues.concat(${V}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${G}, ...iss.path] : [${G}]
          })));
        }
        
        if (${V}.value === undefined) {
          if (${G} in input) {
            newResult[${G}] = undefined;
          }
        } else {
          newResult[${G}] = ${V}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");const I=v.compile();return(z,V)=>I(b,z,V)};let a;const l=El,c=!Tv.jitless,f=c&&XS.value,m=t.catchall;let g;e._zod.parse=(b,v)=>{g??(g=r.value);const k=b.value;return l(k)?c&&f&&v?.async===!1&&v.jitless!==!0?(a||(a=o(t.shape)),b=a(b,v),m?Bv([],k,b,v,g,e):b):n(b,v):(b.issues.push({expected:"object",code:"invalid_type",input:k,inst:e}),b)}});function xg(e,t,n,r){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const o=e.filter(a=>!ds(a));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(l=>qr(l,r,Vr())))}),t)}const FC=H("$ZodUnion",(e,t)=>{ct.init(e,t),We(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),We(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),We(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),We(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${o.map(a=>ah(a.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,a)=>{if(n)return r(o,a);let l=!1;const c=[];for(const h of t.options){const f=h._zod.run({value:o.value,issues:[]},a);if(f instanceof Promise)c.push(f),l=!0;else{if(f.issues.length===0)return f;c.push(f)}}return l?Promise.all(c).then(h=>xg(h,o,e,a)):xg(c,o,e,a)}}),BC=H("$ZodIntersection",(e,t)=>{ct.init(e,t),e._zod.parse=(n,r)=>{const o=n.value,a=t.left._zod.run({value:o,issues:[]},r),l=t.right._zod.run({value:o,issues:[]},r);return a instanceof Promise||l instanceof Promise?Promise.all([a,l]).then(([h,f])=>_g(n,h,f)):_g(n,a,l)}});function Pd(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(bs(e)&&bs(t)){const n=Object.keys(t),r=Object.keys(e).filter(a=>n.indexOf(a)!==-1),o={...e,...t};for(const a of r){const l=Pd(e[a],t[a]);if(!l.valid)return{valid:!1,mergeErrorPath:[a,...l.mergeErrorPath]};o[a]=l.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=e[r],a=t[r],l=Pd(o,a);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function _g(e,t,n){const r=new Map;let o;for(const c of t.issues)if(c.code==="unrecognized_keys"){o??(o=c);for(const h of c.keys)r.has(h)||r.set(h,{}),r.get(h).l=!0}else e.issues.push(c);for(const c of n.issues)if(c.code==="unrecognized_keys")for(const h of c.keys)r.has(h)||r.set(h,{}),r.get(h).r=!0;else e.issues.push(c);const a=[...r].filter(([,c])=>c.l&&c.r).map(([c])=>c);if(a.length&&o&&e.issues.push({...o,keys:a}),ds(e))return e;const l=Pd(t.value,n.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const VC=H("$ZodRecord",(e,t)=>{ct.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!bs(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),n;const a=[],l=t.keyType._zod.values;if(l){n.value={};const c=new Set;for(const f of l)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){c.add(typeof f=="number"?f.toString():f);const m=t.valueType._zod.run({value:o[f],issues:[]},r);m instanceof Promise?a.push(m.then(g=>{g.issues.length&&n.issues.push(...hs(f,g.issues)),n.value[f]=g.value})):(m.issues.length&&n.issues.push(...hs(f,m.issues)),n.value[f]=m.value)}let h;for(const f in o)c.has(f)||(h=h??[],h.push(f));h&&h.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:h})}else{n.value={};for(const c of Reflect.ownKeys(o)){if(c==="__proto__")continue;let h=t.keyType._zod.run({value:c,issues:[]},r);if(h instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof c=="string"&&zv.test(c)&&h.issues.length){const g=t.keyType._zod.run({value:Number(c),issues:[]},r);if(g instanceof Promise)throw new Error("Async schemas not supported in object keys currently");g.issues.length===0&&(h=g)}if(h.issues.length){t.mode==="loose"?n.value[c]=o[c]:n.issues.push({code:"invalid_key",origin:"record",issues:h.issues.map(g=>qr(g,r,Vr())),input:c,path:[c],inst:e});continue}const m=t.valueType._zod.run({value:o[c],issues:[]},r);m instanceof Promise?a.push(m.then(g=>{g.issues.length&&n.issues.push(...hs(c,g.issues)),n.value[h.value]=g.value})):(m.issues.length&&n.issues.push(...hs(c,m.issues)),n.value[h.value]=m.value)}}return a.length?Promise.all(a).then(()=>n):n}}),qC=H("$ZodEnum",(e,t)=>{ct.init(e,t);const n=jv(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(o=>eE.has(typeof o)).map(o=>typeof o=="string"?xs(o):o.toString()).join("|")})$`),e._zod.parse=(o,a)=>{const l=o.value;return r.has(l)||o.issues.push({code:"invalid_value",values:n,input:l,inst:e}),o}}),HC=H("$ZodLiteral",(e,t)=>{if(ct.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?xs(r):r?xs(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,o)=>{const a=r.value;return n.has(a)||r.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),r}}),WC=H("$ZodTransform",(e,t)=>{ct.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Cv(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(l=>(n.value=l,n));if(o instanceof Promise)throw new ms;return n.value=o,n}});function kg(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Vv=H("$ZodOptional",(e,t)=>{ct.init(e,t),e._zod.optin="optional",e._zod.optout="optional",We(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),We(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ah(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(a=>kg(a,n.value)):kg(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),ZC=H("$ZodExactOptional",(e,t)=>{Vv.init(e,t),We(e._zod,"values",()=>t.innerType._zod.values),We(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),KC=H("$ZodNullable",(e,t)=>{ct.init(e,t),We(e._zod,"optin",()=>t.innerType._zod.optin),We(e._zod,"optout",()=>t.innerType._zod.optout),We(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ah(n.source)}|null)$`):void 0}),We(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),GC=H("$ZodDefault",(e,t)=>{ct.init(e,t),e._zod.optin="optional",We(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(a=>Sg(a,t)):Sg(o,t)}});function Sg(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const JC=H("$ZodPrefault",(e,t)=>{ct.init(e,t),e._zod.optin="optional",We(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),QC=H("$ZodNonOptional",(e,t)=>{ct.init(e,t),We(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(a=>Eg(a,e)):Eg(o,e)}});function Eg(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const YC=H("$ZodCatch",(e,t)=>{ct.init(e,t),We(e._zod,"optin",()=>t.innerType._zod.optin),We(e._zod,"optout",()=>t.innerType._zod.optout),We(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(a=>(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(l=>qr(l,r,Vr()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(a=>qr(a,r,Vr()))},input:n.value}),n.issues=[]),n)}}),XC=H("$ZodPipe",(e,t)=>{ct.init(e,t),We(e._zod,"values",()=>t.in._zod.values),We(e._zod,"optin",()=>t.in._zod.optin),We(e._zod,"optout",()=>t.out._zod.optout),We(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const a=t.out._zod.run(n,r);return a instanceof Promise?a.then(l=>pl(l,t.in,r)):pl(a,t.in,r)}const o=t.in._zod.run(n,r);return o instanceof Promise?o.then(a=>pl(a,t.out,r)):pl(o,t.out,r)}});function pl(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const e2=H("$ZodReadonly",(e,t)=>{ct.init(e,t),We(e._zod,"propValues",()=>t.innerType._zod.propValues),We(e._zod,"values",()=>t.innerType._zod.values),We(e._zod,"optin",()=>t.innerType?._zod?.optin),We(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(Cg):Cg(o)}});function Cg(e){return e.value=Object.freeze(e.value),e}const t2=H("$ZodCustom",(e,t)=>{on.init(e,t),ct.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(a=>Tg(a,n,r,e));Tg(o,n,r,e)}});function Tg(e,t,n,r){if(!e){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),t.issues.push(Mo(o))}}var jg;class n2{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function r2(){return new n2}(jg=globalThis).__zod_globalRegistry??(jg.__zod_globalRegistry=r2());const ko=globalThis.__zod_globalRegistry;function i2(e,t){return new e({type:"string",..._e(t)})}function s2(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,..._e(t)})}function Ng(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,..._e(t)})}function o2(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,..._e(t)})}function a2(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",..._e(t)})}function l2(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",..._e(t)})}function u2(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",..._e(t)})}function c2(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,..._e(t)})}function d2(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,..._e(t)})}function h2(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,..._e(t)})}function f2(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,..._e(t)})}function p2(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,..._e(t)})}function m2(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,..._e(t)})}function g2(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,..._e(t)})}function y2(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,..._e(t)})}function v2(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,..._e(t)})}function w2(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,..._e(t)})}function b2(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,..._e(t)})}function x2(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,..._e(t)})}function _2(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,..._e(t)})}function k2(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,..._e(t)})}function S2(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,..._e(t)})}function E2(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,..._e(t)})}function C2(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,..._e(t)})}function T2(e,t){return new e({type:"string",format:"date",check:"string_format",..._e(t)})}function j2(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,..._e(t)})}function N2(e,t){return new e({type:"string",format:"duration",check:"string_format",..._e(t)})}function P2(e,t){return new e({type:"number",coerce:!0,checks:[],..._e(t)})}function O2(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",..._e(t)})}function A2(e,t){return new e({type:"boolean",..._e(t)})}function R2(e){return new e({type:"unknown"})}function I2(e,t){return new e({type:"never",..._e(t)})}function Pg(e,t){return new $v({check:"less_than",..._e(t),value:e,inclusive:!1})}function Jc(e,t){return new $v({check:"less_than",..._e(t),value:e,inclusive:!0})}function Og(e,t){return new Dv({check:"greater_than",..._e(t),value:e,inclusive:!1})}function Qc(e,t){return new Dv({check:"greater_than",..._e(t),value:e,inclusive:!0})}function Ag(e,t){return new GE({check:"multiple_of",..._e(t),value:e})}function qv(e,t){return new QE({check:"max_length",..._e(t),maximum:e})}function Tl(e,t){return new YE({check:"min_length",..._e(t),minimum:e})}function Hv(e,t){return new XE({check:"length_equals",..._e(t),length:e})}function z2(e,t){return new eC({check:"string_format",format:"regex",..._e(t),pattern:e})}function L2(e){return new tC({check:"string_format",format:"lowercase",..._e(e)})}function $2(e){return new nC({check:"string_format",format:"uppercase",..._e(e)})}function D2(e,t){return new rC({check:"string_format",format:"includes",..._e(t),includes:e})}function U2(e,t){return new iC({check:"string_format",format:"starts_with",..._e(t),prefix:e})}function M2(e,t){return new sC({check:"string_format",format:"ends_with",..._e(t),suffix:e})}function Es(e){return new oC({check:"overwrite",tx:e})}function F2(e){return Es(t=>t.normalize(e))}function B2(){return Es(e=>e.trim())}function V2(){return Es(e=>e.toLowerCase())}function q2(){return Es(e=>e.toUpperCase())}function H2(){return Es(e=>YS(e))}function W2(e,t,n){return new e({type:"array",element:t,..._e(n)})}function Z2(e,t,n){return new e({type:"custom",check:"custom",fn:t,..._e(n)})}function K2(e){const t=G2(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Mo(r,n.value,t._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(Mo(o))}},e(n.value,n)));return t}function G2(e,t){const n=new on({check:"custom",..._e(t)});return n._zod.check=e,n}function Wv(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??ko,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function St(e,t,n={path:[],schemaPath:[]}){var r;const o=e._zod.def,a=t.seen.get(e);if(a)return a.count++,n.schemaPath.includes(e)&&(a.cycle=n.path),a.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,l);const c=e._zod.toJSONSchema?.();if(c)l.schema=c;else{const m={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,m);else{const b=l.schema,v=t.processors[o.type];if(!v)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);v(e,t,b,m)}const g=e._zod.parent;g&&(l.ref||(l.ref=g),St(g,t,m),t.seen.get(g).isParent=!0)}const h=t.metadataRegistry.get(e);return h&&Object.assign(l.schema,h),t.io==="input"&&Wt(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((r=l.schema).default??(r.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function Zv(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const l of e.seen.entries()){const c=e.metadataRegistry.get(l[0])?.id;if(c){const h=r.get(c);if(h&&h!==l[0])throw new Error(`Duplicate schema id "${c}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(c,l[0])}}const o=l=>{const c=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const g=e.external.registry.get(l[0])?.id,b=e.external.uri??(k=>k);if(g)return{ref:b(g)};const v=l[1].defId??l[1].schema.id??`schema${e.counter++}`;return l[1].defId=v,{defId:v,ref:`${b("__shared")}#/${c}/${v}`}}if(l[1]===n)return{ref:"#"};const f=`#/${c}/`,m=l[1].schema.id??`__schema${e.counter++}`;return{defId:m,ref:f+m}},a=l=>{if(l[1].schema.$ref)return;const c=l[1],{ref:h,defId:f}=o(l);c.def={...c.schema},f&&(c.defId=f);const m=c.schema;for(const g in m)delete m[g];m.$ref=h};if(e.cycles==="throw")for(const l of e.seen.entries()){const c=l[1];if(c.cycle)throw new Error(`Cycle detected: #/${c.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const l of e.seen.entries()){const c=l[1];if(t===l[0]){a(l);continue}if(e.external){const f=e.external.registry.get(l[0])?.id;if(t!==l[0]&&f){a(l);continue}}if(e.metadataRegistry.get(l[0])?.id){a(l);continue}if(c.cycle){a(l);continue}if(c.count>1&&e.reused==="ref"){a(l);continue}}}function Kv(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=l=>{const c=e.seen.get(l);if(c.ref===null)return;const h=c.def??c.schema,f={...h},m=c.ref;if(c.ref=null,m){r(m);const b=e.seen.get(m),v=b.schema;if(v.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(h.allOf=h.allOf??[],h.allOf.push(v)):Object.assign(h,v),Object.assign(h,f),l._zod.parent===m)for(const _ in h)_==="$ref"||_==="allOf"||_ in f||delete h[_];if(v.$ref&&b.def)for(const _ in h)_==="$ref"||_==="allOf"||_ in b.def&&JSON.stringify(h[_])===JSON.stringify(b.def[_])&&delete h[_]}const g=l._zod.parent;if(g&&g!==m){r(g);const b=e.seen.get(g);if(b?.schema.$ref&&(h.$ref=b.schema.$ref,b.def))for(const v in h)v==="$ref"||v==="allOf"||v in b.def&&JSON.stringify(h[v])===JSON.stringify(b.def[v])&&delete h[v]}e.override({zodSchema:l,jsonSchema:h,path:c.path??[]})};for(const l of[...e.seen.entries()].reverse())r(l[0]);const o={};if(e.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const l=e.external.registry.get(t)?.id;if(!l)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(l)}Object.assign(o,n.def??n.schema);const a=e.external?.defs??{};for(const l of e.seen.entries()){const c=l[1];c.def&&c.defId&&(a[c.defId]=c.def)}e.external||Object.keys(a).length>0&&(e.target==="draft-2020-12"?o.$defs=a:o.definitions=a);try{const l=JSON.parse(JSON.stringify(o));return Object.defineProperty(l,"~standard",{value:{...t["~standard"],jsonSchema:{input:jl(t,"input",e.processors),output:jl(t,"output",e.processors)}},enumerable:!1,writable:!1}),l}catch{throw new Error("Error converting schema to JSON.")}}function Wt(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Wt(r.element,n);if(r.type==="set")return Wt(r.valueType,n);if(r.type==="lazy")return Wt(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Wt(r.innerType,n);if(r.type==="intersection")return Wt(r.left,n)||Wt(r.right,n);if(r.type==="record"||r.type==="map")return Wt(r.keyType,n)||Wt(r.valueType,n);if(r.type==="pipe")return Wt(r.in,n)||Wt(r.out,n);if(r.type==="object"){for(const o in r.shape)if(Wt(r.shape[o],n))return!0;return!1}if(r.type==="union"){for(const o of r.options)if(Wt(o,n))return!0;return!1}if(r.type==="tuple"){for(const o of r.items)if(Wt(o,n))return!0;return!!(r.rest&&Wt(r.rest,n))}return!1}const J2=(e,t={})=>n=>{const r=Wv({...n,processors:t});return St(e,r),Zv(r,e),Kv(r,e)},jl=(e,t,n={})=>r=>{const{libraryOptions:o,target:a}=r??{},l=Wv({...o??{},target:a,io:t,processors:n});return St(e,l),Zv(l,e),Kv(l,e)},Q2={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Y2=(e,t,n,r)=>{const o=n;o.type="string";const{minimum:a,maximum:l,format:c,patterns:h,contentEncoding:f}=e._zod.bag;if(typeof a=="number"&&(o.minLength=a),typeof l=="number"&&(o.maxLength=l),c&&(o.format=Q2[c]??c,o.format===""&&delete o.format,c==="time"&&delete o.format),f&&(o.contentEncoding=f),h&&h.size>0){const m=[...h];m.length===1?o.pattern=m[0].source:m.length>1&&(o.allOf=[...m.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},X2=(e,t,n,r)=>{const o=n,{minimum:a,maximum:l,format:c,multipleOf:h,exclusiveMaximum:f,exclusiveMinimum:m}=e._zod.bag;typeof c=="string"&&c.includes("int")?o.type="integer":o.type="number",typeof m=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.minimum=m,o.exclusiveMinimum=!0):o.exclusiveMinimum=m),typeof a=="number"&&(o.minimum=a,typeof m=="number"&&t.target!=="draft-04"&&(m>=a?delete o.minimum:delete o.exclusiveMinimum)),typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.maximum=f,o.exclusiveMaximum=!0):o.exclusiveMaximum=f),typeof l=="number"&&(o.maximum=l,typeof f=="number"&&t.target!=="draft-04"&&(f<=l?delete o.maximum:delete o.exclusiveMaximum)),typeof h=="number"&&(o.multipleOf=h)},eT=(e,t,n,r)=>{n.type="boolean"},tT=(e,t,n,r)=>{n.not={}},nT=(e,t,n,r)=>{},rT=(e,t,n,r)=>{const o=e._zod.def,a=jv(o.entries);a.every(l=>typeof l=="number")&&(n.type="number"),a.every(l=>typeof l=="string")&&(n.type="string"),n.enum=a},iT=(e,t,n,r)=>{const o=e._zod.def,a=[];for(const l of o.values)if(l===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof l=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");a.push(Number(l))}else a.push(l);if(a.length!==0)if(a.length===1){const l=a[0];n.type=l===null?"null":typeof l,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[l]:n.const=l}else a.every(l=>typeof l=="number")&&(n.type="number"),a.every(l=>typeof l=="string")&&(n.type="string"),a.every(l=>typeof l=="boolean")&&(n.type="boolean"),a.every(l=>l===null)&&(n.type="null"),n.enum=a},sT=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},oT=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},aT=(e,t,n,r)=>{const o=n,a=e._zod.def,{minimum:l,maximum:c}=e._zod.bag;typeof l=="number"&&(o.minItems=l),typeof c=="number"&&(o.maxItems=c),o.type="array",o.items=St(a.element,t,{...r,path:[...r.path,"items"]})},lT=(e,t,n,r)=>{const o=n,a=e._zod.def;o.type="object",o.properties={};const l=a.shape;for(const f in l)o.properties[f]=St(l[f],t,{...r,path:[...r.path,"properties",f]});const c=new Set(Object.keys(l)),h=new Set([...c].filter(f=>{const m=a.shape[f]._zod;return t.io==="input"?m.optin===void 0:m.optout===void 0}));h.size>0&&(o.required=Array.from(h)),a.catchall?._zod.def.type==="never"?o.additionalProperties=!1:a.catchall?a.catchall&&(o.additionalProperties=St(a.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(o.additionalProperties=!1)},uT=(e,t,n,r)=>{const o=e._zod.def,a=o.inclusive===!1,l=o.options.map((c,h)=>St(c,t,{...r,path:[...r.path,a?"oneOf":"anyOf",h]}));a?n.oneOf=l:n.anyOf=l},cT=(e,t,n,r)=>{const o=e._zod.def,a=St(o.left,t,{...r,path:[...r.path,"allOf",0]}),l=St(o.right,t,{...r,path:[...r.path,"allOf",1]}),c=f=>"allOf"in f&&Object.keys(f).length===1,h=[...c(a)?a.allOf:[a],...c(l)?l.allOf:[l]];n.allOf=h},dT=(e,t,n,r)=>{const o=n,a=e._zod.def;o.type="object";const l=a.keyType,h=l._zod.bag?.patterns;if(a.mode==="loose"&&h&&h.size>0){const m=St(a.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});o.patternProperties={};for(const g of h)o.patternProperties[g.source]=m}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(o.propertyNames=St(a.keyType,t,{...r,path:[...r.path,"propertyNames"]})),o.additionalProperties=St(a.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const f=l._zod.values;if(f){const m=[...f].filter(g=>typeof g=="string"||typeof g=="number");m.length>0&&(o.required=m)}},hT=(e,t,n,r)=>{const o=e._zod.def,a=St(o.innerType,t,r),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=o.innerType,n.nullable=!0):n.anyOf=[a,{type:"null"}]},fT=(e,t,n,r)=>{const o=e._zod.def;St(o.innerType,t,r);const a=t.seen.get(e);a.ref=o.innerType},pT=(e,t,n,r)=>{const o=e._zod.def;St(o.innerType,t,r);const a=t.seen.get(e);a.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))},mT=(e,t,n,r)=>{const o=e._zod.def;St(o.innerType,t,r);const a=t.seen.get(e);a.ref=o.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},gT=(e,t,n,r)=>{const o=e._zod.def;St(o.innerType,t,r);const a=t.seen.get(e);a.ref=o.innerType;let l;try{l=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},yT=(e,t,n,r)=>{const o=e._zod.def,a=t.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;St(a,t,r);const l=t.seen.get(e);l.ref=a},vT=(e,t,n,r)=>{const o=e._zod.def;St(o.innerType,t,r);const a=t.seen.get(e);a.ref=o.innerType,n.readOnly=!0},Gv=(e,t,n,r)=>{const o=e._zod.def;St(o.innerType,t,r);const a=t.seen.get(e);a.ref=o.innerType};function Rg(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function wT(e,t){for(var n={};e.length;){var r=e[0],o=r.code,a=r.message,l=r.path.join(".");if(!n[l])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];n[l]={message:c.message,type:c.code}}else n[l]={message:a,type:o};if("unionErrors"in r&&r.unionErrors.forEach(function(m){return m.errors.forEach(function(g){return e.push(g)})}),t){var h=n[l].types,f=h&&h[r.code];n[l]=nh(l,t,n,o,f?[].concat(f,r.message):r.message)}e.shift()}return n}function bT(e,t){for(var n={};e.length;){var r=e[0],o=r.code,a=r.message,l=r.path.join(".");if(!n[l])if(r.code==="invalid_union"&&r.errors.length>0){var c=r.errors[0][0];n[l]={message:c.message,type:c.code}}else n[l]={message:a,type:o};if(r.code==="invalid_union"&&r.errors.forEach(function(m){return m.forEach(function(g){return e.push(g)})}),t){var h=n[l].types,f=h&&h[r.code];n[l]=nh(l,t,n,o,f?[].concat(f,r.message):r.message)}e.shift()}return n}function xT(e,t,n){if(n===void 0&&(n={}),(function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def})(e))return function(r,o,a){try{return Promise.resolve(Rg(function(){return Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(l){return a.shouldUseNativeValidation&&jd({},a),{errors:{},values:n.raw?Object.assign({},r):l}})},function(l){if((function(c){return Array.isArray(c?.issues)})(l))return{values:{},errors:mg(wT(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}};if((function(r){return"_zod"in r&&typeof r._zod=="object"})(e))return function(r,o,a){try{return Promise.resolve(Rg(function(){return Promise.resolve((n.mode==="sync"?hE:fE)(e,r,t)).then(function(l){return a.shouldUseNativeValidation&&jd({},a),{errors:{},values:n.raw?Object.assign({},r):l}})},function(l){if((function(c){return c instanceof uh})(l))return{values:{},errors:mg(bT(l.issues,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}const _T=H("ZodISODateTime",(e,t)=>{bC.init(e,t),ht.init(e,t)});function kT(e){return C2(_T,e)}const ST=H("ZodISODate",(e,t)=>{xC.init(e,t),ht.init(e,t)});function ET(e){return T2(ST,e)}const CT=H("ZodISOTime",(e,t)=>{_C.init(e,t),ht.init(e,t)});function TT(e){return j2(CT,e)}const jT=H("ZodISODuration",(e,t)=>{kC.init(e,t),ht.init(e,t)});function NT(e){return N2(jT,e)}const PT=(e,t)=>{uh.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>dE(e,n)},flatten:{value:n=>cE(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Nd,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Nd,2)}},isEmpty:{get(){return e.issues.length===0}}})},Tn=H("ZodError",PT,{Parent:Error}),OT=Bl(Tn),AT=Vl(Tn),RT=ql(Tn),IT=Hl(Tn),zT=gE(Tn),LT=yE(Tn),$T=vE(Tn),DT=wE(Tn),UT=bE(Tn),MT=xE(Tn),FT=_E(Tn),BT=kE(Tn),dt=H("ZodType",(e,t)=>(ct.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:jl(e,"input"),output:jl(e,"output")}}),e.toJSONSchema=J2(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Wr(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>Zr(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>OT(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>RT(e,n,r),e.parseAsync=async(n,r)=>AT(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>IT(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>zT(e,n,r),e.decode=(n,r)=>LT(e,n,r),e.encodeAsync=async(n,r)=>$T(e,n,r),e.decodeAsync=async(n,r)=>DT(e,n,r),e.safeEncode=(n,r)=>UT(e,n,r),e.safeDecode=(n,r)=>MT(e,n,r),e.safeEncodeAsync=async(n,r)=>FT(e,n,r),e.safeDecodeAsync=async(n,r)=>BT(e,n,r),e.refine=(n,r)=>e.check(Dj(n,r)),e.superRefine=n=>e.check(Uj(n)),e.overwrite=n=>e.check(Es(n)),e.optional=()=>$g(e),e.exactOptional=()=>Ej(e),e.nullable=()=>Dg(e),e.nullish=()=>$g(Dg(e)),e.nonoptional=n=>Oj(e,n),e.array=()=>us(e),e.or=n=>gj([e,n]),e.and=n=>vj(e,n),e.transform=n=>Ug(e,kj(n)),e.default=n=>jj(e,n),e.prefault=n=>Pj(e,n),e.catch=n=>Rj(e,n),e.pipe=n=>Ug(e,n),e.readonly=()=>Lj(e),e.describe=n=>{const r=e.clone();return ko.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return ko.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return ko.get(e);const r=e.clone();return ko.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),Jv=H("_ZodString",(e,t)=>{ch.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(r,o,a)=>Y2(e,r,o);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(z2(...r)),e.includes=(...r)=>e.check(D2(...r)),e.startsWith=(...r)=>e.check(U2(...r)),e.endsWith=(...r)=>e.check(M2(...r)),e.min=(...r)=>e.check(Tl(...r)),e.max=(...r)=>e.check(qv(...r)),e.length=(...r)=>e.check(Hv(...r)),e.nonempty=(...r)=>e.check(Tl(1,...r)),e.lowercase=r=>e.check(L2(r)),e.uppercase=r=>e.check($2(r)),e.trim=()=>e.check(B2()),e.normalize=(...r)=>e.check(F2(...r)),e.toLowerCase=()=>e.check(V2()),e.toUpperCase=()=>e.check(q2()),e.slugify=()=>e.check(H2())}),VT=H("ZodString",(e,t)=>{ch.init(e,t),Jv.init(e,t),e.email=n=>e.check(s2(qT,n)),e.url=n=>e.check(c2(HT,n)),e.jwt=n=>e.check(E2(oj,n)),e.emoji=n=>e.check(d2(WT,n)),e.guid=n=>e.check(Ng(Ig,n)),e.uuid=n=>e.check(o2(ml,n)),e.uuidv4=n=>e.check(a2(ml,n)),e.uuidv6=n=>e.check(l2(ml,n)),e.uuidv7=n=>e.check(u2(ml,n)),e.nanoid=n=>e.check(h2(ZT,n)),e.guid=n=>e.check(Ng(Ig,n)),e.cuid=n=>e.check(f2(KT,n)),e.cuid2=n=>e.check(p2(GT,n)),e.ulid=n=>e.check(m2(JT,n)),e.base64=n=>e.check(_2(rj,n)),e.base64url=n=>e.check(k2(ij,n)),e.xid=n=>e.check(g2(QT,n)),e.ksuid=n=>e.check(y2(YT,n)),e.ipv4=n=>e.check(v2(XT,n)),e.ipv6=n=>e.check(w2(ej,n)),e.cidrv4=n=>e.check(b2(tj,n)),e.cidrv6=n=>e.check(x2(nj,n)),e.e164=n=>e.check(S2(sj,n)),e.datetime=n=>e.check(kT(n)),e.date=n=>e.check(ET(n)),e.time=n=>e.check(TT(n)),e.duration=n=>e.check(NT(n))});function Be(e){return i2(VT,e)}const ht=H("ZodStringFormat",(e,t)=>{ot.init(e,t),Jv.init(e,t)}),qT=H("ZodEmail",(e,t)=>{dC.init(e,t),ht.init(e,t)}),Ig=H("ZodGUID",(e,t)=>{uC.init(e,t),ht.init(e,t)}),ml=H("ZodUUID",(e,t)=>{cC.init(e,t),ht.init(e,t)}),HT=H("ZodURL",(e,t)=>{hC.init(e,t),ht.init(e,t)}),WT=H("ZodEmoji",(e,t)=>{fC.init(e,t),ht.init(e,t)}),ZT=H("ZodNanoID",(e,t)=>{pC.init(e,t),ht.init(e,t)}),KT=H("ZodCUID",(e,t)=>{mC.init(e,t),ht.init(e,t)}),GT=H("ZodCUID2",(e,t)=>{gC.init(e,t),ht.init(e,t)}),JT=H("ZodULID",(e,t)=>{yC.init(e,t),ht.init(e,t)}),QT=H("ZodXID",(e,t)=>{vC.init(e,t),ht.init(e,t)}),YT=H("ZodKSUID",(e,t)=>{wC.init(e,t),ht.init(e,t)}),XT=H("ZodIPv4",(e,t)=>{SC.init(e,t),ht.init(e,t)}),ej=H("ZodIPv6",(e,t)=>{EC.init(e,t),ht.init(e,t)}),tj=H("ZodCIDRv4",(e,t)=>{CC.init(e,t),ht.init(e,t)}),nj=H("ZodCIDRv6",(e,t)=>{TC.init(e,t),ht.init(e,t)}),rj=H("ZodBase64",(e,t)=>{jC.init(e,t),ht.init(e,t)}),ij=H("ZodBase64URL",(e,t)=>{PC.init(e,t),ht.init(e,t)}),sj=H("ZodE164",(e,t)=>{OC.init(e,t),ht.init(e,t)}),oj=H("ZodJWT",(e,t)=>{RC.init(e,t),ht.init(e,t)}),Qv=H("ZodNumber",(e,t)=>{Mv.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(r,o,a)=>X2(e,r,o),e.gt=(r,o)=>e.check(Og(r,o)),e.gte=(r,o)=>e.check(Qc(r,o)),e.min=(r,o)=>e.check(Qc(r,o)),e.lt=(r,o)=>e.check(Pg(r,o)),e.lte=(r,o)=>e.check(Jc(r,o)),e.max=(r,o)=>e.check(Jc(r,o)),e.int=r=>e.check(zg(r)),e.safe=r=>e.check(zg(r)),e.positive=r=>e.check(Og(0,r)),e.nonnegative=r=>e.check(Qc(0,r)),e.negative=r=>e.check(Pg(0,r)),e.nonpositive=r=>e.check(Jc(0,r)),e.multipleOf=(r,o)=>e.check(Ag(r,o)),e.step=(r,o)=>e.check(Ag(r,o)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null}),aj=H("ZodNumberFormat",(e,t)=>{IC.init(e,t),Qv.init(e,t)});function zg(e){return O2(aj,e)}const lj=H("ZodBoolean",(e,t)=>{zC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>eT(e,n,r)});function uj(e){return A2(lj,e)}const cj=H("ZodUnknown",(e,t)=>{LC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>nT()});function Lg(){return R2(cj)}const dj=H("ZodNever",(e,t)=>{$C.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>tT(e,n,r)});function hj(e){return I2(dj,e)}const fj=H("ZodArray",(e,t)=>{DC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>aT(e,n,r,o),e.element=t.element,e.min=(n,r)=>e.check(Tl(n,r)),e.nonempty=n=>e.check(Tl(1,n)),e.max=(n,r)=>e.check(qv(n,r)),e.length=(n,r)=>e.check(Hv(n,r)),e.unwrap=()=>e.element});function us(e,t){return W2(fj,e,t)}const pj=H("ZodObject",(e,t)=>{MC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>lT(e,n,r,o),We(e,"shape",()=>t.shape),e.keyof=()=>Ad(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Lg()}),e.loose=()=>e.clone({...e._zod.def,catchall:Lg()}),e.strict=()=>e.clone({...e._zod.def,catchall:hj()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>sE(e,n),e.safeExtend=n=>oE(e,n),e.merge=n=>aE(e,n),e.pick=n=>rE(e,n),e.omit=n=>iE(e,n),e.partial=(...n)=>lE(Yv,e,n[0]),e.required=(...n)=>uE(Xv,e,n[0])});function Kn(e,t){const n={type:"object",shape:e??{},..._e(t)};return new pj(n)}const mj=H("ZodUnion",(e,t)=>{FC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>uT(e,n,r,o),e.options=t.options});function gj(e,t){return new mj({type:"union",options:e,..._e(t)})}const yj=H("ZodIntersection",(e,t)=>{BC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>cT(e,n,r,o)});function vj(e,t){return new yj({type:"intersection",left:e,right:t})}const wj=H("ZodRecord",(e,t)=>{VC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>dT(e,n,r,o),e.keyType=t.keyType,e.valueType=t.valueType});function bj(e,t,n){return new wj({type:"record",keyType:e,valueType:t,..._e(n)})}const Od=H("ZodEnum",(e,t)=>{qC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(r,o,a)=>rT(e,r,o),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,o)=>{const a={};for(const l of r)if(n.has(l))a[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Od({...t,checks:[],..._e(o),entries:a})},e.exclude=(r,o)=>{const a={...t.entries};for(const l of r)if(n.has(l))delete a[l];else throw new Error(`Key ${l} not found in enum`);return new Od({...t,checks:[],..._e(o),entries:a})}});function Ad(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Od({type:"enum",entries:n,..._e(t)})}const xj=H("ZodLiteral",(e,t)=>{HC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>iT(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function go(e,t){return new xj({type:"literal",values:Array.isArray(e)?e:[e],..._e(t)})}const _j=H("ZodTransform",(e,t)=>{WC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>oT(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Cv(e.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(Mo(a,n.value,t));else{const l=a;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=e),n.issues.push(Mo(l))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(a=>(n.value=a,n)):(n.value=o,n)}});function kj(e){return new _j({type:"transform",transform:e})}const Yv=H("ZodOptional",(e,t)=>{Vv.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Gv(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function $g(e){return new Yv({type:"optional",innerType:e})}const Sj=H("ZodExactOptional",(e,t)=>{ZC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Gv(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Ej(e){return new Sj({type:"optional",innerType:e})}const Cj=H("ZodNullable",(e,t)=>{KC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>hT(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Dg(e){return new Cj({type:"nullable",innerType:e})}const Tj=H("ZodDefault",(e,t)=>{GC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>pT(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function jj(e,t){return new Tj({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Pv(t)}})}const Nj=H("ZodPrefault",(e,t)=>{JC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>mT(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Pj(e,t){return new Nj({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Pv(t)}})}const Xv=H("ZodNonOptional",(e,t)=>{QC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>fT(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Oj(e,t){return new Xv({type:"nonoptional",innerType:e,..._e(t)})}const Aj=H("ZodCatch",(e,t)=>{YC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>gT(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Rj(e,t){return new Aj({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Ij=H("ZodPipe",(e,t)=>{XC.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>yT(e,n,r,o),e.in=t.in,e.out=t.out});function Ug(e,t){return new Ij({type:"pipe",in:e,out:t})}const zj=H("ZodReadonly",(e,t)=>{e2.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>vT(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Lj(e){return new zj({type:"readonly",innerType:e})}const $j=H("ZodCustom",(e,t)=>{t2.init(e,t),dt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>sT(e,n)});function Dj(e,t={}){return Z2($j,e,t)}function Uj(e){return K2(e)}function yo(e){return P2(Qv,e)}const Mj="Trng ny l bt buc",Fj="Phi l s hp l",Mg=Kn({name:Be().min(1,"Tn thuc khng c trng"),dose:Be().optional(),route:Be().optional()}),Bj=Kn({name:Be(),url:Be().url(),type:Be().optional()}),Vj=Kn({demo:Kn({name:Be().min(2,"Tn qu ngn").transform(e=>e.toUpperCase()),age:yo({invalid_type_error:Fj}).min(0,"Tui khng c m").max(130,"Tui khng hp l (>130)"),gender:Ad(["male","female"],{errorMap:()=>({message:"Vui lng chn gii tnh"})}),room:Be().optional(),bed:Be().optional(),occupation:Be().optional()}),history:Kn({chiefComplaint:Be().min(3,Mj),hpi:Be().optional(),pmh:Be().optional(),allergy:Kn({hasAllergy:uj().default(!1),detail:Be().optional()}).refine(e=>!e.hasAllergy||e.hasAllergy&&e.detail?.length>0,{message:"Vui lng nhp tn d nguyn",path:["detail"]})}),exam:Kn({vitals:Kn({pulse:yo().min(0).max(300).or(go("")).optional(),bp:Be().regex(/^\d{2,3}\/\d{2,3}$/,"nh dng sai (VD: 120/80)").or(go("")).optional(),rr:yo().min(0).max(100).or(go("")).optional(),spo2:yo().min(0).max(100,"SpO2 ti a 100%").or(go("")).optional(),temp:yo().min(30).max(45,"Nhit  khng hp l").or(go("")).optional()}),general:Be().optional(),heent:Be().optional(),cvs:Be().optional(),resp:Be().optional(),gi:Be().optional(),msk:Be().optional(),neuro:Be().optional(),gu:Be().optional()}),diagnosis:Kn({preliminary:Be().optional(),differential:Be().optional(),summary:Be().optional(),final:Be().min(1,"Chn on xc nh l bt buc"),icd10:Be().min(1,"Cn chn m ICD-10")}),files:bj(us(Bj)).optional(),plan:Kn({status:Ad(["admitted","outpatient"]),goals:us(Be()).optional(),treatmentMeds:us(Mg).optional(),surgery:Be().optional(),nonPharm:Be().optional(),notes:Be().optional()}),medications:us(Mg).optional(),symptoms:us(Be()).optional()}),qj=({children:e,className:t,title:n,icon:r,action:o,accentColor:a="blue"})=>{const l={blue:"border-t-blue-500",green:"border-t-green-500",orange:"border-t-orange-500",purple:"border-t-purple-500",red:"border-t-red-500"},c={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",orange:"bg-orange-100 text-orange-600",purple:"bg-purple-100 text-purple-600",red:"bg-red-100 text-red-600"};return w.jsxs("div",{className:mt("bg-white rounded-2xl shadow-sm border border-slate-200 transition-shadow duration-300 border-t-4",l[a]||"border-t-blue-500",t),children:[(n||o)&&w.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50/50 flex items-center justify-between rounded-t-2xl",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[r&&w.jsx("div",{className:mt("w-8 h-8 rounded-lg flex items-center justify-center shadow-sm",c[a]||"bg-blue-100 text-blue-600"),children:w.jsx(r,{size:16})}),w.jsx("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-wide",children:n})]}),o]}),w.jsx("div",{className:"p-6",children:e})]})},wi=st.memo(qj),Yn=({label:e,required:t,className:n})=>e?w.jsxs("label",{className:mt("text-[12px] font-bold text-gray-600 uppercase tracking-wide mb-2 block pl-1",n),children:[e," ",t&&w.jsx("span",{className:"text-red-500",children:"*"})]}):null,Bn=st.forwardRef(({label:e,placeholder:t,type:n="text",className:r,icon:o,required:a,error:l,...c},h)=>w.jsxs("div",{className:mt("space-y-1.5 w-full",r),children:[e&&w.jsx(Yn,{label:e,required:a}),w.jsxs("div",{className:"relative group",children:[w.jsx("input",{ref:h,type:n,className:mt("w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3.5 text-slate-900 font-semibold transition-all outline-none","placeholder:text-slate-400 placeholder:font-normal","hover:bg-white hover:border-slate-300","focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10",l&&"border-red-300 bg-red-50 text-red-900 placeholder:text-red-300 focus:border-red-500 focus:ring-red-200"),placeholder:t,...c}),o&&w.jsx("div",{className:"absolute right-4 top-3.5 text-slate-400 pointer-events-none group-focus-within:text-blue-500 transition-colors",children:w.jsx(o,{size:20})})]}),l&&w.jsxs("p",{className:"text-red-600 text-[11px] font-bold mt-1 flex items-center gap-1 animate-in slide-in-from-top-1",children:[" ",l.message]})]}));Bn.displayName="Input";const dh=({options:e,selected:t,onChange:n,labels:r})=>w.jsx("div",{className:"flex gap-2 flex-wrap",children:e.map((o,a)=>{const l=t===o;return w.jsxs("button",{type:"button",onClick:()=>n(o),className:mt("flex items-center gap-2 px-5 py-2.5 rounded-lg border font-bold text-sm transition-all shadow-sm",l?"bg-blue-600 border-blue-600 text-white":"bg-white border-gray-300 text-gray-600 hover:bg-gray-50"),children:[l&&w.jsx(Kd,{size:16}),w.jsx("span",{children:r?r[a]:o})]},a)})}),Hj=()=>{const{t:e}=sn(),{register:t,setValue:n,watch:r,formState:{errors:o}}=Ko();return w.jsx("div",{id:"sec-demo",className:"scroll-mt-24",children:w.jsxs(wi,{title:e.demo,icon:Dl,children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[w.jsx("div",{className:"md:col-span-8",children:w.jsx(Bn,{label:e.name,placeholder:e.ph_name,...t("demo.name"),onChange:a=>n("demo.name",a.target.value.toUpperCase()),error:o.demo?.name,required:!0})}),w.jsx("div",{className:"md:col-span-2",children:w.jsx(Bn,{label:e.age,type:"number",...t("demo.age"),error:o.demo?.age,required:!0})}),w.jsxs("div",{className:"md:col-span-2",children:[w.jsx(Yn,{label:e.gender,required:!0}),w.jsx(dh,{options:["male","female"],labels:[e.male,e.female],selected:r("demo.gender"),onChange:a=>n("demo.gender",a,{shouldValidate:!0})}),o.demo?.gender&&w.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.demo.gender.message})]})]}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-4",children:[w.jsx(Bn,{label:e.room,placeholder:"P.101",...t("demo.room")}),w.jsx(Bn,{label:e.bed,placeholder:"G.01",...t("demo.bed")}),w.jsx("div",{className:"col-span-2",children:w.jsx(Bn,{label:e.occupation,...t("demo.occupation")})})]})]})})},Br=st.forwardRef(({label:e,placeholder:t,rows:n=3,mic:r=!1,className:o,error:a,onMicClick:l,...c},h)=>w.jsxs("div",{className:mt("space-y-1 relative w-full mb-4",o),children:[e&&w.jsx(Yn,{label:e}),w.jsxs("div",{className:"relative group",children:[w.jsx("textarea",{ref:h,rows:n,className:mt("w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900 placeholder-gray-400 font-medium transition-all outline-none resize-none leading-relaxed","focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10",a&&"border-red-500 bg-red-50/10"),placeholder:t,...c}),r&&w.jsx("button",{type:"button",onClick:l,className:"absolute right-3 top-3 p-2 text-gray-400 hover:text-blue-600 hover:bg-gray-100 rounded-full transition-all",title:"Nhp bng ging ni",children:w.jsx(z1,{size:16})})]}),a&&w.jsx("p",{className:"text-red-500 text-xs mt-1 font-medium",children:a.message})]}));Br.displayName="TextArea";const e0=({items:e=[],onChange:t,type:n="med"})=>{const{t:r}=sn(),[o,a]=Z.useState({name:"",route:"",dose:"",freq:""}),[l,c]=Z.useState(null),h=()=>{if(!o.name.trim()){c(n==="med"?"Vui lng nhp tn thuc!":"Vui lng nhp ni dung!");return}t([...e,o]),a({name:"",route:"",dose:"",freq:""}),c(null)},f=b=>{t(e.filter((v,k)=>k!==b))},m=b=>{b.key==="Enter"&&(b.preventDefault(),h())},g=n==="med"?{labels:[r.med_name||"Tn thuc & Hm lng",r.med_dose||"Liu lng",r.med_route||"ng dng"],placeholders:[r.ph_med_name||"VD: Panadol 500mg...",r.ph_med_dose||"VD: 1 vin - 0 - 1 vin",r.ph_med_route||"VD: Ung sau n"],btnText:r.add_med||"Thm thuc"}:{labels:[r.mon_name||"Mc tiu",r.mon_freq||"Tn sut",""],placeholders:[r.ph_mon_name||"VD: SpO2 > 96%",r.ph_mon_freq||"VD: Mi 4 gi",""],btnText:r.add_mon||"Thm mc tiu"};return w.jsxs("div",{className:"space-y-4",children:[e.length>0&&w.jsx("div",{className:"grid gap-2",children:e.map((b,v)=>w.jsxs("div",{className:"group flex items-start gap-3 bg-white p-3 rounded-xl border border-slate-200 shadow-sm hover:border-blue-300 transition-all animate-in slide-in-from-bottom-2",children:[w.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center font-bold text-xs mt-0.5 shrink-0 border border-blue-100",children:v+1}),w.jsxs("div",{className:"flex-1 grid grid-cols-12 gap-2 text-sm",children:[w.jsx("div",{className:"col-span-12 md:col-span-5 font-bold text-slate-800 break-words",children:b.name}),w.jsx("div",{className:"col-span-6 md:col-span-4 text-slate-600 font-medium bg-slate-50 px-2 rounded w-fit border border-slate-100",children:n==="med"?b.dose||"---":b.freq||"---"}),n==="med"&&w.jsx("div",{className:"col-span-6 md:col-span-3 text-slate-500 italic",children:b.route})]}),w.jsx("button",{type:"button",onClick:()=>f(v),className:"text-slate-300 hover:text-red-500 hover:bg-red-50 p-1 rounded-lg transition-colors",title:"Xa dng ny",children:w.jsx(cv,{size:16})})]},v))}),w.jsxs("div",{className:mt("bg-slate-50 p-4 rounded-xl border border-dashed border-slate-300 transition-all focus-within:border-blue-400 focus-within:ring-4 focus-within:ring-blue-50 focus-within:bg-blue-50/30",l?"border-red-300 bg-red-50/30":""),children:[w.jsxs("div",{className:"grid grid-cols-12 gap-3 items-end",children:[w.jsxs("div",{className:"col-span-12 md:col-span-5",children:[w.jsxs("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 block pl-1",children:[g.labels[0]," ",w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsx("input",{className:"w-full p-2.5 rounded-lg border border-slate-200 text-sm font-semibold text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all placeholder:font-normal placeholder:text-slate-400",placeholder:g.placeholders[0],value:o.name,onChange:b=>{a({...o,name:b.target.value}),l&&c(null)}})]}),w.jsxs("div",{className:"col-span-6 md:col-span-3",children:[w.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 block pl-1",children:g.labels[1]}),w.jsx("input",{className:"w-full p-2.5 rounded-lg border border-slate-200 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all",placeholder:g.placeholders[1],value:n==="med"?o.dose:o.freq,onChange:b=>a(n==="med"?{...o,dose:b.target.value}:{...o,freq:b.target.value})})]}),n==="med"&&w.jsxs("div",{className:"col-span-6 md:col-span-3",children:[w.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 block pl-1",children:g.labels[2]}),w.jsx("input",{className:"w-full p-2.5 rounded-lg border border-slate-200 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all",placeholder:g.placeholders[2],value:o.route,onChange:b=>a({...o,route:b.target.value}),onKeyDown:m})]}),w.jsx("div",{className:mt("col-span-12 md:col-span-1",n!=="med"&&"md:col-span-4"),children:w.jsx("button",{type:"button",onClick:h,className:"w-full h-[42px] bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center justify-center shadow-md shadow-blue-500/20 active:scale-95 transition-all",title:g.btnText,children:w.jsx(uv,{size:20,strokeWidth:3})})})]}),l&&w.jsxs("p",{className:"text-red-500 text-xs font-bold mt-2 flex items-center gap-1 animate-in slide-in-from-top-1",children:[w.jsx(rv,{size:12})," ",l]})]})]})},Wj=()=>{const{t:e}=sn(),{register:t,watch:n,setValue:r,formState:{errors:o}}=Ko(),a=n("history.allergy.hasAllergy");return w.jsx("div",{id:"sec-history",className:"scroll-mt-24",children:w.jsxs(wi,{title:e.history,icon:ov,children:[w.jsx(Br,{label:e.chiefComplaint,placeholder:e.ph_cc,...t("history.chiefComplaint"),error:o.history?.chiefComplaint,required:!0}),w.jsx("div",{className:"bg-blue-50/50 p-4 rounded-xl border border-blue-100 mb-6 mt-4",children:w.jsx(Br,{label:e.hpi,placeholder:e.ph_hpi,rows:5,mic:!0,...t("history.hpi")})}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mt-4",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsx(Br,{label:e.pmh,placeholder:e.ph_pmh,...t("history.pmh")}),w.jsxs("div",{className:mt("p-4 rounded-xl border transition-colors",a?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"),children:[w.jsxs("div",{className:"flex justify-between items-center mb-2",children:[w.jsx(Yn,{label:e.allergy,className:a?"text-red-700":""}),w.jsx(dh,{options:[!0,!1],labels:[e.yes,e.no],selected:a,onChange:l=>r("history.allergy.hasAllergy",l,{shouldValidate:!0})})]}),a&&w.jsx(Bn,{placeholder:e.ph_allergy_detail,...t("history.allergy.detail"),className:"bg-white",error:o.history?.allergy?.detail})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx(Yn,{label:e.meds}),w.jsx(e0,{items:n("medications"),onChange:l=>r("medications",l),t:e,type:"med"})]})]})]})})},Zj=({tags:e=[],onChange:t})=>{const[n,r]=Z.useState(""),o=l=>{if(l.key==="Enter"&&n.trim()){l.preventDefault();const c=n.trim();e.includes(c)||t([...e,c]),r("")}},a=l=>{t(e.filter((c,h)=>h!==l))};return w.jsxs("div",{className:"space-y-2 mb-4",children:[w.jsx(Yn,{label:"Tags Triu chng (G & Enter)"}),w.jsxs("div",{className:"bg-white border border-gray-300 rounded-xl p-2 flex flex-wrap gap-2 focus-within:border-blue-500 focus-within:ring-4 focus-within:ring-blue-500/10 transition-all",children:[e.map((l,c)=>w.jsxs("span",{className:"bg-blue-50 text-blue-700 px-3 py-1.5 rounded-lg text-sm font-bold flex items-center gap-1 border border-blue-100 animate-in zoom-in duration-200",children:[l,w.jsx("button",{type:"button",onClick:()=>a(c),className:"hover:text-red-500 transition-colors",children:w.jsx(Wo,{size:14})})]},c)),w.jsx("input",{className:"flex-1 min-w-[160px] bg-transparent outline-none px-2 py-1.5 text-sm font-medium text-gray-800 placeholder-gray-400",placeholder:"G triu chng (VD: St cao)...",value:n,onChange:l=>r(l.target.value),onKeyDown:o})]})]})},Kj=()=>{const{t:e}=sn(),{register:t,watch:n,setValue:r,formState:{errors:o}}=Ko(),a=[{key:"pulse",label:e.pulse,unit:"ln/p",icon:N1,color:"text-red-500",bg:"bg-red-50"},{key:"bp",label:e.bp,unit:"mmHg",icon:vs,color:"text-blue-500",bg:"bg-blue-50"},{key:"temp",label:e.temp,unit:"C",icon:B1,color:"text-orange-500",bg:"bg-orange-50"},{key:"rr",label:e.rr,unit:"ln/p",icon:q1,color:"text-green-500",bg:"bg-green-50"},{key:"spo2",label:e.spo2,unit:"%",icon:vs,color:"text-cyan-500",bg:"bg-cyan-50"},{key:"weight",label:e.weight,unit:"kg",icon:U1,color:"text-purple-500",bg:"bg-purple-50"}],l=[{key:"general",label:e.general,ph:e.ph_general},{key:"heent",label:e.heent,ph:e.ph_heent},{key:"cvs",label:e.cvs,ph:e.ph_cvs},{key:"resp",label:e.resp,ph:e.ph_resp},{key:"gi",label:e.gi,ph:e.ph_gi},{key:"msk",label:e.msk,ph:e.ph_msk},{key:"neuro",label:e.neuro,ph:e.ph_neuro},{key:"gu",label:e.gu,ph:e.ph_gu}];return w.jsx("div",{id:"sec-exam",className:"scroll-mt-24 space-y-6",children:w.jsxs(wi,{title:e.exam,icon:F1,accentColor:"blue",children:[w.jsx("div",{className:"mb-6",children:w.jsx(Zj,{tags:n("symptoms"),onChange:c=>r("symptoms",c)})}),w.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 mb-8",children:[w.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3",children:e.vitals}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:a.map(c=>w.jsxs("div",{className:"bg-white p-2 rounded-lg border border-slate-100 shadow-sm flex flex-col items-center text-center relative focus-within:ring-2 ring-blue-500/20 transition-all",children:[w.jsx("div",{className:mt("mb-1 p-1.5 rounded-full",c.bg,c.color),children:w.jsx(c.icon,{size:14})}),w.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1",children:c.label}),w.jsxs("div",{className:"relative w-full",children:[w.jsx("input",{...t(`exam.vitals.${c.key}`),className:"w-full text-center font-bold text-lg text-slate-900 outline-none bg-transparent p-0 placeholder:text-slate-200",placeholder:"--",autoComplete:"off"}),o.exam?.vitals?.[c.key]&&w.jsx("div",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-red-500"})]}),w.jsx("span",{className:"text-[9px] text-slate-400 font-medium",children:c.unit})]},c.key))})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 pb-2",children:"Khm chuyn khoa"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map(c=>w.jsxs("div",{className:"group",children:[w.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 group-focus-within:text-blue-600 transition-colors",children:c.label}),w.jsx("textarea",{...t(`exam.${c.key}`),rows:3,className:"w-full bg-slate-50 group-hover:bg-white border border-slate-200 rounded-xl px-4 py-3 text-sm font-medium text-slate-900 placeholder:text-slate-400 focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 outline-none transition-all resize-none",placeholder:c.ph||"M t..."})]},c.key))})]})]})})},Yc={MAX_FILE_SIZE:5*1024*1024,ALLOWED_FILE_TYPES:["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]},Gj=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"_").replace(/[^a-zA-Z0-9._-]/g,""),Jj=({label:e,categoryId:t,files:n=[],onUpload:r,onDelete:o})=>{const{t:a}=sn(),[l,c]=Z.useState(!1),[h,f]=Z.useState(null),m=async b=>{const v=b.target.files[0];if(v){if(v.size>Yc.MAX_FILE_SIZE){f(`${a.file_size_err} (> ${Yc.MAX_FILE_SIZE/1024/1024}MB)`);return}if(!Yc.ALLOWED_FILE_TYPES.includes(v.type)){f("nh dng file khng c h tr.");return}c(!0),f(null);try{const k=Gj(v.name),{data:{user:_}}=await nt.auth.getUser(),E=`${_.id}/${t}/${Date.now()}_${k}`,{data:j,error:I}=await nt.storage.from("workups").upload(E,v);if(I)throw I;r(t,{name:v.name,path:j.path,type:v.type})}catch(k){console.error("Upload Error:",k),f("Upload failed: "+k.message)}finally{c(!1),b.target.value=null}}},g=async b=>{try{const{data:v}=await nt.storage.from("workups").createSignedUrl(b,3600);v?.signedUrl&&window.open(v.signedUrl,"_blank")}catch(v){console.error(v)}};return w.jsxs("div",{className:"mb-4",children:[h&&w.jsx(Ul,{message:h,type:"error",onClose:()=>f(null)}),w.jsxs("div",{className:"flex justify-between items-center mb-2",children:[w.jsx(Yn,{label:e}),w.jsxs("label",{className:`cursor-pointer bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-blue-100 flex items-center gap-1 transition border border-blue-100 ${l?"opacity-50 pointer-events-none":""}`,children:[l?w.jsx(ws,{size:12,className:"animate-spin"}):w.jsx(V1,{size:12}),l?a.uploading||"ang ti...":a.upload||"Ti ln",w.jsx("input",{type:"file",className:"hidden",onChange:m,disabled:l})]})]}),w.jsx("div",{className:"grid grid-cols-1 gap-2",children:n.map((b,v)=>w.jsxs("div",{className:"flex items-center justify-between bg-white p-2.5 rounded-lg border border-gray-300 text-xs shadow-sm hover:border-blue-400 transition-colors",children:[w.jsxs("button",{type:"button",onClick:()=>g(b.path),className:"flex items-center gap-2 truncate text-gray-700 hover:text-blue-600",children:[w.jsx(C1,{size:14})," ",w.jsx("span",{className:"truncate max-w-[140px] font-medium",children:b.name})]}),w.jsx("button",{type:"button",onClick:()=>o(t,v),className:"text-red-400 hover:text-red-600 p-1",children:w.jsx(Wo,{size:14})})]},v))})]})};function Qj(e,t){const[n,r]=Z.useState(e);return Z.useEffect(()=>{const o=setTimeout(()=>r(e),t);return()=>clearTimeout(o)},[e,t]),n}const Yj=({value:e,onChange:t,error:n})=>{const[r,o]=Z.useState(e||""),[a,l]=Z.useState([]),[c,h]=Z.useState(!1),[f,m]=Z.useState(!1),g=Qj(r,500),b=Z.useRef(null);Z.useEffect(()=>{e!==r&&o(e||"")},[e]),Z.useEffect(()=>{function k(_){b.current&&!b.current.contains(_.target)&&m(!1)}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[b]),Z.useEffect(()=>{(async()=>{if(!g||g.length<2){l([]);return}if(g!==e){h(!0),m(!0);try{const{data:_,error:E}=await nt.from("icd10_codes").select("code, description").or(`code.ilike.%${g}%,description.ilike.%${g}%`).limit(10);!E&&_&&l(_)}catch(_){console.error(_)}finally{h(!1)}}})()},[g]);const v=k=>{o(k.code),t(k.code),m(!1)};return w.jsxs("div",{className:"relative w-full",ref:b,children:[w.jsxs("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 block pl-1",children:["M ICD-10 ",w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"text",value:r,onChange:k=>{o(k.target.value),m(!0)},onFocus:()=>{a.length>0&&m(!0)},className:mt("w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-900 focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 outline-none transition-all uppercase placeholder:normal-case",n&&"border-red-300 bg-red-50 text-red-900"),placeholder:"G m hoc tn bnh (VD: J00)..."}),w.jsx(Jd,{className:"absolute left-3 top-3 text-slate-400",size:18}),c&&w.jsx(ws,{className:"absolute right-3 top-3 text-blue-500 animate-spin",size:18})]}),n&&w.jsxs("p",{className:"text-red-600 text-[11px] font-bold mt-1 flex items-center gap-1",children:[" ",n.message]}),f&&a.length>0&&w.jsx("ul",{className:"absolute z-50 w-full mt-2 bg-white border border-slate-200 rounded-xl shadow-xl max-h-60 overflow-y-auto animate-in fade-in zoom-in-95 origin-top-left",children:a.map(k=>w.jsx("li",{onClick:()=>v(k),className:"px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-slate-50 last:border-none group transition-colors",children:w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("div",{children:[w.jsx("span",{className:"font-black text-blue-700 block",children:k.code}),w.jsx("span",{className:"text-xs text-slate-600 font-medium group-hover:text-slate-900",children:k.description})]}),e===k.code&&w.jsx(b1,{size:16,className:"text-green-500 mt-1"})]})},k.code))}),f&&!c&&g.length>=2&&a.length===0&&w.jsx("div",{className:"absolute z-50 w-full mt-2 bg-white border border-slate-200 rounded-xl shadow-lg p-4 text-center",children:w.jsxs("p",{className:"text-xs text-slate-500 font-medium flex items-center justify-center gap-2",children:[w.jsx(rv,{size:14})," Khng tm thy m bnh ny."]})})]})};function Xj(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const eN=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,tN=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nN={};function Fg(e,t){return(nN.jsx?tN:eN).test(e)}const rN=/[ \t\n\f\r]/g;function iN(e){return typeof e=="object"?e.type==="text"?Bg(e.value):!1:Bg(e)}function Bg(e){return e.replace(rN,"")===""}class Go{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Go.prototype.normal={};Go.prototype.property={};Go.prototype.space=void 0;function t0(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new Go(n,r,t)}function Rd(e){return e.toLowerCase()}class an{constructor(t,n){this.attribute=n,this.property=t}}an.prototype.attribute="";an.prototype.booleanish=!1;an.prototype.boolean=!1;an.prototype.commaOrSpaceSeparated=!1;an.prototype.commaSeparated=!1;an.prototype.defined=!1;an.prototype.mustUseProperty=!1;an.prototype.number=!1;an.prototype.overloadedBoolean=!1;an.prototype.property="";an.prototype.spaceSeparated=!1;an.prototype.space=void 0;let sN=0;const $e=xi(),bt=xi(),Id=xi(),ee=xi(),Je=xi(),gs=xi(),mn=xi();function xi(){return 2**++sN}const zd=Object.freeze(Object.defineProperty({__proto__:null,boolean:$e,booleanish:bt,commaOrSpaceSeparated:mn,commaSeparated:gs,number:ee,overloadedBoolean:Id,spaceSeparated:Je},Symbol.toStringTag,{value:"Module"})),Xc=Object.keys(zd);class hh extends an{constructor(t,n,r,o){let a=-1;if(super(t,n),Vg(this,"space",o),typeof r=="number")for(;++a<Xc.length;){const l=Xc[a];Vg(this,Xc[a],(r&zd[l])===zd[l])}}}hh.prototype.defined=!0;function Vg(e,t,n){n&&(e[t]=n)}function Cs(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const a=new hh(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[Rd(r)]=r,n[Rd(a.attribute)]=r}return new Go(t,n,e.space)}const n0=Cs({properties:{ariaActiveDescendant:null,ariaAtomic:bt,ariaAutoComplete:null,ariaBusy:bt,ariaChecked:bt,ariaColCount:ee,ariaColIndex:ee,ariaColSpan:ee,ariaControls:Je,ariaCurrent:null,ariaDescribedBy:Je,ariaDetails:null,ariaDisabled:bt,ariaDropEffect:Je,ariaErrorMessage:null,ariaExpanded:bt,ariaFlowTo:Je,ariaGrabbed:bt,ariaHasPopup:null,ariaHidden:bt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Je,ariaLevel:ee,ariaLive:null,ariaModal:bt,ariaMultiLine:bt,ariaMultiSelectable:bt,ariaOrientation:null,ariaOwns:Je,ariaPlaceholder:null,ariaPosInSet:ee,ariaPressed:bt,ariaReadOnly:bt,ariaRelevant:null,ariaRequired:bt,ariaRoleDescription:Je,ariaRowCount:ee,ariaRowIndex:ee,ariaRowSpan:ee,ariaSelected:bt,ariaSetSize:ee,ariaSort:null,ariaValueMax:ee,ariaValueMin:ee,ariaValueNow:ee,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function r0(e,t){return t in e?e[t]:t}function i0(e,t){return r0(e,t.toLowerCase())}const oN=Cs({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:gs,acceptCharset:Je,accessKey:Je,action:null,allow:null,allowFullScreen:$e,allowPaymentRequest:$e,allowUserMedia:$e,alt:null,as:null,async:$e,autoCapitalize:null,autoComplete:Je,autoFocus:$e,autoPlay:$e,blocking:Je,capture:null,charSet:null,checked:$e,cite:null,className:Je,cols:ee,colSpan:null,content:null,contentEditable:bt,controls:$e,controlsList:Je,coords:ee|gs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$e,defer:$e,dir:null,dirName:null,disabled:$e,download:Id,draggable:bt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$e,formTarget:null,headers:Je,height:ee,hidden:Id,high:ee,href:null,hrefLang:null,htmlFor:Je,httpEquiv:Je,id:null,imageSizes:null,imageSrcSet:null,inert:$e,inputMode:null,integrity:null,is:null,isMap:$e,itemId:null,itemProp:Je,itemRef:Je,itemScope:$e,itemType:Je,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$e,low:ee,manifest:null,max:null,maxLength:ee,media:null,method:null,min:null,minLength:ee,multiple:$e,muted:$e,name:null,nonce:null,noModule:$e,noValidate:$e,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$e,optimum:ee,pattern:null,ping:Je,placeholder:null,playsInline:$e,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:$e,referrerPolicy:null,rel:Je,required:$e,reversed:$e,rows:ee,rowSpan:ee,sandbox:Je,scope:null,scoped:$e,seamless:$e,selected:$e,shadowRootClonable:$e,shadowRootDelegatesFocus:$e,shadowRootMode:null,shape:null,size:ee,sizes:null,slot:null,span:ee,spellCheck:bt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ee,step:null,style:null,tabIndex:ee,target:null,title:null,translate:null,type:null,typeMustMatch:$e,useMap:null,value:bt,width:ee,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Je,axis:null,background:null,bgColor:null,border:ee,borderColor:null,bottomMargin:ee,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$e,declare:$e,event:null,face:null,frame:null,frameBorder:null,hSpace:ee,leftMargin:ee,link:null,longDesc:null,lowSrc:null,marginHeight:ee,marginWidth:ee,noResize:$e,noHref:$e,noShade:$e,noWrap:$e,object:null,profile:null,prompt:null,rev:null,rightMargin:ee,rules:null,scheme:null,scrolling:bt,standby:null,summary:null,text:null,topMargin:ee,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ee,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$e,disableRemotePlayback:$e,prefix:null,property:null,results:ee,security:null,unselectable:null},space:"html",transform:i0}),aN=Cs({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:mn,accentHeight:ee,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ee,amplitude:ee,arabicForm:null,ascent:ee,attributeName:null,attributeType:null,azimuth:ee,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ee,by:null,calcMode:null,capHeight:ee,className:Je,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ee,diffuseConstant:ee,direction:null,display:null,dur:null,divisor:ee,dominantBaseline:null,download:$e,dx:null,dy:null,edgeMode:null,editable:null,elevation:ee,enableBackground:null,end:null,event:null,exponent:ee,externalResourcesRequired:null,fill:null,fillOpacity:ee,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:gs,g2:gs,glyphName:gs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ee,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ee,horizOriginX:ee,horizOriginY:ee,id:null,ideographic:ee,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ee,k:ee,k1:ee,k2:ee,k3:ee,k4:ee,kernelMatrix:mn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ee,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ee,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ee,overlineThickness:ee,paintOrder:null,panose1:null,path:null,pathLength:ee,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Je,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ee,pointsAtY:ee,pointsAtZ:ee,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:mn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:mn,rev:mn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:mn,requiredFeatures:mn,requiredFonts:mn,requiredFormats:mn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ee,specularExponent:ee,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ee,strikethroughThickness:ee,string:null,stroke:null,strokeDashArray:mn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ee,strokeOpacity:ee,strokeWidth:null,style:null,surfaceScale:ee,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:mn,tabIndex:ee,tableValues:null,target:null,targetX:ee,targetY:ee,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:mn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ee,underlineThickness:ee,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ee,values:null,vAlphabetic:ee,vMathematical:ee,vectorEffect:null,vHanging:ee,vIdeographic:ee,version:null,vertAdvY:ee,vertOriginX:ee,vertOriginY:ee,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ee,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:r0}),s0=Cs({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),o0=Cs({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:i0}),a0=Cs({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),lN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},uN=/[A-Z]/g,qg=/-[a-z]/g,cN=/^data[-\w.:]+$/i;function dN(e,t){const n=Rd(t);let r=t,o=an;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&cN.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(qg,fN);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!qg.test(a)){let l=a.replace(uN,hN);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}o=hh}return new o(r,t)}function hN(e){return"-"+e.toLowerCase()}function fN(e){return e.charAt(1).toUpperCase()}const pN=t0([n0,oN,s0,o0,a0],"html"),fh=t0([n0,aN,s0,o0,a0],"svg");function mN(e){return e.join(" ").trim()}var rs={},ed,Hg;function gN(){if(Hg)return ed;Hg=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,h=`
`,f="/",m="*",g="",b="comment",v="declaration";function k(E,j){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];j=j||{};var I=1,z=1;function V(re){var J=re.match(t);J&&(I+=J.length);var ve=re.lastIndexOf(h);z=~ve?re.length-ve:z+re.length}function G(){var re={line:I,column:z};return function(J){return J.position=new L(re),ye(),J}}function L(re){this.start=re,this.end={line:I,column:z},this.source=j.source}L.prototype.content=E;function ne(re){var J=new Error(j.source+":"+I+":"+z+": "+re);if(J.reason=re,J.filename=j.source,J.line=I,J.column=z,J.source=E,!j.silent)throw J}function fe(re){var J=re.exec(E);if(J){var ve=J[0];return V(ve),E=E.slice(ve.length),J}}function ye(){fe(n)}function ke(re){var J;for(re=re||[];J=ce();)J!==!1&&re.push(J);return re}function ce(){var re=G();if(!(f!=E.charAt(0)||m!=E.charAt(1))){for(var J=2;g!=E.charAt(J)&&(m!=E.charAt(J)||f!=E.charAt(J+1));)++J;if(J+=2,g===E.charAt(J-1))return ne("End of comment missing");var ve=E.slice(2,J-2);return z+=2,V(ve),E=E.slice(J),z+=2,re({type:b,comment:ve})}}function q(){var re=G(),J=fe(r);if(J){if(ce(),!fe(o))return ne("property missing ':'");var ve=fe(a),be=re({type:v,property:_(J[0].replace(e,g)),value:ve?_(ve[0].replace(e,g)):g});return fe(l),be}}function ae(){var re=[];ke(re);for(var J;J=q();)J!==!1&&(re.push(J),ke(re));return re}return ye(),ae()}function _(E){return E?E.replace(c,g):g}return ed=k,ed}var Wg;function yN(){if(Wg)return rs;Wg=1;var e=rs&&rs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rs,"__esModule",{value:!0}),rs.default=n;const t=e(gN());function n(r,o){let a=null;if(!r||typeof r!="string")return a;const l=(0,t.default)(r),c=typeof o=="function";return l.forEach(h=>{if(h.type!=="declaration")return;const{property:f,value:m}=h;c?o(f,m,h):m&&(a=a||{},a[f]=m)}),a}return rs}var vo={},Zg;function vN(){if(Zg)return vo;Zg=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,a=function(f){return!f||n.test(f)||e.test(f)},l=function(f,m){return m.toUpperCase()},c=function(f,m){return"".concat(m,"-")},h=function(f,m){return m===void 0&&(m={}),a(f)?f:(f=f.toLowerCase(),m.reactCompat?f=f.replace(o,c):f=f.replace(r,c),f.replace(t,l))};return vo.camelCase=h,vo}var wo,Kg;function wN(){if(Kg)return wo;Kg=1;var e=wo&&wo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(yN()),n=vN();function r(o,a){var l={};return!o||typeof o!="string"||(0,t.default)(o,function(c,h){c&&h&&(l[(0,n.camelCase)(c,a)]=h)}),l}return r.default=r,wo=r,wo}var bN=wN();const xN=Ol(bN),l0=u0("end"),ph=u0("start");function u0(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function _N(e){const t=ph(e),n=l0(e);if(t&&n)return{start:t,end:n}}function jo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Gg(e.position):"start"in e||"end"in e?Gg(e):"line"in e||"column"in e?Ld(e):""}function Ld(e){return Jg(e&&e.line)+":"+Jg(e&&e.column)}function Gg(e){return Ld(e&&e.start)+"-"+Ld(e&&e.end)}function Jg(e){return e&&typeof e=="number"?e:1}class Bt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?o=t:!a.cause&&t&&(l=!0,o=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?a.ruleId=r:(a.source=r.slice(0,h),a.ruleId=r.slice(h+1))}if(!a.place&&a.ancestors&&a.ancestors){const h=a.ancestors[a.ancestors.length-1];h&&(a.place=h.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=c?c.line:void 0,this.name=jo(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Bt.prototype.file="";Bt.prototype.name="";Bt.prototype.reason="";Bt.prototype.message="";Bt.prototype.stack="";Bt.prototype.column=void 0;Bt.prototype.line=void 0;Bt.prototype.ancestors=void 0;Bt.prototype.cause=void 0;Bt.prototype.fatal=void 0;Bt.prototype.place=void 0;Bt.prototype.ruleId=void 0;Bt.prototype.source=void 0;const mh={}.hasOwnProperty,kN=new Map,SN=/[A-Z]/g,EN=new Set(["table","tbody","thead","tfoot","tr"]),CN=new Set(["td","th"]),c0="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function TN(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=zN(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=IN(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?fh:pN,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=d0(o,e,void 0);return a&&typeof a!="string"?a:o.create(e,o.Fragment,{children:a||void 0},void 0)}function d0(e,t,n){if(t.type==="element")return jN(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return NN(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return ON(e,t,n);if(t.type==="mdxjsEsm")return PN(e,t);if(t.type==="root")return AN(e,t,n);if(t.type==="text")return RN(e,t)}function jN(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=fh,e.schema=o),e.ancestors.push(t);const a=f0(e,t.tagName,!1),l=LN(e,t);let c=yh(e,t);return EN.has(t.tagName)&&(c=c.filter(function(h){return typeof h=="string"?!iN(h):!0})),h0(e,l,a,t),gh(l,c),e.ancestors.pop(),e.schema=r,e.create(t,a,l,n)}function NN(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Fo(e,t.position)}function PN(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Fo(e,t.position)}function ON(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=fh,e.schema=o),e.ancestors.push(t);const a=t.name===null?e.Fragment:f0(e,t.name,!0),l=$N(e,t),c=yh(e,t);return h0(e,l,a,t),gh(l,c),e.ancestors.pop(),e.schema=r,e.create(t,a,l,n)}function AN(e,t,n){const r={};return gh(r,yh(e,t)),e.create(t,e.Fragment,r,n)}function RN(e,t){return t.value}function h0(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function gh(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function IN(e,t,n){return r;function r(o,a,l,c){const f=Array.isArray(l.children)?n:t;return c?f(a,l,c):f(a,l)}}function zN(e,t){return n;function n(r,o,a,l){const c=Array.isArray(a.children),h=ph(r);return t(o,a,l,c,{columnNumber:h?h.column-1:void 0,fileName:e,lineNumber:h?h.line:void 0},void 0)}}function LN(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&mh.call(t.properties,o)){const a=DN(e,o,t.properties[o]);if(a){const[l,c]=a;e.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&CN.has(t.tagName)?r=c:n[l]=c}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function $N(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const l=a.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else Fo(e,t.position);else{const o=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];c.type,a=e.evaluater.evaluateExpression(c.expression)}else Fo(e,t.position);else a=r.value===null?!0:r.value;n[o]=a}return n}function yh(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:kN;for(;++r<t.children.length;){const a=t.children[r];let l;if(e.passKeys){const h=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(h){const f=o.get(h)||0;l=h+"-"+f,o.set(h,f+1)}}const c=d0(e,a,l);c!==void 0&&n.push(c)}return n}function DN(e,t,n){const r=dN(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Xj(n):mN(n)),r.property==="style"){let o=typeof n=="object"?n:UN(e,String(n));return e.stylePropertyNameCase==="css"&&(o=MN(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?lN[r.property]||r.property:r.attribute,n]}}function UN(e,t){try{return xN(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new Bt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=c0+"#cannot-parse-style-attribute",o}}function f0(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let a=-1,l;for(;++a<o.length;){const c=Fg(o[a])?{type:"Identifier",name:o[a]}:{type:"Literal",value:o[a]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}r=l}else r=Fg(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return mh.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);Fo(e)}function Fo(e,t){const n=new Bt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=c0+"#cannot-handle-mdx-estrees-without-createevaluater",n}function MN(e){const t={};let n;for(n in e)mh.call(e,n)&&(t[FN(n)]=e[n]);return t}function FN(e){let t=e.replace(SN,BN);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function BN(e){return"-"+e.toLowerCase()}const td={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},VN={};function qN(e,t){const n=VN,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return p0(e,r,o)}function p0(e,t,n){if(HN(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Qg(e.children,t,n)}return Array.isArray(e)?Qg(e,t,n):""}function Qg(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=p0(e[o],t,n);return r.join("")}function HN(e){return!!(e&&typeof e=="object")}const Yg=document.createElement("i");function vh(e){const t="&"+e+";";Yg.innerHTML=t;const n=Yg.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Xn(e,t,n,r){const o=e.length;let a=0,l;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);a<r.length;)l=r.slice(a,a+1e4),l.unshift(t,0),e.splice(...l),a+=1e4,t+=1e4}function Cn(e,t){return e.length>0?(Xn(e,e.length,0,t),e):t}const Xg={}.hasOwnProperty;function WN(e){const t={};let n=-1;for(;++n<e.length;)ZN(t,e[n]);return t}function ZN(e,t){let n;for(n in t){const o=(Xg.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let l;if(a)for(l in a){Xg.call(o,l)||(o[l]=[]);const c=a[l];KN(o[l],Array.isArray(c)?c:c?[c]:[])}}}function KN(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Xn(e,0,0,r)}function m0(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ys(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Qn=Kr(/[A-Za-z]/),vn=Kr(/[\dA-Za-z]/),GN=Kr(/[#-'*+\--9=?A-Z^-~]/);function $d(e){return e!==null&&(e<32||e===127)}const Dd=Kr(/\d/),JN=Kr(/[\dA-Fa-f]/),QN=Kr(/[!-/:-@[-`{-~]/);function Ae(e){return e!==null&&e<-2}function rn(e){return e!==null&&(e<0||e===32)}function qe(e){return e===-2||e===-1||e===32}const YN=Kr(new RegExp("\\p{P}|\\p{S}","u")),XN=Kr(/\s/);function Kr(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ts(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const a=e.charCodeAt(n);let l="";if(a===37&&vn(e.charCodeAt(n+1))&&vn(e.charCodeAt(n+2)))o=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const c=e.charCodeAt(n+1);a<56320&&c>56319&&c<57344?(l=String.fromCharCode(a,c),o=1):l=""}else l=String.fromCharCode(a);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+o+1,l=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function Qe(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(h){return qe(h)?(e.enter(n),c(h)):t(h)}function c(h){return qe(h)&&a++<o?(e.consume(h),c):(e.exit(n),t(h))}}const eP={tokenize:tP};function tP(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Qe(e,t,"linePrefix")}function o(c){return e.enter("paragraph"),a(c)}function a(c){const h=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Ae(c)?(e.consume(c),e.exit("chunkText"),a):(e.consume(c),l)}}const nP={tokenize:rP},ey={tokenize:iP};function rP(e){const t=this,n=[];let r=0,o,a,l;return c;function c(z){if(r<n.length){const V=n[r];return t.containerState=V[1],e.attempt(V[0].continuation,h,f)(z)}return f(z)}function h(z){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&I();const V=t.events.length;let G=V,L;for(;G--;)if(t.events[G][0]==="exit"&&t.events[G][1].type==="chunkFlow"){L=t.events[G][1].end;break}j(r);let ne=V;for(;ne<t.events.length;)t.events[ne][1].end={...L},ne++;return Xn(t.events,G+1,0,t.events.slice(V)),t.events.length=ne,f(z)}return c(z)}function f(z){if(r===n.length){if(!o)return b(z);if(o.currentConstruct&&o.currentConstruct.concrete)return k(z);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(ey,m,g)(z)}function m(z){return o&&I(),j(r),b(z)}function g(z){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,k(z)}function b(z){return t.containerState={},e.attempt(ey,v,k)(z)}function v(z){return r++,n.push([t.currentConstruct,t.containerState]),b(z)}function k(z){if(z===null){o&&I(),j(0),e.consume(z);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:a}),_(z)}function _(z){if(z===null){E(e.exit("chunkFlow"),!0),j(0),e.consume(z);return}return Ae(z)?(e.consume(z),E(e.exit("chunkFlow")),r=0,t.interrupt=void 0,c):(e.consume(z),_)}function E(z,V){const G=t.sliceStream(z);if(V&&G.push(null),z.previous=a,a&&(a.next=z),a=z,o.defineSkip(z.start),o.write(G),t.parser.lazy[z.start.line]){let L=o.events.length;for(;L--;)if(o.events[L][1].start.offset<l&&(!o.events[L][1].end||o.events[L][1].end.offset>l))return;const ne=t.events.length;let fe=ne,ye,ke;for(;fe--;)if(t.events[fe][0]==="exit"&&t.events[fe][1].type==="chunkFlow"){if(ye){ke=t.events[fe][1].end;break}ye=!0}for(j(r),L=ne;L<t.events.length;)t.events[L][1].end={...ke},L++;Xn(t.events,fe+1,0,t.events.slice(ne)),t.events.length=L}}function j(z){let V=n.length;for(;V-- >z;){const G=n[V];t.containerState=G[1],G[0].exit.call(t,e)}n.length=z}function I(){o.write([null]),a=void 0,o=void 0,t.containerState._closeFlow=void 0}}function iP(e,t,n){return Qe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ty(e){if(e===null||rn(e)||XN(e))return 1;if(YN(e))return 2}function wh(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const a=e[o].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const Ud={name:"attention",resolveAll:sP,tokenize:oP};function sP(e,t){let n=-1,r,o,a,l,c,h,f,m;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;h=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const g={...e[r][1].end},b={...e[n][1].start};ny(g,-h),ny(b,h),l={type:h>1?"strongSequence":"emphasisSequence",start:g,end:{...e[r][1].end}},c={type:h>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:b},a={type:h>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:h>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},e[r][1].end={...l.start},e[n][1].start={...c.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=Cn(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=Cn(f,[["enter",o,t],["enter",l,t],["exit",l,t],["enter",a,t]]),f=Cn(f,wh(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=Cn(f,[["exit",a,t],["enter",c,t],["exit",c,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(m=2,f=Cn(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):m=0,Xn(e,r-1,n-r+3,f),n=r+f.length-m-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function oP(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=ty(r);let a;return l;function l(h){return a=h,e.enter("attentionSequence"),c(h)}function c(h){if(h===a)return e.consume(h),c;const f=e.exit("attentionSequence"),m=ty(h),g=!m||m===2&&o||n.includes(h),b=!o||o===2&&m||n.includes(r);return f._open=!!(a===42?g:g&&(o||!b)),f._close=!!(a===42?b:b&&(m||!g)),t(h)}}function ny(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const aP={name:"autolink",tokenize:lP};function lP(e,t,n){let r=0;return o;function o(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(v){return Qn(v)?(e.consume(v),l):v===64?n(v):f(v)}function l(v){return v===43||v===45||v===46||vn(v)?(r=1,c(v)):f(v)}function c(v){return v===58?(e.consume(v),r=0,h):(v===43||v===45||v===46||vn(v))&&r++<32?(e.consume(v),c):(r=0,f(v))}function h(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):v===null||v===32||v===60||$d(v)?n(v):(e.consume(v),h)}function f(v){return v===64?(e.consume(v),m):GN(v)?(e.consume(v),f):n(v)}function m(v){return vn(v)?g(v):n(v)}function g(v){return v===46?(e.consume(v),r=0,m):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):b(v)}function b(v){if((v===45||vn(v))&&r++<63){const k=v===45?b:g;return e.consume(v),k}return n(v)}}const Zl={partial:!0,tokenize:uP};function uP(e,t,n){return r;function r(a){return qe(a)?Qe(e,o,"linePrefix")(a):o(a)}function o(a){return a===null||Ae(a)?t(a):n(a)}}const g0={continuation:{tokenize:dP},exit:hP,name:"blockQuote",tokenize:cP};function cP(e,t,n){const r=this;return o;function o(l){if(l===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),a}return n(l)}function a(l){return qe(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function dP(e,t,n){const r=this;return o;function o(l){return qe(l)?Qe(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return e.attempt(g0,t,n)(l)}}function hP(e){e.exit("blockQuote")}const y0={name:"characterEscape",tokenize:fP};function fP(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),o}function o(a){return QN(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const v0={name:"characterReference",tokenize:pP};function pP(e,t,n){const r=this;let o=0,a,l;return c;function c(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),h}function h(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),a=31,l=vn,m(g))}function f(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,l=JN,m):(e.enter("characterReferenceValue"),a=7,l=Dd,m(g))}function m(g){if(g===59&&o){const b=e.exit("characterReferenceValue");return l===vn&&!vh(r.sliceSerialize(b))?n(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(g)&&o++<a?(e.consume(g),m):n(g)}}const ry={partial:!0,tokenize:gP},iy={concrete:!0,name:"codeFenced",tokenize:mP};function mP(e,t,n){const r=this,o={partial:!0,tokenize:G};let a=0,l=0,c;return h;function h(L){return f(L)}function f(L){const ne=r.events[r.events.length-1];return a=ne&&ne[1].type==="linePrefix"?ne[2].sliceSerialize(ne[1],!0).length:0,c=L,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),m(L)}function m(L){return L===c?(l++,e.consume(L),m):l<3?n(L):(e.exit("codeFencedFenceSequence"),qe(L)?Qe(e,g,"whitespace")(L):g(L))}function g(L){return L===null||Ae(L)?(e.exit("codeFencedFence"),r.interrupt?t(L):e.check(ry,_,V)(L)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(L))}function b(L){return L===null||Ae(L)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(L)):qe(L)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Qe(e,v,"whitespace")(L)):L===96&&L===c?n(L):(e.consume(L),b)}function v(L){return L===null||Ae(L)?g(L):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),k(L))}function k(L){return L===null||Ae(L)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(L)):L===96&&L===c?n(L):(e.consume(L),k)}function _(L){return e.attempt(o,V,E)(L)}function E(L){return e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),j}function j(L){return a>0&&qe(L)?Qe(e,I,"linePrefix",a+1)(L):I(L)}function I(L){return L===null||Ae(L)?e.check(ry,_,V)(L):(e.enter("codeFlowValue"),z(L))}function z(L){return L===null||Ae(L)?(e.exit("codeFlowValue"),I(L)):(e.consume(L),z)}function V(L){return e.exit("codeFenced"),t(L)}function G(L,ne,fe){let ye=0;return ke;function ke(J){return L.enter("lineEnding"),L.consume(J),L.exit("lineEnding"),ce}function ce(J){return L.enter("codeFencedFence"),qe(J)?Qe(L,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):q(J)}function q(J){return J===c?(L.enter("codeFencedFenceSequence"),ae(J)):fe(J)}function ae(J){return J===c?(ye++,L.consume(J),ae):ye>=l?(L.exit("codeFencedFenceSequence"),qe(J)?Qe(L,re,"whitespace")(J):re(J)):fe(J)}function re(J){return J===null||Ae(J)?(L.exit("codeFencedFence"),ne(J)):fe(J)}}}function gP(e,t,n){const r=this;return o;function o(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a)}function a(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const nd={name:"codeIndented",tokenize:vP},yP={partial:!0,tokenize:wP};function vP(e,t,n){const r=this;return o;function o(f){return e.enter("codeIndented"),Qe(e,a,"linePrefix",5)(f)}function a(f){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?h(f):Ae(f)?e.attempt(yP,l,h)(f):(e.enter("codeFlowValue"),c(f))}function c(f){return f===null||Ae(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),c)}function h(f){return e.exit("codeIndented"),t(f)}}function wP(e,t,n){const r=this;return o;function o(l){return r.parser.lazy[r.now().line]?n(l):Ae(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):Qe(e,a,"linePrefix",5)(l)}function a(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):Ae(l)?o(l):n(l)}}const bP={name:"codeText",previous:_P,resolve:xP,tokenize:kP};function xP(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function _P(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function kP(e,t,n){let r=0,o,a;return l;function l(g){return e.enter("codeText"),e.enter("codeTextSequence"),c(g)}function c(g){return g===96?(e.consume(g),r++,c):(e.exit("codeTextSequence"),h(g))}function h(g){return g===null?n(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),h):g===96?(a=e.enter("codeTextSequence"),o=0,m(g)):Ae(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),h):(e.enter("codeTextData"),f(g))}function f(g){return g===null||g===32||g===96||Ae(g)?(e.exit("codeTextData"),h(g)):(e.consume(g),f)}function m(g){return g===96?(e.consume(g),o++,m):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(g)):(a.type="codeTextData",f(g))}}class SP{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&bo(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),bo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),bo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);bo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);bo(this.left,n.reverse())}}}function bo(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function w0(e){const t={};let n=-1,r,o,a,l,c,h,f;const m=new SP(e);for(;++n<m.length;){for(;n in t;)n=t[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,a=0,a<h.length&&h[a][1].type==="lineEndingBlank"&&(a+=2),a<h.length&&h[a][1].type==="content"))for(;++a<h.length&&h[a][1].type!=="content";)h[a][1].type==="chunkText"&&(h[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,EP(m,n)),n=t[n],f=!0);else if(r[1]._container){for(a=n,o=void 0;a--;)if(l=m.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(o&&(m.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;o&&(r[1].end={...m.get(o)[1].start},c=m.slice(o,n),c.unshift(r),m.splice(o,n-o+1,c))}}return Xn(e,0,Number.POSITIVE_INFINITY,m.slice(0)),!f}function EP(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const a=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,h=[],f={};let m,g,b=-1,v=n,k=0,_=0;const E=[_];for(;v;){for(;e.get(++o)[1]!==v;);a.push(o),v._tokenizer||(m=r.sliceStream(v),v.next||m.push(null),g&&l.defineSkip(v.start),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=v,v=v.next}for(v=n;++b<c.length;)c[b][0]==="exit"&&c[b-1][0]==="enter"&&c[b][1].type===c[b-1][1].type&&c[b][1].start.line!==c[b][1].end.line&&(_=b+1,E.push(_),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(l.events=[],v?(v._tokenizer=void 0,v.previous=void 0):E.pop(),b=E.length;b--;){const j=c.slice(E[b],E[b+1]),I=a.pop();h.push([I,I+j.length-1]),e.splice(I,2,j)}for(h.reverse(),b=-1;++b<h.length;)f[k+h[b][0]]=k+h[b][1],k+=h[b][1]-h[b][0]-1;return f}const CP={resolve:jP,tokenize:NP},TP={partial:!0,tokenize:PP};function jP(e){return w0(e),e}function NP(e,t){let n;return r;function r(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(c)}function o(c){return c===null?a(c):Ae(c)?e.check(TP,l,a)(c):(e.consume(c),o)}function a(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function l(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function PP(e,t,n){const r=this;return o;function o(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Qe(e,a,"linePrefix")}function a(l){if(l===null||Ae(l))return n(l);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function b0(e,t,n,r,o,a,l,c,h){const f=h||Number.POSITIVE_INFINITY;let m=0;return g;function g(j){return j===60?(e.enter(r),e.enter(o),e.enter(a),e.consume(j),e.exit(a),b):j===null||j===32||j===41||$d(j)?n(j):(e.enter(r),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),_(j))}function b(j){return j===62?(e.enter(a),e.consume(j),e.exit(a),e.exit(o),e.exit(r),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),v(j))}function v(j){return j===62?(e.exit("chunkString"),e.exit(c),b(j)):j===null||j===60||Ae(j)?n(j):(e.consume(j),j===92?k:v)}function k(j){return j===60||j===62||j===92?(e.consume(j),v):v(j)}function _(j){return!m&&(j===null||j===41||rn(j))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(r),t(j)):m<f&&j===40?(e.consume(j),m++,_):j===41?(e.consume(j),m--,_):j===null||j===32||j===40||$d(j)?n(j):(e.consume(j),j===92?E:_)}function E(j){return j===40||j===41||j===92?(e.consume(j),_):_(j)}}function x0(e,t,n,r,o,a){const l=this;let c=0,h;return f;function f(v){return e.enter(r),e.enter(o),e.consume(v),e.exit(o),e.enter(a),m}function m(v){return c>999||v===null||v===91||v===93&&!h||v===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(v):v===93?(e.exit(a),e.enter(o),e.consume(v),e.exit(o),e.exit(r),t):Ae(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),m):(e.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===null||v===91||v===93||Ae(v)||c++>999?(e.exit("chunkString"),m(v)):(e.consume(v),h||(h=!qe(v)),v===92?b:g)}function b(v){return v===91||v===92||v===93?(e.consume(v),c++,g):g(v)}}function _0(e,t,n,r,o,a){let l;return c;function c(b){return b===34||b===39||b===40?(e.enter(r),e.enter(o),e.consume(b),e.exit(o),l=b===40?41:b,h):n(b)}function h(b){return b===l?(e.enter(o),e.consume(b),e.exit(o),e.exit(r),t):(e.enter(a),f(b))}function f(b){return b===l?(e.exit(a),h(l)):b===null?n(b):Ae(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),Qe(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===l||b===null||Ae(b)?(e.exit("chunkString"),f(b)):(e.consume(b),b===92?g:m)}function g(b){return b===l||b===92?(e.consume(b),m):m(b)}}function No(e,t){let n;return r;function r(o){return Ae(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):qe(o)?Qe(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const OP={name:"definition",tokenize:RP},AP={partial:!0,tokenize:IP};function RP(e,t,n){const r=this;let o;return a;function a(v){return e.enter("definition"),l(v)}function l(v){return x0.call(r,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function c(v){return o=ys(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),h):n(v)}function h(v){return rn(v)?No(e,f)(v):f(v)}function f(v){return b0(e,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function m(v){return e.attempt(AP,g,g)(v)}function g(v){return qe(v)?Qe(e,b,"whitespace")(v):b(v)}function b(v){return v===null||Ae(v)?(e.exit("definition"),r.parser.defined.push(o),t(v)):n(v)}}function IP(e,t,n){return r;function r(c){return rn(c)?No(e,o)(c):n(c)}function o(c){return _0(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return qe(c)?Qe(e,l,"whitespace")(c):l(c)}function l(c){return c===null||Ae(c)?t(c):n(c)}}const zP={name:"hardBreakEscape",tokenize:LP};function LP(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),o}function o(a){return Ae(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const $P={name:"headingAtx",resolve:DP,tokenize:UP};function DP(e,t){let n=e.length-2,r=3,o,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Xn(e,r,n-r+1,[["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t]])),e}function UP(e,t,n){let r=0;return o;function o(m){return e.enter("atxHeading"),a(m)}function a(m){return e.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&r++<6?(e.consume(m),l):m===null||rn(m)?(e.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(e.enter("atxHeadingSequence"),h(m)):m===null||Ae(m)?(e.exit("atxHeading"),t(m)):qe(m)?Qe(e,c,"whitespace")(m):(e.enter("atxHeadingText"),f(m))}function h(m){return m===35?(e.consume(m),h):(e.exit("atxHeadingSequence"),c(m))}function f(m){return m===null||m===35||rn(m)?(e.exit("atxHeadingText"),c(m)):(e.consume(m),f)}}const MP=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],sy=["pre","script","style","textarea"],FP={concrete:!0,name:"htmlFlow",resolveTo:qP,tokenize:HP},BP={partial:!0,tokenize:ZP},VP={partial:!0,tokenize:WP};function qP(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function HP(e,t,n){const r=this;let o,a,l,c,h;return f;function f(T){return m(T)}function m(T){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(T),g}function g(T){return T===33?(e.consume(T),b):T===47?(e.consume(T),a=!0,_):T===63?(e.consume(T),o=3,r.interrupt?t:S):Qn(T)?(e.consume(T),l=String.fromCharCode(T),E):n(T)}function b(T){return T===45?(e.consume(T),o=2,v):T===91?(e.consume(T),o=5,c=0,k):Qn(T)?(e.consume(T),o=4,r.interrupt?t:S):n(T)}function v(T){return T===45?(e.consume(T),r.interrupt?t:S):n(T)}function k(T){const Ee="CDATA[";return T===Ee.charCodeAt(c++)?(e.consume(T),c===Ee.length?r.interrupt?t:q:k):n(T)}function _(T){return Qn(T)?(e.consume(T),l=String.fromCharCode(T),E):n(T)}function E(T){if(T===null||T===47||T===62||rn(T)){const Ee=T===47,Ie=l.toLowerCase();return!Ee&&!a&&sy.includes(Ie)?(o=1,r.interrupt?t(T):q(T)):MP.includes(l.toLowerCase())?(o=6,Ee?(e.consume(T),j):r.interrupt?t(T):q(T)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(T):a?I(T):z(T))}return T===45||vn(T)?(e.consume(T),l+=String.fromCharCode(T),E):n(T)}function j(T){return T===62?(e.consume(T),r.interrupt?t:q):n(T)}function I(T){return qe(T)?(e.consume(T),I):ke(T)}function z(T){return T===47?(e.consume(T),ke):T===58||T===95||Qn(T)?(e.consume(T),V):qe(T)?(e.consume(T),z):ke(T)}function V(T){return T===45||T===46||T===58||T===95||vn(T)?(e.consume(T),V):G(T)}function G(T){return T===61?(e.consume(T),L):qe(T)?(e.consume(T),G):z(T)}function L(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),h=T,ne):qe(T)?(e.consume(T),L):fe(T)}function ne(T){return T===h?(e.consume(T),h=null,ye):T===null||Ae(T)?n(T):(e.consume(T),ne)}function fe(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||rn(T)?G(T):(e.consume(T),fe)}function ye(T){return T===47||T===62||qe(T)?z(T):n(T)}function ke(T){return T===62?(e.consume(T),ce):n(T)}function ce(T){return T===null||Ae(T)?q(T):qe(T)?(e.consume(T),ce):n(T)}function q(T){return T===45&&o===2?(e.consume(T),ve):T===60&&o===1?(e.consume(T),be):T===62&&o===4?(e.consume(T),A):T===63&&o===3?(e.consume(T),S):T===93&&o===5?(e.consume(T),le):Ae(T)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(BP,W,ae)(T)):T===null||Ae(T)?(e.exit("htmlFlowData"),ae(T)):(e.consume(T),q)}function ae(T){return e.check(VP,re,W)(T)}function re(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),J}function J(T){return T===null||Ae(T)?ae(T):(e.enter("htmlFlowData"),q(T))}function ve(T){return T===45?(e.consume(T),S):q(T)}function be(T){return T===47?(e.consume(T),l="",X):q(T)}function X(T){if(T===62){const Ee=l.toLowerCase();return sy.includes(Ee)?(e.consume(T),A):q(T)}return Qn(T)&&l.length<8?(e.consume(T),l+=String.fromCharCode(T),X):q(T)}function le(T){return T===93?(e.consume(T),S):q(T)}function S(T){return T===62?(e.consume(T),A):T===45&&o===2?(e.consume(T),S):q(T)}function A(T){return T===null||Ae(T)?(e.exit("htmlFlowData"),W(T)):(e.consume(T),A)}function W(T){return e.exit("htmlFlow"),t(T)}}function WP(e,t,n){const r=this;return o;function o(l){return Ae(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):n(l)}function a(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function ZP(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Zl,t,n)}}const KP={name:"htmlText",tokenize:GP};function GP(e,t,n){const r=this;let o,a,l;return c;function c(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),h}function h(S){return S===33?(e.consume(S),f):S===47?(e.consume(S),G):S===63?(e.consume(S),z):Qn(S)?(e.consume(S),fe):n(S)}function f(S){return S===45?(e.consume(S),m):S===91?(e.consume(S),a=0,k):Qn(S)?(e.consume(S),I):n(S)}function m(S){return S===45?(e.consume(S),v):n(S)}function g(S){return S===null?n(S):S===45?(e.consume(S),b):Ae(S)?(l=g,be(S)):(e.consume(S),g)}function b(S){return S===45?(e.consume(S),v):g(S)}function v(S){return S===62?ve(S):S===45?b(S):g(S)}function k(S){const A="CDATA[";return S===A.charCodeAt(a++)?(e.consume(S),a===A.length?_:k):n(S)}function _(S){return S===null?n(S):S===93?(e.consume(S),E):Ae(S)?(l=_,be(S)):(e.consume(S),_)}function E(S){return S===93?(e.consume(S),j):_(S)}function j(S){return S===62?ve(S):S===93?(e.consume(S),j):_(S)}function I(S){return S===null||S===62?ve(S):Ae(S)?(l=I,be(S)):(e.consume(S),I)}function z(S){return S===null?n(S):S===63?(e.consume(S),V):Ae(S)?(l=z,be(S)):(e.consume(S),z)}function V(S){return S===62?ve(S):z(S)}function G(S){return Qn(S)?(e.consume(S),L):n(S)}function L(S){return S===45||vn(S)?(e.consume(S),L):ne(S)}function ne(S){return Ae(S)?(l=ne,be(S)):qe(S)?(e.consume(S),ne):ve(S)}function fe(S){return S===45||vn(S)?(e.consume(S),fe):S===47||S===62||rn(S)?ye(S):n(S)}function ye(S){return S===47?(e.consume(S),ve):S===58||S===95||Qn(S)?(e.consume(S),ke):Ae(S)?(l=ye,be(S)):qe(S)?(e.consume(S),ye):ve(S)}function ke(S){return S===45||S===46||S===58||S===95||vn(S)?(e.consume(S),ke):ce(S)}function ce(S){return S===61?(e.consume(S),q):Ae(S)?(l=ce,be(S)):qe(S)?(e.consume(S),ce):ye(S)}function q(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),o=S,ae):Ae(S)?(l=q,be(S)):qe(S)?(e.consume(S),q):(e.consume(S),re)}function ae(S){return S===o?(e.consume(S),o=void 0,J):S===null?n(S):Ae(S)?(l=ae,be(S)):(e.consume(S),ae)}function re(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||rn(S)?ye(S):(e.consume(S),re)}function J(S){return S===47||S===62||rn(S)?ye(S):n(S)}function ve(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),t):n(S)}function be(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),X}function X(S){return qe(S)?Qe(e,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):le(S)}function le(S){return e.enter("htmlTextData"),l(S)}}const bh={name:"labelEnd",resolveAll:XP,resolveTo:eO,tokenize:tO},JP={tokenize:nO},QP={tokenize:rO},YP={tokenize:iO};function XP(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&Xn(e,0,e.length,n),e}function eO(e,t){let n=e.length,r=0,o,a,l,c;for(;n--;)if(o=e[n][1],a){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(a=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(l=n);const h={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[a][1].start},end:{...e[l][1].end}},m={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[l-2][1].start}};return c=[["enter",h,t],["enter",f,t]],c=Cn(c,e.slice(a+1,a+r+3)),c=Cn(c,[["enter",m,t]]),c=Cn(c,wh(t.parser.constructs.insideSpan.null,e.slice(a+r+4,l-3),t)),c=Cn(c,[["exit",m,t],e[l-2],e[l-1],["exit",f,t]]),c=Cn(c,e.slice(l+1)),c=Cn(c,[["exit",h,t]]),Xn(e,a,e.length,c),e}function tO(e,t,n){const r=this;let o=r.events.length,a,l;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){a=r.events[o][1];break}return c;function c(b){return a?a._inactive?g(b):(l=r.parser.defined.includes(ys(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),h):n(b)}function h(b){return b===40?e.attempt(JP,m,l?m:g)(b):b===91?e.attempt(QP,m,l?f:g)(b):l?m(b):g(b)}function f(b){return e.attempt(YP,m,g)(b)}function m(b){return t(b)}function g(b){return a._balanced=!0,n(b)}}function nO(e,t,n){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),o}function o(g){return rn(g)?No(e,a)(g):a(g)}function a(g){return g===41?m(g):b0(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return rn(g)?No(e,h)(g):m(g)}function c(g){return n(g)}function h(g){return g===34||g===39||g===40?_0(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):m(g)}function f(g){return rn(g)?No(e,m)(g):m(g)}function m(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),t):n(g)}}function rO(e,t,n){const r=this;return o;function o(c){return x0.call(r,e,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return r.parser.defined.includes(ys(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function l(c){return n(c)}}function iO(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),o}function o(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const sO={name:"labelStartImage",resolveAll:bh.resolveAll,tokenize:oO};function oO(e,t,n){const r=this;return o;function o(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),a}function a(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const aO={name:"labelStartLink",resolveAll:bh.resolveAll,tokenize:lO};function lO(e,t,n){const r=this;return o;function o(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const rd={name:"lineEnding",tokenize:uO};function uO(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Qe(e,t,"linePrefix")}}const wl={name:"thematicBreak",tokenize:cO};function cO(e,t,n){let r=0,o;return a;function a(f){return e.enter("thematicBreak"),l(f)}function l(f){return o=f,c(f)}function c(f){return f===o?(e.enter("thematicBreakSequence"),h(f)):r>=3&&(f===null||Ae(f))?(e.exit("thematicBreak"),t(f)):n(f)}function h(f){return f===o?(e.consume(f),r++,h):(e.exit("thematicBreakSequence"),qe(f)?Qe(e,c,"whitespace")(f):c(f))}}const tn={continuation:{tokenize:pO},exit:gO,name:"list",tokenize:fO},dO={partial:!0,tokenize:yO},hO={partial:!0,tokenize:mO};function fO(e,t,n){const r=this,o=r.events[r.events.length-1];let a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return c;function c(v){const k=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:Dd(v)){if(r.containerState.type||(r.containerState.type=k,e.enter(k,{_container:!0})),k==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check(wl,n,f)(v):f(v);if(!r.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),h(v)}return n(v)}function h(v){return Dd(v)&&++l<10?(e.consume(v),h):(!r.interrupt||l<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),f(v)):n(v)}function f(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,e.check(Zl,r.interrupt?n:m,e.attempt(dO,b,g))}function m(v){return r.containerState.initialBlankLine=!0,a++,b(v)}function g(v){return qe(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),b):n(v)}function b(v){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(v)}}function pO(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Zl,o,a);function o(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Qe(e,t,"listItemIndent",r.containerState.size+1)(c)}function a(c){return r.containerState.furtherBlankLines||!qe(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(hO,t,l)(c))}function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,Qe(e,e.attempt(tn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function mO(e,t,n){const r=this;return Qe(e,o,"listItemIndent",r.containerState.size+1);function o(a){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(a):n(a)}}function gO(e){e.exit(this.containerState.type)}function yO(e,t,n){const r=this;return Qe(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(a){const l=r.events[r.events.length-1];return!qe(a)&&l&&l[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const oy={name:"setextUnderline",resolveTo:vO,tokenize:wO};function vO(e,t){let n=e.length,r,o,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",a?(e.splice(o,0,["enter",l,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function wO(e,t,n){const r=this;let o;return a;function a(f){let m=r.events.length,g;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){g=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),o=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===o?(e.consume(f),c):(e.exit("setextHeadingLineSequence"),qe(f)?Qe(e,h,"lineSuffix")(f):h(f))}function h(f){return f===null||Ae(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const bO={tokenize:xO};function xO(e){const t=this,n=e.attempt(Zl,r,e.attempt(this.parser.constructs.flowInitial,o,Qe(e,e.attempt(this.parser.constructs.flow,o,e.attempt(CP,o)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const _O={resolveAll:S0()},kO=k0("string"),SO=k0("text");function k0(e){return{resolveAll:S0(e==="text"?EO:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],a=n.attempt(o,l,c);return l;function l(m){return f(m)?a(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),h}function h(m){return f(m)?(n.exit("data"),a(m)):(n.consume(m),h)}function f(m){if(m===null)return!0;const g=o[m];let b=-1;if(g)for(;++b<g.length;){const v=g[b];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function S0(e){return t;function t(n,r){let o=-1,a;for(;++o<=n.length;)a===void 0?n[o]&&n[o][1].type==="data"&&(a=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==a+2&&(n[a][1].end=n[o-1][1].end,n.splice(a+2,o-a-2),o=a+2),a=void 0);return e?e(n,r):n}}function EO(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let a=o.length,l=-1,c=0,h;for(;a--;){const f=o[a];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(f===-2)h=!0,c++;else if(f!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const f={type:n===e.length||h||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:r.start._bufferIndex+l,_index:r.start._index+a,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const CO={42:tn,43:tn,45:tn,48:tn,49:tn,50:tn,51:tn,52:tn,53:tn,54:tn,55:tn,56:tn,57:tn,62:g0},TO={91:OP},jO={[-2]:nd,[-1]:nd,32:nd},NO={35:$P,42:wl,45:[oy,wl],60:FP,61:oy,95:wl,96:iy,126:iy},PO={38:v0,92:y0},OO={[-5]:rd,[-4]:rd,[-3]:rd,33:sO,38:v0,42:Ud,60:[aP,KP],91:aO,92:[zP,y0],93:bh,95:Ud,96:bP},AO={null:[Ud,_O]},RO={null:[42,95]},IO={null:[]},zO=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:RO,contentInitial:TO,disable:IO,document:CO,flow:NO,flowInitial:jO,insideSpan:AO,string:PO,text:OO},Symbol.toStringTag,{value:"Module"}));function LO(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},a=[];let l=[],c=[];const h={attempt:ne(G),check:ne(L),consume:I,enter:z,exit:V,interrupt:ne(L,{interrupt:!0})},f={code:null,containerState:{},defineSkip:_,events:[],now:k,parser:e,previous:null,sliceSerialize:b,sliceStream:v,write:g};let m=t.tokenize.call(f,h);return t.resolveAll&&a.push(t),f;function g(ce){return l=Cn(l,ce),E(),l[l.length-1]!==null?[]:(fe(t,0),f.events=wh(a,f.events,f),f.events)}function b(ce,q){return DO(v(ce),q)}function v(ce){return $O(l,ce)}function k(){const{_bufferIndex:ce,_index:q,line:ae,column:re,offset:J}=r;return{_bufferIndex:ce,_index:q,line:ae,column:re,offset:J}}function _(ce){o[ce.line]=ce.column,ke()}function E(){let ce;for(;r._index<l.length;){const q=l[r._index];if(typeof q=="string")for(ce=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ce&&r._bufferIndex<q.length;)j(q.charCodeAt(r._bufferIndex));else j(q)}}function j(ce){m=m(ce)}function I(ce){Ae(ce)?(r.line++,r.column=1,r.offset+=ce===-3?2:1,ke()):ce!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=ce}function z(ce,q){const ae=q||{};return ae.type=ce,ae.start=k(),f.events.push(["enter",ae,f]),c.push(ae),ae}function V(ce){const q=c.pop();return q.end=k(),f.events.push(["exit",q,f]),q}function G(ce,q){fe(ce,q.from)}function L(ce,q){q.restore()}function ne(ce,q){return ae;function ae(re,J,ve){let be,X,le,S;return Array.isArray(re)?W(re):"tokenize"in re?W([re]):A(re);function A(Se){return Ue;function Ue(ze){const Me=ze!==null&&Se[ze],rt=ze!==null&&Se.null,ln=[...Array.isArray(Me)?Me:Me?[Me]:[],...Array.isArray(rt)?rt:rt?[rt]:[]];return W(ln)(ze)}}function W(Se){return be=Se,X=0,Se.length===0?ve:T(Se[X])}function T(Se){return Ue;function Ue(ze){return S=ye(),le=Se,Se.partial||(f.currentConstruct=Se),Se.name&&f.parser.constructs.disable.null.includes(Se.name)?Ie():Se.tokenize.call(q?Object.assign(Object.create(f),q):f,h,Ee,Ie)(ze)}}function Ee(Se){return ce(le,S),J}function Ie(Se){return S.restore(),++X<be.length?T(be[X]):ve}}}function fe(ce,q){ce.resolveAll&&!a.includes(ce)&&a.push(ce),ce.resolve&&Xn(f.events,q,f.events.length-q,ce.resolve(f.events.slice(q),f)),ce.resolveTo&&(f.events=ce.resolveTo(f.events,f))}function ye(){const ce=k(),q=f.previous,ae=f.currentConstruct,re=f.events.length,J=Array.from(c);return{from:re,restore:ve};function ve(){r=ce,f.previous=q,f.currentConstruct=ae,f.events.length=re,c=J,ke()}}function ke(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function $O(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,a=t.end._bufferIndex;let l;if(n===o)l=[e[n].slice(r,a)];else{if(l=e.slice(n,o),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}a>0&&l.push(e[o].slice(0,a))}return l}function DO(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const a=e[n];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&o)continue;l=" ";break}default:l=String.fromCharCode(a)}o=a===-2,r.push(l)}return r.join("")}function UO(e){const r={constructs:WN([zO,...(e||{}).extensions||[]]),content:o(eP),defined:[],document:o(nP),flow:o(bO),lazy:{},string:o(kO),text:o(SO)};return r;function o(a){return l;function l(c){return LO(r,a,c)}}}function MO(e){for(;!w0(e););return e}const ay=/[\0\t\n\r]/g;function FO(){let e=1,t="",n=!0,r;return o;function o(a,l,c){const h=[];let f,m,g,b,v;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),g=0,t="",n&&(a.charCodeAt(0)===65279&&g++,n=void 0);g<a.length;){if(ay.lastIndex=g,f=ay.exec(a),b=f&&f.index!==void 0?f.index:a.length,v=a.charCodeAt(b),!f){t=a.slice(g);break}if(v===10&&g===b&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),g<b&&(h.push(a.slice(g,b)),e+=b-g),v){case 0:{h.push(65533),e++;break}case 9:{for(m=Math.ceil(e/4)*4,h.push(-2);e++<m;)h.push(-1);break}case 10:{h.push(-4),e=1;break}default:r=!0,e=1}g=b+1}return c&&(r&&h.push(-5),t&&h.push(t),h.push(null)),h}}const BO=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function VO(e){return e.replace(BO,qO)}function qO(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),a=o===120||o===88;return m0(n.slice(a?2:1),a?16:10)}return vh(n)||e}const E0={}.hasOwnProperty;function HO(e,t,n){return typeof t!="string"&&(n=t,t=void 0),WO(n)(MO(UO(n).document().write(FO()(e,t,!0))))}function WO(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Jr),autolinkProtocol:ye,autolinkEmail:ye,atxHeading:a(fr),blockQuote:a(rt),characterEscape:ye,characterReference:ye,codeFenced:a(ln),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(ln,l),codeText:a(_i,l),codeTextData:ye,data:ye,codeFlowValue:ye,definition:a(er),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(Gr),hardBreakEscape:a(pr),hardBreakTrailing:a(pr),htmlFlow:a(mr,l),htmlFlowData:ye,htmlText:a(mr,l),htmlTextData:ye,image:a(ki),label:l,link:a(Jr),listItem:a(N),listItemValue:b,listOrdered:a(jn,g),listUnordered:a(jn),paragraph:a(D),reference:T,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(fr),strong:a(B),thematicBreak:a(ie)},exit:{atxHeading:h(),atxHeadingSequence:G,autolink:h(),autolinkEmail:Me,autolinkProtocol:ze,blockQuote:h(),characterEscapeValue:ke,characterReferenceMarkerHexadecimal:Ie,characterReferenceMarkerNumeric:Ie,characterReferenceValue:Se,characterReference:Ue,codeFenced:h(E),codeFencedFence:_,codeFencedFenceInfo:v,codeFencedFenceMeta:k,codeFlowValue:ke,codeIndented:h(j),codeText:h(J),codeTextData:ke,data:ke,definition:h(),definitionDestinationString:V,definitionLabelString:I,definitionTitleString:z,emphasis:h(),hardBreakEscape:h(q),hardBreakTrailing:h(q),htmlFlow:h(ae),htmlFlowData:ke,htmlText:h(re),htmlTextData:ke,image:h(be),label:le,labelText:X,lineEnding:ce,link:h(ve),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:Ee,resourceDestinationString:S,resourceTitleString:A,resource:W,setextHeading:h(fe),setextHeadingLineSequence:ne,setextHeadingText:L,strong:h(),thematicBreak:h()}};C0(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(O){let F={type:"root",children:[]};const se={stack:[F],tokenStack:[],config:t,enter:c,exit:f,buffer:l,resume:m,data:n},de=[];let Ne=-1;for(;++Ne<O.length;)if(O[Ne][1].type==="listOrdered"||O[Ne][1].type==="listUnordered")if(O[Ne][0]==="enter")de.push(Ne);else{const Ye=de.pop();Ne=o(O,Ye,Ne)}for(Ne=-1;++Ne<O.length;){const Ye=t[O[Ne][0]];E0.call(Ye,O[Ne][1].type)&&Ye[O[Ne][1].type].call(Object.assign({sliceSerialize:O[Ne][2].sliceSerialize},se),O[Ne][1])}if(se.tokenStack.length>0){const Ye=se.tokenStack[se.tokenStack.length-1];(Ye[1]||ly).call(se,void 0,Ye[0])}for(F.position={start:$r(O.length>0?O[0][1].start:{line:1,column:1,offset:0}),end:$r(O.length>0?O[O.length-2][1].end:{line:1,column:1,offset:0})},Ne=-1;++Ne<t.transforms.length;)F=t.transforms[Ne](F)||F;return F}function o(O,F,se){let de=F-1,Ne=-1,Ye=!1,Pt,Kt,wn,Nn;for(;++de<=se;){const Et=O[de];switch(Et[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Et[0]==="enter"?Ne++:Ne--,Nn=void 0;break}case"lineEndingBlank":{Et[0]==="enter"&&(Pt&&!Nn&&!Ne&&!wn&&(wn=de),Nn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Nn=void 0}if(!Ne&&Et[0]==="enter"&&Et[1].type==="listItemPrefix"||Ne===-1&&Et[0]==="exit"&&(Et[1].type==="listUnordered"||Et[1].type==="listOrdered")){if(Pt){let un=de;for(Kt=void 0;un--;){const Vt=O[un];if(Vt[1].type==="lineEnding"||Vt[1].type==="lineEndingBlank"){if(Vt[0]==="exit")continue;Kt&&(O[Kt][1].type="lineEndingBlank",Ye=!0),Vt[1].type="lineEnding",Kt=un}else if(!(Vt[1].type==="linePrefix"||Vt[1].type==="blockQuotePrefix"||Vt[1].type==="blockQuotePrefixWhitespace"||Vt[1].type==="blockQuoteMarker"||Vt[1].type==="listItemIndent"))break}wn&&(!Kt||wn<Kt)&&(Pt._spread=!0),Pt.end=Object.assign({},Kt?O[Kt][1].start:Et[1].end),O.splice(Kt||de,0,["exit",Pt,Et[2]]),de++,se++}if(Et[1].type==="listItemPrefix"){const un={type:"listItem",_spread:!1,start:Object.assign({},Et[1].start),end:void 0};Pt=un,O.splice(de,0,["enter",un,Et[2]]),de++,se++,wn=void 0,Nn=!0}}}return O[F][1]._spread=Ye,se}function a(O,F){return se;function se(de){c.call(this,O(de),de),F&&F.call(this,de)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(O,F,se){this.stack[this.stack.length-1].children.push(O),this.stack.push(O),this.tokenStack.push([F,se||void 0]),O.position={start:$r(F.start),end:void 0}}function h(O){return F;function F(se){O&&O.call(this,se),f.call(this,se)}}function f(O,F){const se=this.stack.pop(),de=this.tokenStack.pop();if(de)de[0].type!==O.type&&(F?F.call(this,O,de[0]):(de[1]||ly).call(this,O,de[0]));else throw new Error("Cannot close `"+O.type+"` ("+jo({start:O.start,end:O.end})+"): its not open");se.position.end=$r(O.end)}function m(){return qN(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function b(O){if(this.data.expectingFirstListItemValue){const F=this.stack[this.stack.length-2];F.start=Number.parseInt(this.sliceSerialize(O),10),this.data.expectingFirstListItemValue=void 0}}function v(){const O=this.resume(),F=this.stack[this.stack.length-1];F.lang=O}function k(){const O=this.resume(),F=this.stack[this.stack.length-1];F.meta=O}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const O=this.resume(),F=this.stack[this.stack.length-1];F.value=O.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function j(){const O=this.resume(),F=this.stack[this.stack.length-1];F.value=O.replace(/(\r?\n|\r)$/g,"")}function I(O){const F=this.resume(),se=this.stack[this.stack.length-1];se.label=F,se.identifier=ys(this.sliceSerialize(O)).toLowerCase()}function z(){const O=this.resume(),F=this.stack[this.stack.length-1];F.title=O}function V(){const O=this.resume(),F=this.stack[this.stack.length-1];F.url=O}function G(O){const F=this.stack[this.stack.length-1];if(!F.depth){const se=this.sliceSerialize(O).length;F.depth=se}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function ne(O){const F=this.stack[this.stack.length-1];F.depth=this.sliceSerialize(O).codePointAt(0)===61?1:2}function fe(){this.data.setextHeadingSlurpLineEnding=void 0}function ye(O){const se=this.stack[this.stack.length-1].children;let de=se[se.length-1];(!de||de.type!=="text")&&(de=oe(),de.position={start:$r(O.start),end:void 0},se.push(de)),this.stack.push(de)}function ke(O){const F=this.stack.pop();F.value+=this.sliceSerialize(O),F.position.end=$r(O.end)}function ce(O){const F=this.stack[this.stack.length-1];if(this.data.atHardBreak){const se=F.children[F.children.length-1];se.position.end=$r(O.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(F.type)&&(ye.call(this,O),ke.call(this,O))}function q(){this.data.atHardBreak=!0}function ae(){const O=this.resume(),F=this.stack[this.stack.length-1];F.value=O}function re(){const O=this.resume(),F=this.stack[this.stack.length-1];F.value=O}function J(){const O=this.resume(),F=this.stack[this.stack.length-1];F.value=O}function ve(){const O=this.stack[this.stack.length-1];if(this.data.inReference){const F=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=F,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function be(){const O=this.stack[this.stack.length-1];if(this.data.inReference){const F=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=F,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function X(O){const F=this.sliceSerialize(O),se=this.stack[this.stack.length-2];se.label=VO(F),se.identifier=ys(F).toLowerCase()}function le(){const O=this.stack[this.stack.length-1],F=this.resume(),se=this.stack[this.stack.length-1];if(this.data.inReference=!0,se.type==="link"){const de=O.children;se.children=de}else se.alt=F}function S(){const O=this.resume(),F=this.stack[this.stack.length-1];F.url=O}function A(){const O=this.resume(),F=this.stack[this.stack.length-1];F.title=O}function W(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function Ee(O){const F=this.resume(),se=this.stack[this.stack.length-1];se.label=F,se.identifier=ys(this.sliceSerialize(O)).toLowerCase(),this.data.referenceType="full"}function Ie(O){this.data.characterReferenceType=O.type}function Se(O){const F=this.sliceSerialize(O),se=this.data.characterReferenceType;let de;se?(de=m0(F,se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):de=vh(F);const Ne=this.stack[this.stack.length-1];Ne.value+=de}function Ue(O){const F=this.stack.pop();F.position.end=$r(O.end)}function ze(O){ke.call(this,O);const F=this.stack[this.stack.length-1];F.url=this.sliceSerialize(O)}function Me(O){ke.call(this,O);const F=this.stack[this.stack.length-1];F.url="mailto:"+this.sliceSerialize(O)}function rt(){return{type:"blockquote",children:[]}}function ln(){return{type:"code",lang:null,meta:null,value:""}}function _i(){return{type:"inlineCode",value:""}}function er(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Gr(){return{type:"emphasis",children:[]}}function fr(){return{type:"heading",depth:0,children:[]}}function pr(){return{type:"break"}}function mr(){return{type:"html",value:""}}function ki(){return{type:"image",title:null,url:"",alt:null}}function Jr(){return{type:"link",title:null,url:"",children:[]}}function jn(O){return{type:"list",ordered:O.type==="listOrdered",start:null,spread:O._spread,children:[]}}function N(O){return{type:"listItem",spread:O._spread,checked:null,children:[]}}function D(){return{type:"paragraph",children:[]}}function B(){return{type:"strong",children:[]}}function oe(){return{type:"text",value:""}}function ie(){return{type:"thematicBreak"}}}function $r(e){return{line:e.line,column:e.column,offset:e.offset}}function C0(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?C0(e,r):ZO(e,r)}}function ZO(e,t){let n;for(n in t)if(E0.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function ly(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+jo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+jo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+jo({start:t.start,end:t.end})+") is still open")}function KO(e){const t=this;t.parser=n;function n(r){return HO(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function GO(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function JO(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function QO(e,t){const n=t.value?t.value+`
`:"",r={},o=t.lang?t.lang.split(/\s+/):[];o.length>0&&(r.className=["language-"+o[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function YO(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function XO(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function eA(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=Ts(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let l,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=a+1,c+=1,e.footnoteCounts.set(r,c);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,h);const f={type:"element",tagName:"sup",properties:{},children:[h]};return e.patch(t,f),e.applyData(t,f)}function tA(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nA(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function T0(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),a=o[0];a&&a.type==="text"?a.value="["+a.value:o.unshift({type:"text",value:"["});const l=o[o.length-1];return l&&l.type==="text"?l.value+=r:o.push({type:"text",value:r}),o}function rA(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return T0(e,t);const o={src:Ts(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const a={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,a),e.applyData(t,a)}function iA(e,t){const n={src:Ts(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function sA(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function oA(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return T0(e,t);const o={href:Ts(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const a={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function aA(e,t){const n={href:Ts(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function lA(e,t,n){const r=e.all(t),o=n?uA(n):j0(t),a={},l=[];if(typeof t.checked=="boolean"){const m=r[0];let g;m&&m.type==="element"&&m.tagName==="p"?g=m:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(o||c!==0||m.type!=="element"||m.tagName!=="p")&&l.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!o?l.push(...m.children):l.push(m)}const h=r[r.length-1];h&&(o||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:a,children:l};return e.patch(t,f),e.applyData(t,f)}function uA(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=j0(n[r])}return t}function j0(e){const t=e.spread;return t??e.children.length>1}function cA(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const l=r[o];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function dA(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function hA(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function fA(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pA(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),o.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=ph(t.children[1]),h=l0(t.children[t.children.length-1]);c&&h&&(l.position={start:c,end:h}),o.push(l)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,a),e.applyData(t,a)}function mA(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:t.children.length;let h=-1;const f=[];for(;++h<c;){const g=t.children[h],b={},v=l?l[h]:void 0;v&&(b.align=v);let k={type:"element",tagName:a,properties:b,children:[]};g&&(k.children=e.all(g),e.patch(g,k),k=e.applyData(g,k)),f.push(k)}const m={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,m),e.applyData(t,m)}function gA(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const uy=9,cy=32;function yA(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const a=[];for(;r;)a.push(dy(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return a.push(dy(t.slice(o),o>0,!1)),a.join("")}function dy(e,t,n){let r=0,o=e.length;if(t){let a=e.codePointAt(r);for(;a===uy||a===cy;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(o-1);for(;a===uy||a===cy;)o--,a=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function vA(e,t){const n={type:"text",value:yA(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function wA(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const bA={blockquote:GO,break:JO,code:QO,delete:YO,emphasis:XO,footnoteReference:eA,heading:tA,html:nA,imageReference:rA,image:iA,inlineCode:sA,linkReference:oA,link:aA,listItem:lA,list:cA,paragraph:dA,root:hA,strong:fA,table:pA,tableCell:gA,tableRow:mA,text:vA,thematicBreak:wA,toml:gl,yaml:gl,definition:gl,footnoteDefinition:gl};function gl(){}const N0=-1,Kl=0,Po=1,Nl=2,xh=3,_h=4,kh=5,Sh=6,P0=7,O0=8,hy=typeof self=="object"?self:globalThis,xA=(e,t)=>{const n=(o,a)=>(e.set(a,o),o),r=o=>{if(e.has(o))return e.get(o);const[a,l]=t[o];switch(a){case Kl:case N0:return n(l,o);case Po:{const c=n([],o);for(const h of l)c.push(r(h));return c}case Nl:{const c=n({},o);for(const[h,f]of l)c[r(h)]=r(f);return c}case xh:return n(new Date(l),o);case _h:{const{source:c,flags:h}=l;return n(new RegExp(c,h),o)}case kh:{const c=n(new Map,o);for(const[h,f]of l)c.set(r(h),r(f));return c}case Sh:{const c=n(new Set,o);for(const h of l)c.add(r(h));return c}case P0:{const{name:c,message:h}=l;return n(new hy[c](h),o)}case O0:return n(BigInt(l),o);case"BigInt":return n(Object(BigInt(l)),o);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new hy[a](l),o)};return r},fy=e=>xA(new Map,e)(0),is="",{toString:_A}={},{keys:kA}=Object,xo=e=>{const t=typeof e;if(t!=="object"||!e)return[Kl,t];const n=_A.call(e).slice(8,-1);switch(n){case"Array":return[Po,is];case"Object":return[Nl,is];case"Date":return[xh,is];case"RegExp":return[_h,is];case"Map":return[kh,is];case"Set":return[Sh,is];case"DataView":return[Po,n]}return n.includes("Array")?[Po,n]:n.includes("Error")?[P0,n]:[Nl,n]},yl=([e,t])=>e===Kl&&(t==="function"||t==="symbol"),SA=(e,t,n,r)=>{const o=(l,c)=>{const h=r.push(l)-1;return n.set(c,h),h},a=l=>{if(n.has(l))return n.get(l);let[c,h]=xo(l);switch(c){case Kl:{let m=l;switch(h){case"bigint":c=O0,m=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+h);m=null;break;case"undefined":return o([N0],l)}return o([c,m],l)}case Po:{if(h){let b=l;return h==="DataView"?b=new Uint8Array(l.buffer):h==="ArrayBuffer"&&(b=new Uint8Array(l)),o([h,[...b]],l)}const m=[],g=o([c,m],l);for(const b of l)m.push(a(b));return g}case Nl:{if(h)switch(h){case"BigInt":return o([h,l.toString()],l);case"Boolean":case"Number":case"String":return o([h,l.valueOf()],l)}if(t&&"toJSON"in l)return a(l.toJSON());const m=[],g=o([c,m],l);for(const b of kA(l))(e||!yl(xo(l[b])))&&m.push([a(b),a(l[b])]);return g}case xh:return o([c,l.toISOString()],l);case _h:{const{source:m,flags:g}=l;return o([c,{source:m,flags:g}],l)}case kh:{const m=[],g=o([c,m],l);for(const[b,v]of l)(e||!(yl(xo(b))||yl(xo(v))))&&m.push([a(b),a(v)]);return g}case Sh:{const m=[],g=o([c,m],l);for(const b of l)(e||!yl(xo(b)))&&m.push(a(b));return g}}const{message:f}=l;return o([c,{name:h,message:f}],l)};return a},py=(e,{json:t,lossy:n}={})=>{const r=[];return SA(!(t||n),!!t,new Map,r)(e),r},Pl=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?fy(py(e,t)):structuredClone(e):(e,t)=>fy(py(e,t));function EA(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function CA(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function TA(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||EA,r=e.options.footnoteBackLabel||CA,o=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let h=-1;for(;++h<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[h]);if(!f)continue;const m=e.all(f),g=String(f.identifier).toUpperCase(),b=Ts(g.toLowerCase());let v=0;const k=[],_=e.footnoteCounts.get(g);for(;_!==void 0&&++v<=_;){k.length>0&&k.push({type:"text",value:" "});let I=typeof n=="string"?n:n(h,v);typeof I=="string"&&(I={type:"text",value:I}),k.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+b+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,v),className:["data-footnote-backref"]},children:Array.isArray(I)?I:[I]})}const E=m[m.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const I=E.children[E.children.length-1];I&&I.type==="text"?I.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...k)}else m.push(...k);const j={type:"element",tagName:"li",properties:{id:t+"fn-"+b},children:e.wrap(m,!0)};e.patch(f,j),c.push(j)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Pl(l),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const A0=(function(e){if(e==null)return OA;if(typeof e=="function")return Gl(e);if(typeof e=="object")return Array.isArray(e)?jA(e):NA(e);if(typeof e=="string")return PA(e);throw new Error("Expected function, string, or object as test")});function jA(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=A0(e[n]);return Gl(r);function r(...o){let a=-1;for(;++a<t.length;)if(t[a].apply(this,o))return!0;return!1}}function NA(e){const t=e;return Gl(n);function n(r){const o=r;let a;for(a in e)if(o[a]!==t[a])return!1;return!0}}function PA(e){return Gl(t);function t(n){return n&&n.type===e}}function Gl(e){return t;function t(n,r,o){return!!(AA(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function OA(){return!0}function AA(e){return e!==null&&typeof e=="object"&&"type"in e}const R0=[],RA=!0,my=!1,IA="skip";function zA(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const a=A0(o),l=r?-1:1;c(e,void 0,[])();function c(h,f,m){const g=h&&typeof h=="object"?h:{};if(typeof g.type=="string"){const v=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(h.type+(v?"<"+v+">":""))+")"})}return b;function b(){let v=R0,k,_,E;if((!t||a(h,f,m[m.length-1]||void 0))&&(v=LA(n(h,m)),v[0]===my))return v;if("children"in h&&h.children){const j=h;if(j.children&&v[0]!==IA)for(_=(r?j.children.length:-1)+l,E=m.concat(j);_>-1&&_<j.children.length;){const I=j.children[_];if(k=c(I,_,E)(),k[0]===my)return k;_=typeof k[1]=="number"?k[1]:_+l}}return v}}}function LA(e){return Array.isArray(e)?e:typeof e=="number"?[RA,e]:e==null?R0:[e]}function I0(e,t,n,r){let o,a,l;typeof t=="function"&&typeof n!="function"?(a=void 0,l=t,o=n):(a=t,l=n,o=r),zA(e,a,c,o);function c(h,f){const m=f[f.length-1],g=m?m.children.indexOf(h):void 0;return l(h,g,m)}}const Md={}.hasOwnProperty,$A={};function DA(e,t){const n=t||$A,r=new Map,o=new Map,a=new Map,l={...bA,...n.handlers},c={all:f,applyData:MA,definitionById:r,footnoteById:o,footnoteCounts:a,footnoteOrder:[],handlers:l,one:h,options:n,patch:UA,wrap:BA};return I0(e,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const g=m.type==="definition"?r:o,b=String(m.identifier).toUpperCase();g.has(b)||g.set(b,m)}}),c;function h(m,g){const b=m.type,v=c.handlers[b];if(Md.call(c.handlers,b)&&v)return v(c,m,g);if(c.options.passThrough&&c.options.passThrough.includes(b)){if("children"in m){const{children:_,...E}=m,j=Pl(E);return j.children=c.all(m),j}return Pl(m)}return(c.options.unknownHandler||FA)(c,m,g)}function f(m){const g=[];if("children"in m){const b=m.children;let v=-1;for(;++v<b.length;){const k=c.one(b[v],m);if(k){if(v&&b[v-1].type==="break"&&(!Array.isArray(k)&&k.type==="text"&&(k.value=gy(k.value)),!Array.isArray(k)&&k.type==="element")){const _=k.children[0];_&&_.type==="text"&&(_.value=gy(_.value))}Array.isArray(k)?g.push(...k):g.push(k)}}}return g}}function UA(e,t){e.position&&(t.position=_N(e))}function MA(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&a&&Object.assign(n.properties,Pl(a)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function FA(e,t){const n=t.data||{},r="value"in t&&!(Md.call(n,"hProperties")||Md.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function BA(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function gy(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function yy(e,t){const n=DA(e,t),r=n.one(e,void 0),o=TA(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&a.children.push({type:"text",value:`
`},o),a}function VA(e,t){return e&&"run"in e?async function(n,r){const o=yy(n,{file:r,...t});await e.run(o,r)}:function(n,r){return yy(n,{file:r,...e||t})}}function vy(e){if(e)throw e}var id,wy;function qA(){if(wy)return id;wy=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},a=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var m=e.call(f,"constructor"),g=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!m&&!g)return!1;var b;for(b in f);return typeof b>"u"||e.call(f,b)},l=function(f,m){n&&m.name==="__proto__"?n(f,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):f[m.name]=m.newValue},c=function(f,m){if(m==="__proto__")if(e.call(f,m)){if(r)return r(f,m).value}else return;return f[m]};return id=function h(){var f,m,g,b,v,k,_=arguments[0],E=1,j=arguments.length,I=!1;for(typeof _=="boolean"&&(I=_,_=arguments[1]||{},E=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});E<j;++E)if(f=arguments[E],f!=null)for(m in f)g=c(_,m),b=c(f,m),_!==b&&(I&&b&&(a(b)||(v=o(b)))?(v?(v=!1,k=g&&o(g)?g:[]):k=g&&a(g)?g:{},l(_,{name:m,newValue:h(I,k,b)})):typeof b<"u"&&l(_,{name:m,newValue:b}));return _},id}var HA=qA();const sd=Ol(HA);function Fd(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function WA(){const e=[],t={run:n,use:r};return t;function n(...o){let a=-1;const l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...o);function c(h,...f){const m=e[++a];let g=-1;if(h){l(h);return}for(;++g<o.length;)(f[g]===null||f[g]===void 0)&&(f[g]=o[g]);o=f,m?ZA(m,c)(...f):l(null,...f)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function ZA(e,t){let n;return r;function r(...l){const c=e.length>l.length;let h;c&&l.push(o);try{h=e.apply(this,l)}catch(f){const m=f;if(c&&n)throw m;return o(m)}c||(h&&h.then&&typeof h.then=="function"?h.then(a,o):h instanceof Error?o(h):a(h))}function o(l,...c){n||(n=!0,t(l,...c))}function a(l){o(null,l)}}const Gn={basename:KA,dirname:GA,extname:JA,join:QA,sep:"/"};function KA(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Jo(e);let n=0,r=-1,o=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(a){n=o+1;break}}else r<0&&(a=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,c=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(a){n=o+1;break}}else l<0&&(a=!0,l=o+1),c>-1&&(e.codePointAt(o)===t.codePointAt(c--)?c<0&&(r=o):(c=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function GA(e){if(Jo(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function JA(e){Jo(e);let t=e.length,n=-1,r=0,o=-1,a=0,l;for(;t--;){const c=e.codePointAt(t);if(c===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),c===46?o<0?o=t:a!==1&&(a=1):o>-1&&(a=-1)}return o<0||n<0||a===0||a===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function QA(...e){let t=-1,n;for(;++t<e.length;)Jo(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":YA(n)}function YA(e){Jo(e);const t=e.codePointAt(0)===47;let n=XA(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function XA(e,t){let n="",r=0,o=-1,a=0,l=-1,c,h;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(o===l-1||a===1))if(o!==l-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),o=l,a=0;continue}}else if(n.length>0){n="",r=0,o=l,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,l):n=e.slice(o+1,l),r=l-o-1;o=l,a=0}else c===46&&a>-1?a++:a=-1}return n}function Jo(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const eR={cwd:tR};function tR(){return"/"}function Bd(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function nR(e){if(typeof e=="string")e=new URL(e);else if(!Bd(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return rR(e)}function rR(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const od=["history","path","basename","stem","extname","dirname"];class z0{constructor(t){let n;t?Bd(t)?n={path:t}:typeof t=="string"||iR(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":eR.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<od.length;){const a=od[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let o;for(o in n)od.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Gn.basename(this.path):void 0}set basename(t){ld(t,"basename"),ad(t,"basename"),this.path=Gn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Gn.dirname(this.path):void 0}set dirname(t){by(this.basename,"dirname"),this.path=Gn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Gn.extname(this.path):void 0}set extname(t){if(ad(t,"extname"),by(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Gn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Bd(t)&&(t=nR(t)),ld(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Gn.basename(this.path,this.extname):void 0}set stem(t){ld(t,"stem"),ad(t,"stem"),this.path=Gn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new Bt(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function ad(e,t){if(e&&e.includes(Gn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Gn.sep+"`")}function ld(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function by(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function iR(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const sR=(function(e){const r=this.constructor.prototype,o=r[e],a=function(){return o.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),oR={}.hasOwnProperty;class Eh extends sR{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=WA()}copy(){const t=new Eh;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(sd(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(dd("data",this.frozen),this.namespace[t]=n,this):oR.call(this.namespace,t)&&this.namespace[t]||void 0:t?(dd("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=vl(t),r=this.parser||this.Parser;return ud("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ud("process",this.parser||this.Parser),cd("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(a,l){const c=vl(t),h=r.parse(c);r.run(h,c,function(m,g,b){if(m||!g||!b)return f(m);const v=g,k=r.stringify(v,b);uR(k)?b.value=k:b.result=k,f(m,b)});function f(m,g){m||!g?l(m):a?a(g):n(void 0,g)}}}processSync(t){let n=!1,r;return this.freeze(),ud("processSync",this.parser||this.Parser),cd("processSync",this.compiler||this.Compiler),this.process(t,o),_y("processSync","process",n),r;function o(a,l){n=!0,vy(a),r=l}}run(t,n,r){xy(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(l,c){const h=vl(n);o.run(t,h,f);function f(m,g,b){const v=g||t;m?c(m):l?l(v):r(void 0,v,b)}}}runSync(t,n){let r=!1,o;return this.run(t,n,a),_y("runSync","run",r),o;function a(l,c){vy(l),o=c,r=!0}}stringify(t,n){this.freeze();const r=vl(n),o=this.compiler||this.Compiler;return cd("stringify",o),xy(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(dd("use",this.frozen),t!=null)if(typeof t=="function")h(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(f){if(typeof f=="function")h(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[m,...g]=f;h(m,g)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(o.settings=sd(!0,o.settings,f.settings))}function c(f){let m=-1;if(f!=null)if(Array.isArray(f))for(;++m<f.length;){const g=f[m];a(g)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function h(f,m){let g=-1,b=-1;for(;++g<r.length;)if(r[g][0]===f){b=g;break}if(b===-1)r.push([f,...m]);else if(m.length>0){let[v,...k]=m;const _=r[b][1];Fd(_)&&Fd(v)&&(v=sd(!0,_,v)),r[b]=[f,v,...k]}}}}const aR=new Eh().freeze();function ud(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function cd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function dd(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function xy(e){if(!Fd(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function _y(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function vl(e){return lR(e)?e:new z0(e)}function lR(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function uR(e){return typeof e=="string"||cR(e)}function cR(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const dR="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ky=[],Sy={allowDangerousHtml:!0},hR=/^(https?|ircs?|mailto|xmpp)$/i,fR=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function pR(e){const t=mR(e),n=gR(e);return yR(t.runSync(t.parse(n),n),e)}function mR(e){const t=e.rehypePlugins||ky,n=e.remarkPlugins||ky,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Sy}:Sy;return aR().use(KO).use(n).use(VA,r).use(t)}function gR(e){const t=e.children||"",n=new z0;return typeof t=="string"&&(n.value=t),n}function yR(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,a=t.disallowedElements,l=t.skipHtml,c=t.unwrapDisallowed,h=t.urlTransform||vR;for(const m of fR)Object.hasOwn(t,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+dR+m.id,void 0);return I0(e,f),TN(e,{Fragment:w.Fragment,components:o,ignoreInvalidStyle:!0,jsx:w.jsx,jsxs:w.jsxs,passKeys:!0,passNode:!0});function f(m,g,b){if(m.type==="raw"&&b&&typeof g=="number")return l?b.children.splice(g,1):b.children[g]={type:"text",value:m.value},g;if(m.type==="element"){let v;for(v in td)if(Object.hasOwn(td,v)&&Object.hasOwn(m.properties,v)){const k=m.properties[v],_=td[v];(_===null||_.includes(m.tagName))&&(m.properties[v]=h(String(k||""),v,m))}}if(m.type==="element"){let v=n?!n.includes(m.tagName):a?a.includes(m.tagName):!1;if(!v&&r&&typeof g=="number"&&(v=!r(m,g,b)),v&&b&&typeof g=="number")return c&&m.children?b.children.splice(g,1,...m.children):b.children.splice(g,1),g}}}function vR(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||hR.test(e.slice(0,t))?e:""}const wR=({isOpen:e,onClose:t,guideline:n})=>!e||!n?null:w.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-in fade-in duration-300",children:w.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-3xl shadow-2xl flex flex-col max-h-[90vh] overflow-hidden border border-white",children:[w.jsx("div",{className:"relative p-6 border-b border-slate-100 bg-slate-50/50",children:w.jsxs("div",{className:"flex justify-between items-start pr-10",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsxs("span",{className:"bg-blue-600 text-white text-[10px] font-black px-2 py-0.5 rounded uppercase tracking-widest flex items-center gap-1",children:[w.jsx(y1,{size:12})," ",n.source_name||"Ngun chnh thng"]}),w.jsxs("span",{className:"text-slate-400 text-xs font-bold flex items-center gap-1",children:[w.jsx(sv,{size:12})," ",n.year||"2024"]})]}),w.jsx("h2",{className:"text-2xl font-black text-slate-900 leading-tight",children:n.title||n.disease_name})]}),w.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 bg-white border border-slate-200 rounded-full text-slate-400 hover:text-red-500 hover:border-red-200 transition-all shadow-sm",children:w.jsx(Wo,{size:20})})]})}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:[w.jsxs("div",{className:"bg-blue-50/50 border border-blue-100 p-5 rounded-2xl mb-8",children:[w.jsxs("h4",{className:"text-blue-700 font-bold text-sm uppercase tracking-wider mb-2 flex items-center gap-2",children:[w.jsx(ov,{size:18})," Tm tt khuyn co (Quick Summary)"]}),w.jsx("p",{className:"text-blue-900 italic mb-0 leading-relaxed font-medium",children:n.quick_summary})]}),w.jsx("div",{className:"prose prose-slate max-w-none prose-headings:font-black prose-a:text-blue-600",children:n.full_text_md?w.jsx(pR,{children:n.full_text_md}):w.jsx("p",{className:"text-slate-400 italic",children:"Chi tit phc  ang c cp nht..."})})]}),w.jsxs("div",{className:"p-4 bg-slate-50 border-t border-slate-100 flex justify-between items-center",children:[w.jsx("p",{className:"text-[10px] text-slate-400 font-medium italic",children:"* Ni dung mang tnh cht tham kho chuyn mn."}),w.jsxs("div",{className:"flex gap-3",children:[w.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-600 hover:bg-slate-100 transition-colors",onClick:()=>window.print(),children:[w.jsx(_1,{size:14})," In phc "]}),w.jsx("button",{className:"px-6 py-2 bg-slate-900 text-white rounded-xl text-xs font-bold hover:bg-slate-800 transition-all",onClick:t,children:"ng"})]})]})]})}),bR=({onAiGenerate:e})=>{const{t}=sn(),{register:n,watch:r,setValue:o,formState:{errors:a}}=Ko(),[l,c]=Z.useState([]),[h,f]=Z.useState(null),m=r("diagnosis.icd10");return Z.useEffect(()=>{(async()=>{if(!m){c([]);return}try{const b=m.split(" - ")[0].trim(),{data:v,error:k}=await nt.from("guidelines").select("*").contains("icd10_codes",[b]);if(k)throw k;c(v||[])}catch(b){console.error("Li ti Guideline:",b)}})()},[m]),w.jsxs(w.Fragment,{children:[w.jsx("div",{id:"sec-prelim",className:"scroll-mt-24",children:w.jsx(wi,{title:t.prelim,icon:L1,children:w.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[w.jsxs("div",{children:[w.jsx(Br,{label:t.prelim,...n("diagnosis.preliminary")}),w.jsx(Bn,{label:t.diffDiag,...n("diagnosis.differential"),className:"mt-4"})]}),w.jsxs("div",{className:"bg-slate-50 p-5 rounded-xl border border-slate-200",children:[w.jsx(Yn,{label:t.workups}),w.jsx("div",{className:"mt-2 space-y-4",children:p1.map(({id:g,label:b})=>w.jsx(Jj,{label:b,files:r(`files.${g}`)||[],onUpload:v=>o(`files.${g}`,[...r(`files.${g}`)||[],...v],{shouldValidate:!0}),onDelete:v=>{const k=r(`files.${g}`)||[];o(`files.${g}`,k.filter((_,E)=>E!==v))}},g))})]})]})})}),w.jsx("div",{id:"sec-final",className:"scroll-mt-24 mt-8",children:w.jsxs(wi,{title:t.final,icon:Kd,children:[w.jsxs("div",{className:"relative",children:[w.jsx(Br,{label:t.summary,rows:3,mic:!0,...n("diagnosis.summary")}),w.jsxs("button",{type:"button",onClick:e,className:"absolute top-0 right-0 mt-[-2px] text-xs font-bold text-blue-600 bg-blue-50 px-3 py-1.5 rounded-lg flex items-center gap-1 hover:bg-blue-100 transition",children:[w.jsx(M1,{size:14})," ",t.aiGen]})]}),w.jsxs("div",{className:"grid md:grid-cols-3 gap-6 items-start mt-4",children:[w.jsx("div",{className:"md:col-span-2",children:w.jsx(Bn,{label:t.finalDiag,...n("diagnosis.final"),error:a.diagnosis?.final,required:!0})}),w.jsx("div",{children:w.jsx(Yj,{value:r("diagnosis.icd10"),onChange:g=>o("diagnosis.icd10",g,{shouldValidate:!0}),error:a.diagnosis?.icd10})})]}),l.length>0&&w.jsxs("div",{className:"mt-6 animate-in slide-in-from-top-2 fade-in",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx(O1,{size:18,className:"text-amber-500 fill-amber-500"}),w.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Gi  iu tr lin quan"})]}),w.jsx("div",{className:"grid gap-3",children:l.map(g=>w.jsxs("div",{onClick:()=>f(g),className:"group bg-amber-50/50 border border-amber-200 p-4 rounded-xl hover:bg-amber-50 hover:border-amber-300 transition-all cursor-pointer relative overflow-hidden",children:[w.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-amber-400"}),w.jsxs("div",{className:"flex justify-between items-start pl-2",children:[w.jsxs("div",{children:[w.jsxs("h4",{className:"font-bold text-slate-800 text-sm flex items-center gap-2",children:[g.title||g.disease_name,w.jsx("span",{className:"text-[10px] bg-white border border-amber-200 px-2 py-0.5 rounded-full text-amber-700 font-normal",children:g.source_name})]}),w.jsx("p",{className:"text-sm text-slate-600 mt-1 line-clamp-2",children:g.quick_summary})]}),w.jsx("div",{className:"p-2 bg-white rounded-lg text-slate-300 group-hover:text-blue-600 shadow-sm",children:w.jsx(Gd,{size:16})})]}),w.jsxs("div",{className:"mt-2 pl-2 flex items-center gap-1 text-[10px] font-bold text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity",children:["Xem chi tit phc  ",w.jsx(k1,{size:10})]})]},g.id))})]})]})}),w.jsx(wR,{isOpen:!!h,onClose:()=>f(null),guideline:h})]})},xR=()=>{const{t:e}=sn(),{register:t,watch:n,setValue:r}=Ko(),o=n("plan.status");return w.jsx("div",{id:"sec-plan",className:"scroll-mt-24",children:w.jsxs(wi,{title:e.plan,icon:lv,children:[w.jsxs("div",{className:"mb-6",children:[w.jsx(Yn,{label:e.status}),w.jsx(dh,{options:["admitted","outpatient"],labels:[e.admitted,e.outpatient],selected:o,onChange:a=>r("plan.status",a)})]}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[w.jsxs("div",{children:[w.jsx(Yn,{label:e.meds}),w.jsx(e0,{items:n("plan.treatmentMeds"),onChange:a=>r("plan.treatmentMeds",a),t:e,type:"med"})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx(Br,{label:e.treatmentGoal,placeholder:e.ph_note,...t("plan.notes")}),w.jsx(Bn,{label:e.surgery,...t("plan.surgery")}),w.jsx(Br,{label:e.nonPharm,...t("plan.nonPharm")})]})]})]})})},_R=({data:e})=>{const{t}=sn();if(!e)return null;const n=e.plan?.treatmentMeds?.length>0?e.plan.treatmentMeds:e.medications||[];return w.jsxs("div",{id:"print-template",className:"hidden print:block bg-white text-black p-8 max-w-[210mm] mx-auto font-serif leading-relaxed",children:[w.jsxs("div",{className:"flex justify-between items-start border-b-2 border-black pb-4 mb-6",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("h3",{className:"uppercase font-bold text-sm",children:"S Y T TP.HCM"}),w.jsx("h2",{className:"uppercase font-black text-lg",children:"MEDIGUIDE"}),w.jsx("p",{className:"text-xs italic",children:"C: 123 ng Nguyn Vn C, Q.5, TP.HCM"}),w.jsx("p",{className:"text-xs italic",children:"ST:9999999999"})]}),w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"uppercase font-black text-2xl mb-1",children:"N THUC"}),w.jsxs("p",{className:"text-sm font-bold border border-black px-2 py-1 inline-block",children:["M HS: ",e.id?.slice(0,8).toUpperCase()||"..........."]})]})]}),w.jsxs("div",{className:"mb-4 space-y-2 text-sm",children:[w.jsxs("div",{className:"flex gap-8",children:[w.jsxs("p",{children:[w.jsx("span",{className:"font-bold",children:"H tn:"})," ",w.jsx("span",{className:"uppercase font-bold text-lg",children:e.demo?.name})]}),w.jsxs("p",{children:[w.jsx("span",{className:"font-bold",children:"Tui:"})," ",e.demo?.age]}),w.jsxs("p",{children:[w.jsx("span",{className:"font-bold",children:"Gii tnh:"})," ",e.demo?.gender==="male"?"Nam":"N"]})]}),w.jsxs("div",{className:"flex gap-8",children:[w.jsxs("p",{children:[w.jsx("span",{className:"font-bold",children:"a ch/Phng:"})," ",e.demo?.room?`P.${e.demo.room}`:"................................"]}),w.jsxs("p",{children:[w.jsx("span",{className:"font-bold",children:"Ngh nghip:"})," ",e.demo?.occupation||"...................."]})]}),e.exam?.vitals?.bp&&w.jsxs("div",{className:"flex gap-4 border-t border-dashed border-gray-400 pt-2 mt-2 font-mono text-xs",children:[w.jsxs("span",{children:["Mch: ",e.exam.vitals.pulse," l/p"]}),w.jsxs("span",{children:["HA: ",e.exam.vitals.bp," mmHg"]}),w.jsxs("span",{children:["Nhit: ",e.exam.vitals.temp,"C"]}),w.jsxs("span",{children:["SpO2: ",e.exam.vitals.spo2,"%"]}),w.jsxs("span",{children:["Cn nng: ",e.exam.vitals.weight||"..."," kg"]})]})]}),w.jsxs("div",{className:"mb-6 space-y-2",children:[w.jsxs("div",{className:"flex gap-2",children:[w.jsx("span",{className:"font-bold min-w-[100px]",children:"Chn on:"}),w.jsxs("div",{className:"flex-1 border-b border-dotted border-gray-400",children:[w.jsx("span",{className:"font-bold text-lg",children:e.diagnosis?.final}),e.diagnosis?.icd10&&w.jsxs("span",{className:"ml-2 font-mono font-bold",children:["(",e.diagnosis.icd10,")"]})]})]}),e.diagnosis?.preliminary&&w.jsxs("div",{className:"flex gap-2 text-sm",children:[w.jsx("span",{className:"font-bold min-w-[100px]",children:"S b/Km theo:"}),w.jsx("span",{className:"flex-1 italic",children:e.diagnosis.preliminary})]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h3",{className:"font-bold border-b border-black mb-3 uppercase text-sm",children:"Ch nh iu tr"}),n.length>0?w.jsxs("table",{className:"w-full text-sm mb-4",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"border-b border-gray-300 text-left",children:[w.jsx("th",{className:"py-2 w-10",children:"#"}),w.jsx("th",{className:"py-2",children:"Tn thuc / Hm lng"}),w.jsx("th",{className:"py-2 w-24",children:"S lng"}),w.jsx("th",{className:"py-2 w-48",children:"Cch dng"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map((r,o)=>w.jsxs("tr",{className:"align-top",children:[w.jsx("td",{className:"py-2 font-bold",children:o+1}),w.jsx("td",{className:"py-2",children:w.jsx("p",{className:"font-bold text-base",children:r.name})}),w.jsx("td",{className:"py-2 font-bold text-lg",children:r.quantity||"..."}),w.jsxs("td",{className:"py-2 italic",children:[r.dose?`Sng ${r.dose.split("/")[0]||"-"}, Chiu ${r.dose.split("/")[1]||"-"}`:"",w.jsx("br",{}),r.route||"Ung"]})]},o))})]}):w.jsx("p",{className:"italic text-gray-400 text-center py-4",children:"-- Khng c thuc --"}),w.jsx("div",{className:"bg-gray-50 border border-gray-200 p-3 rounded-lg text-sm mt-4",children:w.jsxs("p",{children:[w.jsx("span",{className:"font-bold underline",children:"Li dn:"})," ",e.plan?.notes||e.plan?.nonPharm||"Ti khm khi ht thuc."]})})]}),w.jsx("div",{className:"flex justify-end mt-10",children:w.jsxs("div",{className:"text-center min-w-[200px]",children:[w.jsxs("p",{className:"italic text-sm",children:["Ngy ",new Date().getDate()," thng ",new Date().getMonth()+1," nm ",new Date().getFullYear()]}),w.jsx("p",{className:"font-bold uppercase text-sm mt-1",children:"Bc s iu tr"}),w.jsx("div",{className:"h-24"})," ",w.jsx("p",{className:"font-bold text-lg",children:e.user_email?`Bs. ${e.user_email.split("@")[0]}`:"........................."})]})})]})},kR=({isOpen:e,onClose:t,medicalData:n,onSelect:r})=>{const[o,a]=Z.useState("");if(!e)return null;const l=(n||[]).filter(c=>c.title?.toLowerCase().includes(o.toLowerCase())||c.id?.toLowerCase().includes(o.toLowerCase()));return w.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[w.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),w.jsxs("div",{className:"relative w-full max-w-4xl bg-white rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[85vh] animate-in zoom-in-95",children:[w.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"bg-blue-600 text-white p-2 rounded-lg",children:w.jsx(v1,{size:20})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-black text-slate-800",children:"Th vin Kin thc Y khoa"}),w.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Cp nht t B Y T & Hip hi"})]})]}),w.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 rounded-full",children:w.jsx(Wo,{size:20})})]}),w.jsx("div",{className:"p-4 border-b border-slate-100",children:w.jsx(Bn,{placeholder:"Tm tn bnh, triu chng...",icon:Jd,value:o,onChange:c=>a(c.target.value),autoFocus:!0})}),w.jsx("div",{className:"overflow-y-auto flex-1 p-4 bg-slate-50/50",children:l.length>0?w.jsx("div",{className:"space-y-4",children:l.map(c=>w.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm hover:border-blue-300 transition-all",children:[w.jsxs("div",{className:"flex justify-between items-start mb-3",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"text-lg font-bold text-blue-700",children:c.title}),w.jsxs("p",{className:"text-xs text-slate-400 font-mono",children:[c.group," | ",c.source]})]}),w.jsx("button",{onClick:()=>r&&r(c),className:"px-3 py-1 bg-blue-50 text-blue-600 text-xs font-bold rounded-lg hover:bg-blue-100",children:"Chn bnh ny"})]}),w.jsx("p",{className:"text-sm text-slate-600 italic mb-4 border-l-2 border-blue-200 pl-3",children:c.definition}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[c.symptoms&&w.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-100",children:[w.jsxs("strong",{className:"text-orange-700 flex items-center gap-1 mb-2",children:[w.jsx(iv,{size:14})," Triu chng"]}),w.jsx("ul",{className:"list-disc pl-4 space-y-1 text-slate-700",children:c.symptoms.map((h,f)=>w.jsx("li",{children:h},f))})]}),c.treatment_steps&&w.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100",children:[w.jsxs("strong",{className:"text-green-700 flex items-center gap-1 mb-2",children:[w.jsx(lv,{size:14})," Hng iu tr"]}),w.jsx("ul",{className:"list-decimal pl-4 space-y-1 text-slate-700",children:c.treatment_steps.map((h,f)=>w.jsx("li",{children:h},f))})]})]})]},c.id))}):w.jsx("div",{className:"text-center py-12 text-slate-400",children:w.jsx("p",{children:"Khng tm thy kt qu."})})})]})]})},SR=({sections:e})=>{const[t,n]=Z.useState("");Z.useEffect(()=>{const o=new IntersectionObserver(a=>{a.forEach(l=>{l.isIntersecting&&n(l.target.id)})},{rootMargin:"-100px 0px -60% 0px"});return e.forEach(({id:a})=>{const l=document.getElementById(a);l&&o.observe(l)}),()=>o.disconnect()},[e]);const r=o=>{const a=document.getElementById(o);if(a){const h=a.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:h,behavior:"smooth"})}};return w.jsxs("nav",{className:"hidden lg:block sticky top-24 h-fit max-h-[calc(100vh-8rem)] overflow-y-auto pr-2 pl-4 border-l border-slate-200",children:[w.jsx("h4",{className:"font-black text-[10px] text-slate-400 uppercase tracking-widest mb-4",children:"Mc lc nhanh"}),w.jsx("div",{className:"space-y-1",children:e.map(({id:o,label:a,icon:l})=>w.jsxs("button",{onClick:()=>r(o),className:mt("group flex items-center gap-3 w-full text-left py-2 px-3 rounded-lg text-sm font-medium transition-all",t===o?"bg-blue-50 text-blue-700 shadow-sm":"text-slate-500 hover:bg-slate-50 hover:text-slate-900"),children:[l&&w.jsx(l,{size:16,className:mt("transition-colors",t===o?"text-blue-600":"text-slate-400 group-hover:text-slate-600")}),w.jsx("span",{className:"truncate",children:a})]},o))})]})},Ey=({session:e})=>{const{t}=sn(),{id:n}=gx(),r=qo(),{saveRecord:o,fetchRecord:a,loading:l}=yv(),[c,h]=Z.useState(null),[f,m]=Z.useState(!1),[g,b]=Z.useState([]),v=GS({resolver:xT(Vj),defaultValues:{demo:{gender:"male"},medications:[],files:{hemo_bio:[],imaging:[]},plan:{treatmentMeds:[]}}}),{reset:k,handleSubmit:_,watch:E,setValue:j}=v;Z.useEffect(()=>{(async()=>{if(n&&n!=="new"){const ne=await a(n);ne?k(ne):(h({message:"Khng tm thy h s hoc bn khng c quyn truy cp!",type:"error"}),setTimeout(()=>{r("/")},2e3))}})()},[n,a,k,r]),Z.useEffect(()=>{(async()=>{const{data:ne,error:fe}=await nt.from("medical_knowledge").select("*");fe?console.error("Li ti th vin:",fe):b(ne||[])})()},[]);const I=async L=>{const ne=await o(L,n);ne.success?(h({message:ne.message,type:"success"}),n==="new"&&r(`/record/${ne.id}`)):h({message:ne.message,type:"error"})},z=L=>{if(L.preliminary_diagnosis&&j("diagnosis.preliminary",L.preliminary_diagnosis,{shouldDirty:!0}),L.treatment_steps&&L.treatment_steps.length>0){const ne=E("plan.notes")||"",fe=`
[Tham kho ${L.title}]:
- `+L.treatment_steps.join(`
- `);j("plan.notes",ne+fe,{shouldDirty:!0})}m(!1),h({message:` p dng kin thc: ${L.title}`,type:"success"})},V=()=>{h({message:"Tnh nng AI ang c pht trin...",type:"info"})};if(l&&!v.formState.isDirty)return w.jsxs("div",{className:"h-screen flex flex-col items-center justify-center gap-3 bg-slate-50",children:[w.jsx(ws,{className:"animate-spin text-blue-600",size:40}),w.jsx("p",{className:"text-slate-400 font-bold text-sm animate-pulse",children:"ang ti d liu h s..."})]});const G=[{id:"sec-demo",label:t.demo},{id:"sec-history",label:t.history},{id:"sec-exam",label:t.exam},{id:"sec-prelim",label:t.prelim},{id:"sec-final",label:t.final},{id:"sec-plan",label:t.plan}];return w.jsxs("div",{className:"max-w-7xl mx-auto pb-20 p-4 md:p-8",children:[c&&w.jsx(Ul,{message:c.message,type:c.type,onClose:()=>h(null)}),w.jsxs("div",{className:"flex justify-between items-center mb-6 sticky top-0 bg-slate-50/90 backdrop-blur-sm z-30 py-4 px-2 border-b border-slate-200/50",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-black text-slate-800 flex items-center gap-2",children:n==="new"?t.newRecord:"Chnh sa h s"}),w.jsx("p",{className:"text-xs text-slate-400 font-medium",children:n!=="new"?`ID: ${n}`:"To h s khm bnh mi"})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>window.print(),className:"p-3 bg-white text-slate-600 rounded-xl hover:bg-slate-100 border border-slate-200 shadow-sm print:hidden transition-colors",title:"In h s",children:w.jsx($1,{size:20})}),w.jsxs("button",{onClick:_(I),disabled:l,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 shadow-lg shadow-blue-500/30 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed",children:[l?w.jsx(ws,{className:"animate-spin",size:20}):w.jsx(D1,{size:20}),w.jsx("span",{children:t.save})]})]})]}),w.jsx(IS,{...v,children:w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[w.jsxs("div",{className:"lg:col-span-9 space-y-8",children:[w.jsx(Hj,{}),w.jsx(Wj,{}),w.jsx(Kj,{}),w.jsx(bR,{onAiGenerate:V}),w.jsx(xR,{})]}),w.jsx("div",{className:"hidden lg:block lg:col-span-3 sticky top-24",children:w.jsx(SR,{sections:G})})]})}),w.jsx(_R,{data:{...E(),id:n||"new",user_email:e?.user?.email}}),w.jsx(kR,{isOpen:f,onClose:()=>m(!1),medicalData:g,onSelect:z}),w.jsx("button",{onClick:()=>m(!0),className:"fixed bottom-6 left-6 z-40 bg-slate-900 text-white p-4 rounded-full shadow-2xl hover:bg-slate-800 hover:scale-110 transition-transform print:hidden group",title:"Th vin Y khoa",children:w.jsx(vs,{size:24,className:"group-hover:animate-pulse"})})]})},ER=()=>{const e=qo(),[t,n]=Z.useState(null);return Z.useEffect(()=>{(async()=>{const{data:{user:o}}=await nt.auth.getUser();n(o)})()},[]),w.jsx("div",{className:"min-h-screen bg-[#F8FAFC] p-4 md:p-10",children:w.jsxs("div",{className:"max-w-3xl mx-auto",children:[w.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-gray-500 font-bold mb-6 hover:text-blue-600 transition-colors",children:[w.jsx(x1,{size:20})," Quay li Dashboard"]}),w.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-8",children:"Ti khon"}),w.jsxs("div",{className:"space-y-6",children:[w.jsx(wi,{title:"Thng tin c nhn",icon:Dl,children:w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 flex items-center justify-center text-white text-2xl font-bold",children:t?.email?.[0]?.toUpperCase()}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-500 font-bold uppercase",children:"Email ng nhp"}),w.jsx("p",{className:"text-xl font-medium text-gray-900",children:t?.email})]})]})}),w.jsxs("button",{onClick:()=>nt.auth.signOut(),className:"w-full p-4 border border-red-200 bg-red-50 text-red-600 font-bold rounded-xl hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[w.jsx(av,{size:20})," ng xut"]})]})]})})};function CR(){const[e,t]=Z.useState(null),[n,r]=Z.useState(!0);return Z.useEffect(()=>{nt.auth.getSession().then(({data:{session:a}})=>{t(a),r(!1)});const{data:{subscription:o}}=nt.auth.onAuthStateChange((a,l)=>{t(l)});return()=>o.unsubscribe()},[]),n?w.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-slate-50 gap-3",children:[w.jsx(ws,{className:"animate-spin text-blue-600",size:40}),w.jsx("p",{className:"text-sm font-bold text-slate-400 tracking-widest uppercase",children:"MediGuide Loading..."})]}):w.jsx(nv,{children:w.jsx(zx,{children:w.jsxs(Ax,{children:[w.jsx(hi,{path:"/auth",element:e?w.jsx(Gi,{to:"/"}):w.jsx(ES,{})}),w.jsx(hi,{path:"/",element:e?w.jsx(hl,{session:e,onLogout:()=>nt.auth.signOut(),children:w.jsx(CS,{})}):w.jsx(Gi,{to:"/auth"})}),w.jsx(hi,{path:"/record/new",element:e?w.jsx(hl,{session:e,onLogout:()=>nt.auth.signOut(),children:w.jsx(Ey,{session:e})}):w.jsx(Gi,{to:"/auth"})}),w.jsx(hi,{path:"/record/:id",element:e?w.jsx(hl,{session:e,onLogout:()=>nt.auth.signOut(),children:w.jsx(Ey,{session:e})}):w.jsx(Gi,{to:"/auth"})}),w.jsx(hi,{path:"/profile",element:e?w.jsx(hl,{session:e,onLogout:()=>nt.auth.signOut(),children:w.jsx(ER,{})}):w.jsx(Gi,{to:"/auth"})}),w.jsx(hi,{path:"*",element:w.jsx(Gi,{to:"/",replace:!0})})]})})})}Mb.createRoot(document.getElementById("root")).render(w.jsx(st.StrictMode,{children:w.jsx(nv,{children:w.jsx(CR,{})})}));
